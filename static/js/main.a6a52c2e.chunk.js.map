{"version":3,"sources":["serviceWorker.ts","Services/Geo.ts","Services/API.ts","Services/Preferences.ts","Components/Login.tsx","Components/Order/ProductGrid.tsx","Components/Order/ConfirmOrder.tsx","Services/Calcs.ts","Services/Validation.ts","Components/Input.tsx","Components/Order/Data.tsx","Components/Order/Payment.tsx","Components/Order/Survey.tsx","Components/Message.tsx","Components/RouteMessage.tsx","Components/Order/Processing.ts","Components/Order/index.tsx","Components/OrderList/OrderDetails.tsx","Components/OrderList/index.tsx","Components/Feed/RankingCard.tsx","Components/Feed/LineCard.tsx","Components/Feed/ProfitCard.tsx","Components/Feed/PieCard.tsx","Components/Feed/BarCard.tsx","Components/Feed/index.tsx","Components/Reports/ProductSales.tsx","Components/Reports/index.tsx","Layouts/Main.tsx","Layouts/SignIn.tsx","App.tsx","index.tsx"],"names":["Boolean","window","location","hostname","match","GeoCoder","DOMAIN","KEY","body","this","F","method","id","array_items","join","params","param_str","Object","keys","length","URLSearchParams","toString","URI","options","DEFAULTS","cache","mode","ops","headers","JSON","stringify","fetch","then","response","ok","json","clone","catch","text","x","message","status","statusText","obj","ex","prefix","Preferences","_prefix","_key_","key","localStorage","getItem","parse","value","undefined","value_txt","setItem","removeItem","Login","props","state","loading","user","pwd","error","isPasswordVisible","handleChange","bind","handleSubmit","handlePassword","API","Get","event","currentTarget","name","setState","setTimeout","requestAnimationFrame","document","getElementById","focus","preventDefault","trim","r","Set","onLoggedIn","prev","style","paddingTop","Card","width","maxWidth","margin","textAlign","onSubmit","CardContent","src","alt","height","minHeight","TextField","inputProps","onChange","label","fullWidth","disabled","defaultStyle","type","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","VisibilityOff","Visibility","Typography","color","variant","Button","Divider","display","component","Link","to","React","Component","marginTop","marginBottom","ProductGrid","visible_style","visible","Grid","container","alignItems","flex","overflow","spacing","items","map","item","sm","md","xs","CardMedia","objectFit","image","imgSrc","flexDirection","nombre","pvp_final","toFixed","CardActions","onActionChanged","Add","cantidad","Remove","ConfirmOrder","show_next_discount","descuento","total","subtotal","porcentaje","valor","List","Row","col1","col2","col3","sgte_descuento_porcentaje","ListItem","sgte_descuento_falta","QUITO_BOUNDS","west","north","east","south","QUITO","lat","lng","Promise","resolve","reject","console","info","navigator","geolocation","PositionByIP","getCurrentPosition","geoLocation","coords","latitude","longitude","fromGPS","bounds","google","maps","Geocoder","geocode","results","first","inputText","place","route","street_number","i","address_components","ii","types","short_name","long_name","find","formatted_address","AddressText","address","DocToString","doc","ValidateInput","isDigit","twoParts","split","indexOf","ValidarIdentificacion","documento","numero","vacioEstaBien","exito","mensaje","esValido","isNaN","parseFloat","isNumber","residuo","p1","p2","p3","p4","p5","p6","p7","p8","p9","pri","pub","nat","modulo","d1","substr","d2","d3","d4","d5","d6","d7","d8","d9","d10","d11","d12","d13","digitoVerificador","validadorCedulaRuc","char","Input","_props","other_props","helperText","children","Location","defaultCenter","mapRef","virtualMarker","handleMapMounted","handleDragStart","handleDragEnd","Geo","currentPosition","onValueChange","classList","add","PlaceFromCoords","getCenter","d","warn","remove","createElement","className","getDiv","appendChild","direccion","ciudad","referencia","sector","identificacion","razonSocial","direccion_factura","telefono_factura","email_factura","identificacion_e","telefono_e","tel","email_e","email","Paper","padding","marginLeft","multiline","rows","select","SelectProps","native","maxLength","PureComponent","marginRight","onDone","inputMode","numeroTransaccion","CircularProgress","size","withRouter","txt1","txt2","handleClose","unblock","history","block","goBack","ActionOrder","action","alert","Dialog","open","onClose","DialogContent","title","autoFocus","DialogActions","Message","DialogTitle","focusafter","search","get","isEmpty","val","OrderState","guardarBorrador","isDirty","choosen","productList","filter","observacion","push","path","a","b","handleTab","handleAction","handleValueChange","handleDone","onMounted","tablaDescuentos","descuentos","onbeforeunload","_","unblockNavigation","routerWillLeave","GetProducts","updates","stored_direccion","hasOwnProperty","stored_factura","before","times","avoidIsDirty","currentTab","nextLocation","pathname","confirm","Processing","failed_msg","descuentoAplica","SaveOrder","detalle","descuentoPorcentaje","descuentoTotal","new_state","cant","cantidad_desde","result","Totals","sorted","sort","montoDesde","founded","desc","next","EstimarDescuento","remain_state","choosenItems","Tabs","Tab","Payment","RouteMessage","Survey","Fab","bottom","right","OrderDetails","_fechaEntrega","shouldRefresh","handleButton","estado","fechaEntrega","prompt","GetOrder","order","fechaCreacion","username","survey1","survey2","editable","TextRow","Date","toLocaleString","SectionHeader","href","target","data","msg","handleClick","handleMessage","GetOrders","err","code","refresh","rol","paddingBottom","overflowX","Hidden","xsDown","implementation","borderBottom","button","smUp","toLocaleDateString","EstadoToVariant","toDateString","render","RankingCard","secondColType","colType","CardHeader","index","value1","value2","date","ahora","getDate","getMonth","getFullYear","toLocaleTimeString","este_dia","DateToString","me","PerfomanceCell","paddingLeft","LineCard","legend","maintainAspectRatio","bezierCurve","scales","yAxes","ticks","maxTicksLimit","xAxes","labels","values","el","we","months","datasets","backgroundColor","borderColor","lineTension","fill","ProfitCard","month","year","reservas","promo","reduceMoney","borderLeft","dense","ListItemText","primary","ListItemSecondaryAction","PieCard","BardCard","scaleBeginAtZero","beginAtZero","Feed","week_ranking","group_graph","personal_graph","year_sales","product_resume","group_ranking","Stats","grupo","resume","createdAt","profit","ProductSales","desde","valueOf","hasta","toJSON","ProductSalesReport","ID","Table","TableHead","TableRow","TableCell","TableBody","idPedido","motivoAnulacion","descripcion","Reports","OPCIONES","Icon","Inbox","ShoppingCart","ListAlt","Report","withStyles","theme","drawer","breakpoints","up","flexShrink","toolbar","mixins","drawerPaper","content","flexGrow","appBar","selected","isMenuOpen","token","accesos","handleMenu","closeMenu","splice","classes","drawerChildren","o","ListItemIcon","Help","basename","CssBaseline","Drawer","anchor","paper","ModalProps","keepMounted","Close","AppBar","Toolbar","aria-label","edge","Menu","exact","SignIn","telefono","fechaNacimiento","nacionalidad","password","confirm_password","grupos","fin_registro","stopPropagation","Validar","GetGroups","noValidate","Password","g","guardar","parseInt","input_props","FormLabel","required","useState","show_password","setPassword","App","createHashHistory","handleLoggedIn","setPrefix","user_routes","ReactDOM","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a6a52c2e.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","var GeoCoder;\r\nclass GeoLocation {\r\n    currentPosition() {\r\n        return new Promise((resolve, reject) => {\r\n            console.info(\"obteniendo posicion actual con navigator.geolocation.getCurrentPosition\");\r\n            if (!navigator.geolocation) {\r\n                console.info(\"navigator.geolocation.getCurrentPosition no existe en este navegador, intentando con PositionByIP()\");\r\n                return PositionByIP().then(resolve).catch(reject);\r\n            }\r\n            navigator.geolocation.getCurrentPosition(geoLocation => {\r\n                console.info(\"navigator.geolocation.getCurrentPosition ha obtenido la posicion\");\r\n                resolve({\r\n                    lat: geoLocation.coords.latitude,\r\n                    lng: geoLocation.coords.longitude,\r\n                    fromGPS: true\r\n                });\r\n            }, () => {\r\n                console.info(\"navigator.geolocation.getCurrentPosition falló, intentando con PositionByIP()\");\r\n                PositionByIP().then(resolve).catch(reject);\r\n            }\r\n            );\r\n        });\r\n    }\r\n    CanUseGPS() {\r\n        return new Promise((resolve, reject) => {\r\n            if (!navigator.geolocation) return reject();\r\n            navigator.geolocation.getCurrentPosition(resolve, reject);\r\n        });\r\n    }\r\n    PlaceFromCoords(location, bounds?): Promise<{ inputText: string }> {\r\n        const { google } = window as any;\r\n        if (!GeoCoder) GeoCoder = new google.maps.Geocoder();\r\n        return new Promise((resolve, reject) => {\r\n            GeoCoder.geocode({ location, bounds: bounds || this.QUITO_BOUNDS }, (results, status) => {\r\n                if (status === \"ZERO_RESULTS\") {\r\n                    return reject({ status, message: \"No se encontraron resultados\" });\r\n                }\r\n                const first = results.length && results[0];\r\n                if (!first) return reject({ message: \"No se encontraron resultados\" });\r\n                first.inputText = AddressText(first);\r\n                resolve(first);\r\n            });\r\n        })\r\n    }\r\n    CoordsFromPlace(address, bounds?) {\r\n        const { google } = window as any;\r\n        if (!GeoCoder) GeoCoder = new google.maps.Geocoder();\r\n        return new Promise((resolve, reject) => {\r\n            GeoCoder.geocode({ address, bounds: bounds || this.QUITO_BOUNDS }, (results, status) => {\r\n                if (status === \"ZERO_RESULTS\") {\r\n                    return reject({ status, message: \"No se encontraron resultados\" });\r\n                }\r\n                const first = results.length && results[0];\r\n                if (!first) return reject({ message: \"No se encontraron resultados\" });\r\n                resolve(first);\r\n            });\r\n        })\r\n    }\r\n    QUITO_BOUNDS = {\r\n        west: -78.85300,\r\n        north: -0.04875,\r\n        east: -78.17184,\r\n        south: -0.39207\r\n    }\r\n    QUITO = {\r\n        lat: -0.189515,\r\n        lng: -78.488167\r\n    }\r\n}\r\nexport default new GeoLocation();\r\n\r\n\r\nfunction AddressText(place) {\r\n    var route;\r\n    var street_number;\r\n    for (let i = 0; i < place.address_components.length; i++) {\r\n        const component = place.address_components[i];\r\n        for (let ii = 0; ii < component.types.length; ii++) {\r\n            const type = component.types[ii];\r\n            if (type === \"street_address\") return component.short_name || component.long_name;\r\n            if (component.types.find(x => x === \"street_number\") && component.types.find(x => x === \"route\"))\r\n                return component.short_name || component.long_name;\r\n\r\n            if (type === \"route\" && !route) route = component.short_name || component.long_name;\r\n            if (type === \"street_number\" && !street_number) street_number = component.short_name || component.long_name;\r\n        }\r\n    }\r\n    if (route && street_number) return route + \" \" + street_number;\r\n    return place.formatted_address;\r\n}\r\nfunction PositionByIP() {\r\n    return fetch(\"https://ipapi.co/json/\").then(x => x.json())\r\n        .then(info => ({ lat: info.latitude, lng: info.longitude }));\r\n}","const DOMAIN = \"https://natuapp.ue.r.appspot.com\";\r\n//const DOMAIN = \"http://localhost:9000\";\r\n\r\nclass API {\r\n    KEY = \"\";\r\n    Login(body) { return this.F(\"user/login\", { body, method: \"POST\" }); }\r\n    GetProducts() { return this.F(\"product\"); }\r\n    GetOrders(): Promise<Order[]> { return this.F(\"order\"); }\r\n    GetOrder(id: number): Promise<Order> { return this.F(\"order/\" + id); }\r\n    SaveOrder(body: Order) { return this.F(\"order\", { method: \"POST\", body }); }\r\n    ActionOrder(id: number | string, body: ActionBody) { return this.F(\"order/\" + id, { method: \"PUT\", body }); }\r\n    Stats(array_items) { return this.F(\"dashboard?data=\" + array_items.join(\",\")); }\r\n    ProductSalesReport(params: { desde: string, hasta: string, estado: any }) {\r\n        var param_str = \"\";\r\n        if (params && Object.keys(params).length)\r\n            param_str = \"?\" + new URLSearchParams(params).toString();\r\n\r\n        return this.F(\"reports/product-sales\" + param_str);\r\n    }\r\n    GetGroups() { return this.F(\"user/groups\"); }\r\n    SignIn(body: any) { return this.F(\"user\", { method: \"POST\", body }); }\r\n\r\n    private F(URI, options: SpecialRequest = {}) {\r\n        const DEFAULTS: any = {\r\n            method: \"GET\",\r\n            cache: \"reload\",\r\n            mode: \"cors\"\r\n        };\r\n        var ops: RequestInit = { ...DEFAULTS, ...options };\r\n        if (!ops.headers) ops.headers = {};\r\n        ops.headers['Content-Type'] = 'application/json';\r\n        ops.headers['Access-Control-Allow-Origin'] = '*';\r\n\r\n        if (this.KEY) {\r\n            if (!ops.headers) ops.headers = {};\r\n            ops.headers[\"Authorization\"] = 'Basic ' + this.KEY;\r\n        }\r\n\r\n        if (ops.body && (typeof ops.body !== typeof \"\"))\r\n            ops.body = JSON.stringify(ops.body);\r\n\r\n        return fetch(DOMAIN + \"/\" + URI, ops).then(response => {\r\n            if (response.ok) return response.json();\r\n            return response.clone().json()\r\n                .catch(() => {\r\n                    return response.text().then(x => {\r\n                        throw {\r\n                            message: x,\r\n                            status: response.status,\r\n                            statusText: response.statusText\r\n                        }\r\n                    })\r\n                }).then(obj => {\r\n                    throw {\r\n                        ...obj,\r\n                        status: response.status,\r\n                        statusText: response.statusText\r\n                    }\r\n                })\r\n        }).catch(ex => {\r\n            if (ex.message === \"Failed to fetch\") {\r\n                throw {\r\n                    message: \"Este servicio no se encuentra disponible por el momento. Intentelo más tarde.\",\r\n                    status: 0\r\n                }\r\n            }\r\n            if (!ex.message) ex.message = ex.statusText;\r\n            throw ex;\r\n        });\r\n    }\r\n}\r\nexport default new API();\r\n\r\ninterface SpecialRequest extends RequestInit {\r\n    body?: any\r\n}\r\n\r\ninterface ActionBody {\r\n    action: \"SURVEY\" | \"APROBAR\" | \"RECHAZAR\" | \"ENTREGAR\", value: any\r\n}","var prefix = \"\";\r\nexport default class Preferences {\r\n    static setPrefix(_prefix: string) {\r\n        prefix = _prefix || \"\";\r\n    }\r\n    static Get(_key_: \"current_order\" | \"direccion\" | \"user\" | \"factura\") {\r\n        var key = prefix + _key_;\r\n        var x = window.localStorage.getItem(key);\r\n        try {\r\n            return JSON.parse(x);\r\n        } catch (ex) { }\r\n        return x;\r\n    }\r\n    static Set(_key_: \"current_order\" | \"direccion\" | \"user\" | \"factura\", value: any = undefined) {\r\n        var key = prefix + _key_;\r\n        if (value === undefined) {\r\n            window.localStorage.removeItem(key);\r\n            return;\r\n        } else if (value === null) {\r\n            window.localStorage.removeItem(key);\r\n            return;\r\n        }\r\n        var value_txt = value;\r\n        if (typeof value === typeof {})\r\n            value_txt = JSON.stringify(value);\r\n\r\n        window.localStorage.setItem(key, value_txt);\r\n    }\r\n}","import React from \"react\";\r\nimport { Card, CardContent, TextField, Button, InputAdornment, IconButton, Typography, Divider } from \"@material-ui/core\";\r\nimport API from \"../Services/API\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Preferences from \"../Services/Preferences\";\r\n\r\nexport default class Login extends React.Component<{ onLoggedIn: (params: LoggedIn) => void }, LoginState> {\r\n    state = {\r\n        loading: false,\r\n        user: \"\",\r\n        pwd: \"\",\r\n        error: null,\r\n        isPasswordVisible: false\r\n    }\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handlePassword = this.handlePassword.bind(this);\r\n        API.KEY = \"\";\r\n        this.state.user = Preferences.Get(\"user\") || \"\";\r\n    }\r\n    handleChange(event: React.ChangeEvent<HTMLInputElement>) {\r\n        const { name, value } = event.currentTarget;\r\n        this.setState({\r\n            [name]: value\r\n        } as any);\r\n    }\r\n    componentDidMount() {\r\n        setTimeout(() =>\r\n            window.requestAnimationFrame(() => {\r\n                if (this.state.user) {\r\n                    document.getElementById(\"password-textfield\").focus();\r\n                } else {\r\n                    document.getElementById(\"user-textfield\").focus();\r\n                }\r\n            }), 100);\r\n    }\r\n    handleSubmit(event: any) {\r\n        event.preventDefault();\r\n        if (this.state.loading) return;\r\n        const user = this.state.user && this.state.user.toString().trim();\r\n        const pwd = this.state.pwd && this.state.pwd.toString().trim();\r\n        if (!user) return this.setState({ error: { message: \"Digite su usuario\" } });\r\n        if (!pwd) return this.setState({ error: { message: \"Digite su contraseña\" } });\r\n        this.setState({ loading: true, error: null });\r\n        API.Login({ user, pwd })\r\n            .then(r => {\r\n                // importante, se debe ejecutar ANTES de onLoggedIn\r\n                Preferences.Set(\"user\", user);\r\n                this.setState({ loading: null });\r\n                this.props.onLoggedIn({ ...r });\r\n            })\r\n            .catch(error => this.setState({ loading: null, error }));\r\n    }\r\n    handlePassword(event) {\r\n        this.setState(prev => {\r\n            const state = { ...prev };\r\n            state.isPasswordVisible = !state.isPasswordVisible;\r\n            return state;\r\n        });\r\n    }\r\n    render() {\r\n        const { loading, error, user, pwd, isPasswordVisible } = this.state;\r\n        return (<div style={{ paddingTop: 20 }}>\r\n            <Card style={{ width: \"100%\", maxWidth: 300, margin: \"auto\", textAlign: \"center\" }}>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <CardContent>\r\n                        <img src=\"http://natucosmetic.com/wp-content/uploads/2020/03/LOGO-NATU-PNG.png\" alt=\"Logo\"\r\n                            style={{ height: 150, minHeight: 150, width: \"auto\" }} />\r\n                        <TextField\r\n                            inputProps={{ id: \"user-textfield\" }}\r\n                            onChange={this.handleChange}\r\n                            value={user}\r\n                            label=\"Usuario\"\r\n                            name=\"user\"\r\n                            fullWidth\r\n                            disabled={loading}\r\n                            style={defaultStyle}\r\n                        />\r\n                        <TextField\r\n                            onChange={this.handleChange}\r\n                            value={pwd}\r\n                            name=\"pwd\"\r\n                            label=\"Contraseña\"\r\n                            type={isPasswordVisible ? \"input\" : \"password\"}\r\n                            fullWidth\r\n                            disabled={loading}\r\n                            style={defaultStyle}\r\n                            inputProps={{ id: \"password-textfield\" }}\r\n                            InputProps={{\r\n                                endAdornment: <InputAdornment position=\"end\">\r\n                                    <IconButton onClick={this.handlePassword}>\r\n                                        {isPasswordVisible ? <VisibilityOff /> : <Visibility />}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            }}\r\n                        />\r\n                        {error && <Typography color=\"secondary\" variant=\"body1\" style={{ textAlign: \"center\" }}>{error.message}</Typography>}\r\n                        <Button type=\"submit\" variant=\"outlined\" style={defaultStyle} color=\"primary\" disabled={loading} fullWidth >\r\n                            {loading ? \"CARGANDO...\" : \"ENTRAR\"}\r\n                        </Button>\r\n\r\n                        <Divider style={{ margin: 20 }} />\r\n\r\n                        <Typography style={{ display: \"block\", textAlign: \"center\", margin: 5 }} variant=\"body2\" component={Link} to=\"/recover-password\">Olvidé mi contraseña</Typography>\r\n                        <Typography style={{ display: \"block\", textAlign: \"center\", margin: 5 }} variant=\"body2\" component={Link} to=\"/signin\">No eres asesor/a natú? Registrate aquí!</Typography>\r\n                    </CardContent>\r\n                </form>\r\n            </Card>\r\n        </div>)\r\n    }\r\n}\r\nconst defaultStyle = {\r\n    marginTop: 10,\r\n    marginBottom: 10\r\n}\r\n\r\nclass LoginState {\r\n    user = \"\";\r\n    pwd = \"\";\r\n    loading = false;\r\n    isPasswordVisible = false;\r\n    error = null;\r\n}","import React from \"react\";\r\nimport { Grid, Card, CardContent, CardActions, CardMedia, Typography, IconButton } from \"@material-ui/core\";\r\nimport { Add, Remove } from \"@material-ui/icons\";\r\n\r\nexport default function\r\n    ProductGrid(props: { onActionChanged: any, items: any[], visible: boolean }) {\r\n    const visible_style: any = {}\r\n    if (!props.visible) visible_style.display = \"none\";\r\n    return (<Grid\r\n        container\r\n        alignItems=\"center\"\r\n        style={{ flex: 1, overflow: \"auto\", marginTop: 5, ...visible_style }}\r\n        spacing={3}>\r\n        {props.items.map((item: any) => (<Grid key={item.id} item sm={6} md={4} xs={12}>\r\n            <Card>\r\n                <CardMedia component=\"img\" style={{ height: 180, objectFit: \"contain\" }} image={item.imgSrc || \"https://diegopq95.github.io/take-orders/img/default.png\"} />\r\n                <CardContent style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                    <Typography style={{ flex: 1, height: 60, overflow: \"hidden\" }} variant=\"subtitle1\">{item.nombre}</Typography>\r\n                    <Typography variant=\"h6\">$ {item.pvp_final.toFixed(2)}</Typography>\r\n                </CardContent>\r\n                <CardActions>\r\n                    <IconButton onClick={props.onActionChanged} name=\"+\" value={item.id}>\r\n                        <Add />\r\n                    </IconButton>\r\n                    <Typography variant=\"body1\">{item.cantidad}</Typography>\r\n                    <IconButton disabled={!(item.cantidad > 0)} onClick={props.onActionChanged} name=\"-\" value={item.id}>\r\n                        <Remove />\r\n                    </IconButton>\r\n                </CardActions>\r\n            </Card>\r\n        </Grid>))}\r\n    </Grid>)\r\n}","import React from \"react\";\r\nimport { List, ListItem, Typography } from \"@material-ui/core\";\r\nexport default function ConfirmOrder(props: {\r\n    items: any[],\r\n    subtotal: number,\r\n    total: number,\r\n    show_next_discount?: boolean,\r\n    descuento?: DescuentoCalc\r\n}) {\r\n    var { items, show_next_discount, descuento, total, subtotal } = props;\r\n    if (!descuento) descuento = { porcentaje: 0, valor: 0 };\r\n    return (<List>\r\n        {items.map(item => <Row key={item.id} col1={item.nombre} col2={item.cantidad} col3={\"$ \" + (item.pvp_final * item.cantidad).toFixed(2)} />)}\r\n        <Row col1={\"SUBTOTAL\"} col3={`$ ${subtotal.toFixed(2)}`} />\r\n        <Row col1={`TU GANANCIA (${descuento.porcentaje}%) EN ESTE PEDIDO`} col3={`$ ${descuento.valor.toFixed(2)}`} color=\"primary\" />\r\n        <Row col1={\"TOTAL\"} variant={\"subtitle2\"} col3={`$ ${total.toFixed(2)}`} />\r\n        {(show_next_discount && descuento.sgte_descuento_porcentaje)\r\n            ? <ListItem>\r\n                <Typography variant=\"subtitle1\" color=\"secondary\">{`Obtén el ${descuento.sgte_descuento_porcentaje}% de descuento agregando ${descuento.sgte_descuento_falta.toFixed(2)} USD más a tu pedido`}</Typography>\r\n            </ListItem>\r\n            : null}\r\n    </List>);\r\n}\r\n\r\n\r\nfunction Row(props: { col1: string, col2?: string | number, col3: string, color?: any, variant?: any }) {\r\n    const { col1, col2, col3, color, variant } = props;\r\n    return (<ListItem>\r\n        <div style={{ width: \"100%\", display: \"table\" }}>\r\n            <Typography color={color || \"initial\"} style={{ display: \"table-cell\" }} variant={variant || \"body1\"}>{col1}</Typography>\r\n            {col2 && <Typography color={color || \"initial\"} style={{ display: \"table-cell\", width: \"15%\", maxWidth: 100, textAlign: \"right\" }} variant={variant || \"body1\"}>{col2}</Typography>}\r\n            <Typography color={color || \"initial\"} style={{ display: \"table-cell\", width: \"25%\", maxWidth: 100, textAlign: \"right\" }} variant={variant || \"body1\"}>{col3}</Typography>\r\n        </div>\r\n    </ListItem>)\r\n}","export function Totals(items: any[]) {\r\n    const result = {\r\n        total: 0,\r\n        cantidad: 0\r\n    }\r\n    for (let i = 0; i < items.length; i++) {\r\n        const item = items[i];\r\n        result.cantidad += item.cantidad;\r\n        result.total += (item.pvp_final * item.cantidad);\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function EstimarDescuento(total: number, tablaDescuentos: Descuento[]) {\r\n    // de MAYOR a MENOR\r\n    var sorted = tablaDescuentos.sort((a, b) => b.montoDesde - a.montoDesde);\r\n    var founded = -1;\r\n    var results: DescuentoCalc = {\r\n        porcentaje: 0,\r\n        valor: 0,\r\n        sgte_descuento_porcentaje: 0,\r\n        sgte_descuento_falta: 0\r\n    }\r\n    for (let i = 0; i < sorted.length; i++) {\r\n        const d = sorted[i];\r\n        if (total >= d.montoDesde) {\r\n            founded = i;\r\n            break;\r\n        }\r\n    }\r\n    if (founded >= 0) {\r\n        var desc = sorted[founded];\r\n        results.porcentaje = desc.porcentaje;\r\n        results.valor = (total * desc.porcentaje / 100);\r\n        // si no es el ultimo, busco al siguiente en la tabla\r\n    }\r\n    // si no existe, simulo que es el (MAXIMO+1), es decir esta fuera del rango\r\n    if (founded === -1) founded = sorted.length;\r\n    if ((founded - 1) >= 0) {\r\n        var next = sorted[founded - 1];\r\n        if (next) {\r\n            results.sgte_descuento_falta = next.montoDesde - total;\r\n            results.sgte_descuento_porcentaje = next.porcentaje;\r\n        }\r\n    }\r\n    return results;\r\n}\r\n\r\nexport function DocToString(doc: \"1\" | \"2\" | \"3\") {\r\n    if (doc == \"1\") return \"RUC\";\r\n    if (doc == \"2\") return \"Cedula\";\r\n    if (doc == \"3\") return \"Pasaporte\";\r\n    return \"\";\r\n}","export class ValidateInput {\r\n    static tel(value) {\r\n        if (!value) return;\r\n        if (value.length < 7) return \"El número de telefono debe tener al menos 7 digitos\";\r\n        for (let i = 0; i < value.length; i++) {\r\n            if (!(value[i] === \"+\" || isDigit(value[i]) || value[i].trim() === \"\")) {\r\n                return \"El número debe tener uno de estos formatos: '09123456789' o '+5931234567890'\";\r\n            }\r\n        }\r\n    }\r\n    static email(value) {\r\n        if (!value) return;\r\n        if (value.length < 5) return \"El email no está escrito correctamente\";\r\n        let twoParts = value.split(\"@\");\r\n        if (twoParts.length !== 2) return \"El email no está escrito correctamente\";\r\n        if (!(twoParts[1].indexOf(\".\") >= 0)) return \"El email no está escrito correctamente\";\r\n        if (value.trim().indexOf(\" \") >= 0) return \"El email no está escrito correctamente\";\r\n        if (value.trim().indexOf(\"\\t\") >= 0) return \"El email no está escrito correctamente\";\r\n        if (value.trim().indexOf(\"\\r\") >= 0) return \"El email no está escrito correctamente\";\r\n    }\r\n}\r\n\r\nexport function ValidarIdentificacion(value: string, documento: any) {\r\n    if (!value) value = \"\";\r\n    documento = +documento;\r\n    if (documento === 3) { return; }\r\n    if (documento === 1) {\r\n        if (value.length !== 13) return \"Número de RUC debe tener 13 digitos\";\r\n        if (value.length === 13 && value === \"9999999999999\") return;\r\n    }\r\n    if (documento === 2) {\r\n        if (value.length !== 10) return \"Número de Cedula debe tener 10 digitos\";\r\n    }\r\n    return validadorCedulaRuc(value, false);\r\n}\r\nfunction validadorCedulaRuc(numero: string, vacioEstaBien?: boolean, exito?: Function, error?: Function) {\r\n    var mensaje = '';\r\n    var esValido = false;\r\n    if (vacioEstaBien && isEmptyOrNull(numero)) {\r\n        mensaje = '';\r\n        esValido = true;\r\n    } else {\r\n        if (isNumber(numero)) {\r\n\r\n            if (numero.length < 10) {\r\n                mensaje = \"El numero de Cedula debe tener 10 dígitos\";\r\n            } else if (numero.length > 10 && numero.length < 13) {\r\n                mensaje = \"El numero de RUC debe tener 13 dígitos\";\r\n            } else if (numero.length > 13) {\r\n                mensaje = \"El numero tiene más de 13 dígitos\";\r\n            }\r\n\r\n\r\n            var suma = 0;\r\n            var residuo = 0;\r\n            var pri = false;\r\n            var pub = false;\r\n            var nat = false;\r\n            var numeroProvincias = 22;\r\n            var modulo = 11;\r\n\r\n            /* Verifico que el campo no contenga letras */\r\n            var ok = 1;\r\n            /*for (i=0; i numeroProvincias){\r\n            mensaje = 'El código de la provincia (dos primeros dígitos) es inválido'); esValido = fals;\r\n        } */\r\n\r\n            /* Aqui almacenamos los digitos de la cedula en variables. */\r\n            const d1: any = numero.substr(0, 1);\r\n            const d2: any = numero.substr(1, 1);\r\n            const d3: any = numero.substr(2, 1);\r\n            const d4: any = numero.substr(3, 1);\r\n            const d5: any = numero.substr(4, 1);\r\n            const d6: any = numero.substr(5, 1);\r\n            const d7: any = numero.substr(6, 1);\r\n            const d8: any = numero.substr(7, 1);\r\n            const d9: any = numero.substr(8, 1);\r\n            const d10: any = numero.substr(9, 1);\r\n            if (!isDigit(d1)) mensaje = \"El digito 1 no es un número\";\r\n            if (!isDigit(d2)) mensaje = \"El digito 2 no es un número\";\r\n            if (!isDigit(d3)) mensaje = \"El digito 3 no es un número\";\r\n            if (!isDigit(d4)) mensaje = \"El digito 4 no es un número\";\r\n            if (!isDigit(d5)) mensaje = \"El digito 5 no es un número\";\r\n            if (!isDigit(d6)) mensaje = \"El digito 6 no es un número\";\r\n            if (!isDigit(d7)) mensaje = \"El digito 7 no es un número\";\r\n            if (!isDigit(d8)) mensaje = \"El digito 8 no es un número\";\r\n            if (!isDigit(d9)) mensaje = \"El digito 9 no es un número\";\r\n            if (!isDigit(d10)) mensaje = \"El digito 10 no es un número\";\r\n\r\n            if (numero.length > 10) {\r\n                const d11 = numero.substr(10, 1);\r\n                const d12 = numero.substr(10, 1);\r\n                const d13 = numero.substr(10, 1);\r\n                if (d11 && !isDigit(d11)) mensaje = \"El digito 11 no es un número\";\r\n                if (d12 && !isDigit(d12)) mensaje = \"El digito 12 no es un número\";\r\n                if (d13 && !isDigit(d13)) mensaje = \"El digito 13 no es un número\";\r\n            }\r\n\r\n            /* El tercer digito es: */\r\n            /* 9 para sociedades privadas y extranjeros */\r\n            /* 6 para sociedades publicas */\r\n            /* menor que 6 (0,1,2,3,4,5) para personas naturales */\r\n\r\n            let p1;\r\n            let p2;\r\n            let p3;\r\n            let p4;\r\n            let p5;\r\n            let p6;\r\n            let p7;\r\n            let p8;\r\n            let p9;\r\n\r\n            if (d3 == 7 || d3 == 8) {\r\n                mensaje = 'El tercer dígito ingresado es inválido';\r\n                esValido = false;\r\n            }\r\n\r\n            /* Solo para personas naturales (modulo 10) */\r\n            if (d3 < 6) {\r\n                nat = true;\r\n                p1 = d1 * 2; if (p1 >= 10) p1 -= 9;\r\n                p2 = d2 * 1; if (p2 >= 10) p2 -= 9;\r\n                p3 = d3 * 2; if (p3 >= 10) p3 -= 9;\r\n                p4 = d4 * 1; if (p4 >= 10) p4 -= 9;\r\n                p5 = d5 * 2; if (p5 >= 10) p5 -= 9;\r\n                p6 = d6 * 1; if (p6 >= 10) p6 -= 9;\r\n                p7 = d7 * 2; if (p7 >= 10) p7 -= 9;\r\n                p8 = d8 * 1; if (p8 >= 10) p8 -= 9;\r\n                p9 = d9 * 2; if (p9 >= 10) p9 -= 9;\r\n                modulo = 10;\r\n            }\r\n\r\n            /* Solo para sociedades publicas (modulo 11) */\r\n            /* Aqui el digito verficador esta en la posicion 9, en las otras 2 en la pos. 10 */\r\n            else if (d3 == 6) {\r\n                pub = true;\r\n                p1 = d1 * 3;\r\n                p2 = d2 * 2;\r\n                p3 = d3 * 7;\r\n                p4 = d4 * 6;\r\n                p5 = d5 * 5;\r\n                p6 = d6 * 4;\r\n                p7 = d7 * 3;\r\n                p8 = d8 * 2;\r\n                p9 = 0;\r\n            }\r\n\r\n            /* Solo para entidades privadas (modulo 11) */\r\n            else if (d3 == 9) {\r\n                pri = true;\r\n                p1 = d1 * 4;\r\n                p2 = d2 * 3;\r\n                p3 = d3 * 2;\r\n                p4 = d4 * 7;\r\n                p5 = d5 * 6;\r\n                p6 = d6 * 5;\r\n                p7 = d7 * 4;\r\n                p8 = d8 * 3;\r\n                p9 = d9 * 2;\r\n            }\r\n\r\n            suma = p1 + p2 + p3 + p4 + p5 + p6 + p7 + p8 + p9;\r\n            residuo = suma % modulo;\r\n\r\n            /* Si residuo=0, dig.ver.=0, caso contrario 10 - residuo*/\r\n            const digitoVerificador = residuo == 0 ? 0 : modulo - residuo;\r\n\r\n            /* ahora comparamos el elemento de la posicion 10 con el dig. ver.*/\r\n            if (pub == true) {\r\n                if (digitoVerificador != d9) {\r\n                    mensaje = 'El ruc de la empresa del sector público es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                /* El ruc de las empresas del sector publico terminan con 0001*/\r\n                if (numero.substr(9, 4) != '0001') {\r\n                    mensaje = 'El ruc de la empresa del sector público debe terminar con 0001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n            else if (pri == true) {\r\n                if (digitoVerificador != d10) {\r\n                    mensaje = 'El ruc de la empresa del sector privado es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                if (numero.substr(10, 3) != '001') {\r\n                    mensaje = 'El ruc de la empresa del sector privado debe terminar con 001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n\r\n            else if (nat == true) {\r\n                if (digitoVerificador != d10) {\r\n                    mensaje = 'El número de cédula de la persona natural es incorrecto.';\r\n                    esValido = false;\r\n                }\r\n                if (numero.length > 10 && numero.substr(10, 3) != '001') {\r\n                    mensaje = 'El ruc de la persona natural debe terminar con 001';\r\n                    esValido = false;\r\n                }\r\n            }\r\n            esValido = true;\r\n\r\n        } else {\r\n            mensaje = 'Este campo solo admite numeros';\r\n        }\r\n    }\r\n\r\n    if (esValido && mensaje == '') {\r\n        if (exito) { exito(); }\r\n        return \"\";\r\n    } else {\r\n        if (mensaje == '') {\r\n            mensaje = 'La cantidad de digitos no corresponde a Cedula o RUC'\r\n        }\r\n        if (error) { error(mensaje); }\r\n        return mensaje;\r\n    }\r\n}\r\n\r\nexport function isDigit(char) { return char >= \"0\" && char <= \"9\"; }\r\nfunction isNumber(obj) { return !isNaN(parseFloat(obj)) }\r\nfunction isEmptyOrNull(obj) {\r\n    if (obj === '' || obj == undefined || obj == null || obj == 'undefined') {\r\n        return true\r\n    } else {\r\n        return false;\r\n    }\r\n}","import React from \"react\";\r\nimport { TextField } from \"@material-ui/core\";\r\nexport default function Input(props: InputProps) {\r\n    var { error, inputProps, ..._props } = props;\r\n    var other_props: any = {};\r\n    if (error) {\r\n        other_props.error = true;\r\n        other_props.helperText = error;\r\n    }\r\n    if (!other_props.inputProps) other_props.inputProps = {};\r\n    other_props.inputProps.id = _props.name;\r\n    return <TextField\r\n        {...other_props}\r\n        {..._props}\r\n    >{props.children}\r\n    </TextField>\r\n}\r\n\r\ninterface InputProps {\r\n    type?: string;\r\n    value?: string;\r\n    error?: string;\r\n\r\n\r\n    [key: string]: any;\r\n}","import React from \"react\";\r\nimport { TextField, Paper, Grid, Typography } from \"@material-ui/core\";\r\nimport Geo from \"../../Services/Geo\";\r\nimport { DocToString } from \"../../Services/Calcs\";\r\nimport { ValidarIdentificacion, ValidateInput } from \"../../Services/Validation\";\r\nimport Input from \"../Input\";\r\nexport default class Location extends React.PureComponent<{\r\n    direccion: string,\r\n    ciudad: string,\r\n    sector: string,\r\n    referencia: string,\r\n    position: { lat: number, lng: number },\r\n\r\n    documento: \"1\" | \"2\" | \"3\",\r\n    razonSocial: string,\r\n    identificacion: string,\r\n    direccion_factura: string,\r\n    telefono_factura: string,\r\n    email_factura: string,\r\n\r\n    visible: boolean,\r\n    onValueChange: (prop: string, value: string) => void\r\n}, {}> {\r\n    state = {\r\n        defaultCenter: null\r\n    }\r\n    mapRef;\r\n    virtualMarker;\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleMapMounted = this.handleMapMounted.bind(this);\r\n        this.handleDragStart = this.handleDragStart.bind(this);\r\n        this.handleDragEnd = this.handleDragEnd.bind(this);\r\n    }\r\n    componentWillMount() {\r\n        Geo.currentPosition()\r\n            .then(x => this.setState({ defaultCenter: x }))\r\n    }\r\n    handleChange(event: React.ChangeEvent<HTMLInputElement>) {\r\n        const { name, value } = event.currentTarget;\r\n        this.props.onValueChange(name, value);\r\n    }\r\n    handleDragStart() {\r\n        this.virtualMarker.classList.add(\"on-move\");\r\n    }\r\n    handleDragEnd() {\r\n        Geo.PlaceFromCoords(this.mapRef.getCenter())\r\n            .then(d => this.props.onValueChange(\"direccion\", d.inputText))\r\n            .catch(ex => console.warn(\"PlaceFromCoords ERROR\", ex));\r\n        this.virtualMarker.classList.remove(\"on-move\");\r\n    }\r\n    handleMapMounted(map) {\r\n        this.mapRef = map;\r\n        if (!this.mapRef) return;\r\n        this.virtualMarker = document.createElement(\"div\");\r\n        this.virtualMarker.className = \"centerMarker\";\r\n        map.getDiv().appendChild(this.virtualMarker);\r\n    }\r\n    render() {\r\n\r\n        const { direccion, ciudad, referencia, sector, visible,\r\n            documento, identificacion, razonSocial,\r\n            direccion_factura, telefono_factura, email_factura } = this.props;\r\n\r\n        let identificacion_e = identificacion\r\n            ? ValidarIdentificacion(identificacion, documento)\r\n            : \"\";\r\n        let telefono_e = ValidateInput.tel(telefono_factura);\r\n        let email_e = ValidateInput.email(email_factura);\r\n\r\n        return (<Paper style={{ margin: \"auto\", height: \"100%\", width: \"100%\", padding: 10, marginTop: 10, display: visible ? \"block\" : \"none\" }}>\r\n\r\n            <Grid container >\r\n                <Grid item sm={6}>\r\n                    <Typography variant=\"subtitle1\" style={{ marginLeft: 10 }}>Dirección de Envío</Typography>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        name=\"ciudad\"\r\n                        inputProps={{ id: \"ciudad\" }}\r\n                        value={ciudad}\r\n                        onChange={this.handleChange}\r\n                        label=\"Ciudad *\"\r\n                        style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        name=\"sector\"\r\n                        inputProps={{ id: \"sector\" }}\r\n                        value={sector}\r\n                        onChange={this.handleChange}\r\n                        label=\"Sector *\"\r\n                        style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        name=\"direccion\"\r\n                        inputProps={{ id: \"direccion\" }}\r\n                        value={direccion}\r\n                        onChange={this.handleChange}\r\n                        label=\"Direccion Exacta* \"\r\n                        multiline\r\n                        rows={3}\r\n                        style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        name=\"referencia\"\r\n                        inputProps={{ id: \"referencia\" }}\r\n                        value={referencia}\r\n                        onChange={this.handleChange}\r\n                        label=\"Referencia\"\r\n                        multiline\r\n                        rows={2}\r\n                        style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n                    />\r\n                </Grid>\r\n                <Grid item sm={6}>\r\n                    <Typography style={{ marginLeft: 10 }} variant=\"subtitle1\">Datos de Facturación</Typography>\r\n                    <TextField\r\n                        name=\"documento\"\r\n                        value={documento}\r\n                        inputProps={{ id: \"documento\" }}\r\n                        variant=\"outlined\"\r\n                        select\r\n                        SelectProps={{ native: true }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Documento *\"\r\n                        style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n                    >\r\n                        <option value=\"1\">{DocToString(\"1\")}</option>\r\n                        <option value=\"2\">{DocToString(\"2\")}</option>\r\n                        <option value=\"3\">{DocToString(\"3\")}</option>\r\n                    </TextField>\r\n                    <Input\r\n                        variant=\"outlined\"\r\n                        name=\"identificacion\"\r\n                        value={identificacion}\r\n                        error={identificacion_e}\r\n                        onChange={this.handleChange}\r\n                        type=\"phone\"\r\n                        inputProps={{ maxLength: 20 }}\r\n                        label={\"Numero de \" + DocToString(documento) + \" *\"}\r\n                        style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        name=\"razonSocial\"\r\n                        value={razonSocial}\r\n                        onChange={this.handleChange}\r\n                        label=\"Razon Social *\"\r\n                        inputProps={{ maxLength: 200, id: \"razonSocial\" }}\r\n                        style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        name=\"direccion_factura\"\r\n                        value={direccion_factura}\r\n                        onChange={this.handleChange}\r\n                        label=\"Direccion *\"\r\n                        inputProps={{ maxLength: 300, id: \"direccion_factura\" }}\r\n                        multiline\r\n                        rows={2}\r\n                        style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n                    />\r\n                    <Input\r\n                        variant=\"outlined\"\r\n                        name=\"telefono_factura\"\r\n                        value={telefono_factura}\r\n                        error={telefono_e}\r\n                        inputProps={{ maxLength: 20 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Telefono *\"\r\n                        type=\"phone\"\r\n                        style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n                    />\r\n                    <Input\r\n                        variant=\"outlined\"\r\n                        name=\"email_factura\"\r\n                        value={email_factura}\r\n                        error={email_e}\r\n                        inputProps={{ maxLength: 50 }}\r\n                        onChange={this.handleChange}\r\n                        label=\"Email *\"\r\n                        type=\"email\"\r\n                        style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n\r\n        </Paper>)\r\n    }\r\n}\r\n/*\r\nconst Map = withScriptjs(withGoogleMap(function (props: any) {\r\n    const { onMounted, ...google_maps_props } = props;\r\n    return (<GoogleMap\r\n        ref={onMounted}\r\n        {...google_maps_props}\r\n        options={{\r\n            disableDefaultUI: true,\r\n            zoomControl: true,\r\n            clickableIcons: false\r\n        }}\r\n    >\r\n\r\n    </GoogleMap>)\r\n}));\r\n\r\n            {defaultCenter && <Map\r\n                googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDxc5H1-I6rNF0PZH4Kiw2YsW0kMCWC9_Q&v=3.exp&libraries=geometry,drawing,places\"\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                containerElement={<div id=\"location-map-container\" />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n                defaultCenter={defaultCenter}\r\n                defaultZoom={15}\r\n                onMounted={this.handleMapMounted}\r\n                onDragStart={this.handleDragStart}\r\n                onDragEnd={this.handleDragEnd}\r\n            />}\r\n */","import React from \"react\";\r\nimport { Paper, Typography, TextField, Button, Divider, CircularProgress } from \"@material-ui/core\";\r\nexport default function (props: {\r\n    onValueChange: Function,\r\n    numeroTransaccion: string,\r\n    items: any[],\r\n    onDone: any,\r\n    total: number,\r\n    loading: boolean,\r\n    visible: boolean\r\n}) {\r\n    return (<Paper style={{ maxWidth: 400, padding: 10, marginTop: 10, height: \"100%\", marginLeft: \"auto\", marginRight: \"auto\", display: props.visible ? \"block\" : \"none\" }}>\r\n        <form onSubmit={props.onDone}>\r\n            <Typography style={{ marginTop: 10, marginBottom: 10, textAlign: \"center\" }} variant=\"h6\">Total a Pagar: ${props.total.toFixed(2)}</Typography>\r\n            <Divider />\r\n            <div style={{ padding: 20 }}>\r\n                <Typography>Realiza tu pago mediante Transferencia o Deposito Bancario a la cuenta:</Typography>\r\n                <Typography>PRODUBANCO. Cta. Cte. #2005236823</Typography>\r\n                <Typography>RUC. 1792627192001</Typography>\r\n                <Typography>COSMETICOSNATU CIA.LTDA.</Typography>\r\n            </div>\r\n\r\n            <TextField\r\n                style={{ width: \"calc(100% - 20px)\", margin: 10 }}\r\n                variant=\"outlined\"\r\n                inputMode=\"numeric\"\r\n                inputProps={{ id: \"numeroTransaccion\" }}\r\n                onChange={event => props.onValueChange(\"numeroTransaccion\", event.currentTarget.value)}\r\n                value={props.numeroTransaccion}\r\n                label=\"Numero de Comprobante *\"\r\n            />\r\n            <Button type=\"submit\" disabled={props.loading} variant=\"outlined\" color=\"primary\" style={{ margin: 10, width: \"calc(100% - 20px)\" }}>\r\n                {props.loading ? <CircularProgress size={25} /> : \"ENVIAR\"}\r\n            </Button>\r\n        </form>\r\n    </Paper >)\r\n}","import React from \"react\";\r\nimport { Dialog, DialogContent, Typography, TextField, DialogActions, Button, CircularProgress } from \"@material-ui/core\";\r\nimport API from \"../../Services/API\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nexport default withRouter(class Survey extends React.Component<any, any> {\r\n    state = { txt1: \"\", txt2: \"\", loading: false, id: \"\" };\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.state.id = props.match.params.id;\r\n    }\r\n    handleChange(event) {\r\n        const { name, value } = event.currentTarget;\r\n        this.setState({ [name]: value });\r\n    }\r\n    unblock() { }\r\n    componentDidMount() {\r\n        this.unblock = this.props.history.block = () =>\r\n            this.state.loading ? \"Espera un momento, tu información se está guardando\" : null\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        const { txt1, txt2, loading, id } = this.state;\r\n        if (loading) return;\r\n        if (!txt1 && !txt2) {\r\n            return this.props.history.goBack();\r\n        }\r\n        this.setState({ loading: true });\r\n        API.ActionOrder(id, {\r\n            action: \"SURVEY\",\r\n            value: [txt1, txt2]\r\n        }).then(x => {\r\n            this.setState({ loading: false });\r\n            this.props.history.goBack();\r\n        }).catch(ex => {\r\n            this.setState({ loading: false });\r\n            alert(ex.message);\r\n        });\r\n    }\r\n    handleClose() {\r\n        if (this.state.loading) return;\r\n        this.props.history.goBack();\r\n    }\r\n    render() {\r\n        const { props } = this;\r\n        const { txt1, txt2, loading } = this.state;\r\n        return (<Dialog open={true} onClose={this.handleClose}>\r\n            <form onSubmit={this.handleSubmit}>\r\n                <DialogContent>\r\n                    <Typography style={{ textAlign: \"center\" }} variant=\"h6\" >{props.title}</Typography>\r\n                    <Typography style={{ marginTop: 10 }} variant=\"subtitle1\">Cómo podemos ayudarte a mejorar tus ventas?</Typography>\r\n                    <TextField autoFocus={true} name=\"txt1\" multiline rows={2} label=\"Escribe tu respuesta\" value={txt1} onChange={this.handleChange} fullWidth />\r\n\r\n                    <Typography style={{ marginTop: 10 }} variant=\"subtitle1\">Compártenos alguna experiencia que hayan tenido tus clientes usando nuestros productos</Typography>\r\n                    <TextField name=\"txt2\" multiline rows={3} label=\"Escribe tu respuesta\" value={txt2} onChange={this.handleChange} fullWidth />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"submit\" variant=\"outlined\" >{loading ? <CircularProgress size={25} /> : \"GUARDAR\"}</Button>\r\n                </DialogActions>\r\n            </form>\r\n        </Dialog>)\r\n    }\r\n});","import React from \"react\";\r\nimport { Dialog, DialogContent, Typography, DialogTitle, DialogActions, Button } from \"@material-ui/core\";\r\n\r\nexport default function Message(props: {\r\n    title?: string,\r\n    message?: string,\r\n    info?: string,\r\n    onClose: (ev) => void,\r\n    children?: any\r\n}) {\r\n    const { title, message, info, onClose } = props;\r\n    return (<Dialog open={Boolean(message) || Boolean(props.children)} onClose={onClose}>\r\n        <DialogTitle>{title}</DialogTitle>\r\n        <DialogContent style={{ textAlign: \"center\" }}>\r\n            {props.children || (<div>\r\n                <Typography variant=\"subtitle1\">{message}</Typography>\r\n                <Typography variant=\"body1\">{info}</Typography>\r\n            </div>)}\r\n        </DialogContent>\r\n        <DialogActions>\r\n            <Button type=\"button\" onClick={props.onClose} >SALIR</Button>\r\n        </DialogActions>\r\n    </Dialog>);\r\n}","import React from \"react\";\r\nimport Message from \"./Message\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nexport default withRouter(class RouteMessage extends React.PureComponent<any> {\r\n    unblock = () => null;\r\n    componentDidMount() {\r\n        var params: any = new URLSearchParams(this.props.location.search);\r\n        var focusafter = params.get(\"focusafter\");\r\n        if (focusafter)\r\n            this.unblock = this.props.history.block(x => {\r\n                setTimeout(function () {\r\n                    window.requestAnimationFrame(function () {\r\n                        try {\r\n                            document.getElementById(focusafter).focus();\r\n                        } catch (ex) { }\r\n                    });\r\n                }, 100);\r\n            });\r\n    }\r\n    componentWillUnmount() {\r\n        this.unblock && this.unblock();\r\n    }\r\n    render() {\r\n        var params: any = new URLSearchParams(this.props.location.search);\r\n        return (<Message title={params.get(\"a\")} message={params.get(\"b\")} onClose={x => this.props.history.goBack()} />)\r\n    }\r\n});","import API from \"../../Services/API\";\r\nimport { DocToString } from \"../../Services/Calcs\";\r\nimport { ValidarIdentificacion, ValidateInput } from \"../../Services/Validation\";\r\nimport Preferences from \"../../Services/Preferences\";\r\nimport { OrderState } from \"./index\";\r\n\r\nexport function ValidateSave(state: OrderState) {\r\n    var { numeroTransaccion, ciudad, sector, direccion,\r\n        documento, identificacion, razonSocial, telefono_factura, direccion_factura,\r\n        email_factura, loading\r\n    } = state;\r\n    if (loading) return { loading: true };\r\n\r\n    var results: any = {};\r\n    var choosen = state.productList.filter(x => x.cantidad);\r\n\r\n    if (!choosen.length) return { productList: \"Debes elegir por lo menos un producto\" };\r\n\r\n    if (isEmpty(ciudad)) results.ciudad = \"Digita la ciudad\";\r\n    if (isEmpty(sector)) results.sector = \"Digita el sector\";\r\n    if (isEmpty(direccion)) results.direccion = \"Digita la direccion\";\r\n\r\n    if (isEmpty(documento)) results.documento = \"Selecciona un documento de identificación\";\r\n    if (isEmpty(identificacion)) {\r\n        results.identificacion = \"Digita el número de \" + DocToString(documento);\r\n    } else {\r\n        let error = ValidarIdentificacion(identificacion, documento)\r\n        if (error) results.identificacion = error;\r\n    }\r\n    if (isEmpty(razonSocial)) results.razonSocial = \"Digita la Razon Social de la factura\";\r\n    if (isEmpty(telefono_factura)) {\r\n        results.telefono_factura = \"Digita el numero de Telefono de facturación\";\r\n    } else {\r\n        let error = ValidateInput.tel(telefono_factura);\r\n        if (error) results.telefono_factura = error;\r\n    }\r\n    if (isEmpty(direccion_factura)) results.direccion_factura = \"Digita la dirección de facturación\";\r\n    if (isEmpty(email_factura)) results.email_factura = \"Digita el email de facturación\";\r\n    if (isEmpty(email_factura)) {\r\n        results.email_factura = \"Digita el email de facturación\";\r\n    } else {\r\n        let error = ValidateInput.email(email_factura);\r\n        if (error) results.email_factura = error;\r\n    }\r\n\r\n    if (isEmpty(numeroTransaccion)) results.numeroTransaccion = \"Digita el numero de comprobante de pago\";\r\n\r\n    if (Object.keys(results).length) return results;\r\n    return null;\r\n}\r\nexport function Save(state: OrderState) {\r\n    const { ciudad, sector, direccion, observacion, referencia,\r\n        documento, identificacion, razonSocial, telefono_factura, direccion_factura, email_factura,\r\n        descuentoAplica, numeroTransaccion, position, subtotal\r\n    } = state;\r\n    var choosen = state.productList.filter(x => x.cantidad);\r\n\r\n    return API.SaveOrder({\r\n        ciudad, sector, direccion, observacion, referencia,\r\n        documento, identificacion, razonSocial, telefono_factura, direccion_factura, email_factura,\r\n        detalle: choosen,\r\n        descuentoPorcentaje: descuentoAplica && descuentoAplica.porcentaje,\r\n        descuentoTotal: descuentoAplica && descuentoAplica.valor,\r\n        total: subtotal - ((descuentoAplica && descuentoAplica.valor) || 0),\r\n        position, numeroTransaccion\r\n    }).then(x => {\r\n        Preferences.Set(\"current_order\");\r\n        Preferences.Set(\"direccion\", {\r\n            direccion, ciudad, sector, referencia\r\n        });\r\n        Preferences.Set(\"factura\", {\r\n            identificacion, documento, razonSocial,\r\n            telefono_factura, direccion_factura, email_factura,\r\n        });\r\n        return {\r\n            currentTab: 0,\r\n            descuentoAplica: null,\r\n            subtotal: 0,\r\n            numeroTransaccion: \"\",\r\n            observacion: \"\",\r\n            position: null,\r\n            loading: null,\r\n            productList: state.productList.map(x => {\r\n                x.cantidad = 0;\r\n                return x;\r\n            }),\r\n            isDirty: false,\r\n            id: x.id\r\n        }\r\n    })\r\n}\r\n\r\nfunction isEmpty(val) {\r\n    return !(val && val.length && val.trim().length);\r\n}","import React from \"react\";\r\nimport { Tabs, Tab, Paper, Typography, CircularProgress, TextField, Fab } from \"@material-ui/core\";\r\nimport API from \"../../Services/API\";\r\nimport ProductGrid from \"./ProductGrid\";\r\nimport ConfirmOrder from \"./ConfirmOrder\";\r\nimport Data from \"./Data\";\r\nimport Payment from \"./Payment\";\r\nimport { Totals, EstimarDescuento } from \"../../Services/Calcs\";\r\nimport Survey from \"./Survey\";\r\nimport Preferences from \"../../Services/Preferences\";\r\nimport { withRouter, Route } from \"react-router-dom\";\r\nimport RouteMessage from \"../RouteMessage\";\r\nimport * as Processing from \"./Processing\";\r\nimport { Save } from \"@material-ui/icons\";\r\n\r\nexport default withRouter(class Order extends React.PureComponent<{\r\n    onMounted: (path: string) => void,\r\n    history: any,\r\n    match: any,\r\n    rol: number,\r\n    descuentos: Descuento[]\r\n}, OrderState> {\r\n    state = new OrderState()\r\n    unblockNavigation() { }\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.handleTab = this.handleTab.bind(this);\r\n        this.handleAction = this.handleAction.bind(this);\r\n        this.handleValueChange = this.handleValueChange.bind(this);\r\n        this.handleDone = this.handleDone.bind(this);\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n\r\n        if (props.onMounted) props.onMounted(props.match.path);\r\n        this.state.tablaDescuentos = props.descuentos || [];\r\n    }\r\n    componentDidMount() {\r\n        window.onbeforeunload = _ =>\r\n            this.state.isDirty\r\n                ? \"Tu pedido aún está incompleto, deseas salir sin guardarlo?\"\r\n                : null;\r\n\r\n        this.unblockNavigation = this.props.history.block(this.routerWillLeave.bind(this));\r\n\r\n        API.GetProducts()\r\n            .then(productList => {\r\n                this.setState({ productList: productList.map(x => (x.cantidad = 0) === 0 && x), loading: null });\r\n                try {\r\n                    var updates: any = {};\r\n                    \r\n                    const stored_direccion = Preferences.Get(\"direccion\") || {};\r\n                    for (const key in stored_direccion) {\r\n                        if (this.state.hasOwnProperty(key) && stored_direccion[key]) {\r\n                            updates[key] = stored_direccion[key];\r\n                        }\r\n                    }\r\n\r\n                    const stored_factura = Preferences.Get(\"factura\") || {};\r\n                    for (const key in stored_factura) {\r\n                        if (this.state.hasOwnProperty(key) && stored_factura[key]) {\r\n                            updates[key] = stored_factura[key];\r\n                        }\r\n                    }\r\n\r\n                    const before = Preferences.Get(\"current_order\") || {};\r\n                    for (const key in before) {\r\n                        if (this.state.hasOwnProperty(key)) {\r\n                            updates[key] = before[key];\r\n                        }\r\n                    }\r\n                    if (!(Object.keys(updates).length || (before.choosen && before.choosen.length))) return;\r\n                    //updates.isDirty = Boolean(Object.keys(before).length) || Boolean(before.chooen && before.choosen.lengh);\r\n                    this.setState(updates);\r\n                    if (!before.choosen) return;\r\n                    for (let i = 0; i < before.choosen.length; i++) {\r\n                        const x = before.choosen[i];\r\n                        for (let times = 0; times < x.cantidad; times++) {\r\n                            this.handleAction({\r\n                                currentTarget: { name: \"+\", value: x.id }, avoidIsDirty: true\r\n                            } as any)\r\n                        }\r\n                    }\r\n                } catch (ex) { }\r\n            }).catch(ex => alert(ex.message));\r\n    }\r\n    componentWillUnmount() {\r\n        this.unblockNavigation && this.unblockNavigation();\r\n        window.onbeforeunload && (window.onbeforeunload = undefined);\r\n    }\r\n    handleTab(event: any, currentTab: number) {\r\n        this.setState({ currentTab });\r\n    }\r\n    routerWillLeave(nextLocation?) {\r\n        if (nextLocation && nextLocation.pathname.indexOf(this.props.match.path) === 0) return;\r\n        if (!this.state.isDirty) return;\r\n\r\n        var confirm = window.confirm(\"Tu pedido está incompleto, quieres guardarlo para completarlo después?\");\r\n        if (confirm) {\r\n            this.guardarBorrador();\r\n        } else {\r\n            // actualizar todo!\r\n            Preferences.Set(\"current_order\");\r\n        }\r\n    }\r\n    guardarBorrador = (event?) => {\r\n        if (event && !this.state.isDirty) return;\r\n        try {\r\n            // actualizar todo!\r\n            var choosen = this.state.productList.filter(x => x.cantidad).map(x => ({ id: x.id, cantidad: x.cantidad }));\r\n            const { numeroTransaccion, observacion,\r\n                direccion, ciudad, sector, referencia, position,\r\n                documento, identificacion, razonSocial, telefono_factura, direccion_factura, email_factura\r\n            } = this.state;\r\n            Preferences.Set(\"current_order\", {\r\n                numeroTransaccion, direccion, ciudad, choosen,\r\n                sector, observacion, referencia, position,\r\n                documento, identificacion, razonSocial, telefono_factura, direccion_factura, email_factura\r\n            });\r\n            if (event) {\r\n                this.props.history.push(this.props.match.path + \"/msg?\" + new URLSearchParams({\r\n                    a: \"Listo\",\r\n                    b: \"Tu pedido fue guardado como borrador.\"\r\n                }).toString());\r\n                this.setState({ isDirty: false });\r\n            }\r\n        } catch (ex) { }\r\n    }\r\n\r\n    handleDone(event: React.FormEvent) {\r\n        event.preventDefault();\r\n        if (this.state.loading) return;\r\n        this.setState({ loading: \"guardar\" });\r\n\r\n        var error = Processing.ValidateSave(this.state);\r\n        if (error) {\r\n            if (error.loading) return;\r\n            if (error.productList) {\r\n                this.failed_msg(error.productList);\r\n                return this.setState({ loading: null });\r\n            }\r\n            var keys = Object.keys(error);\r\n            if (keys.length) {\r\n                this.failed_msg(error[keys[0]], undefined, keys[0]);\r\n                let currentTab = this.state.currentTab;\r\n                if ([\r\n                    \"ciudad\", \"referencia\", \"direccion\", \"sector\",\r\n                    \"identificacion\", \"documento\", \"razonSocial\",\r\n                    \"direccion_factura\", \"telefono_factura\", \"email_factura\"\r\n                ].indexOf(keys[0]) >= 0) {\r\n                    currentTab = 2\r\n                }\r\n                return this.setState({ loading: null, currentTab });\r\n            }\r\n        }\r\n        Processing.Save(this.state)\r\n            .then(x => {\r\n                const { id, ...new_state } = x;\r\n                this.setState(new_state);\r\n                this.props.history.push(this.props.match.path + \"/survey/\" + x.id);\r\n            }).catch(ex => {\r\n                this.failed_msg(ex.message + \" \" + (ex.status || \"\"), \"Ocurrió un error\");\r\n                this.setState({ loading: null });\r\n            });\r\n    }\r\n    failed_msg(message, title?, focusafter?) {\r\n        var params = new URLSearchParams({\r\n            a: title || \"No se puede guardar\",\r\n            b: message,\r\n            focusafter\r\n        });\r\n        this.props.history.push(this.props.match.path + \"/msg?\" + params.toString());\r\n    }\r\n    handleAction(event: React.MouseEvent<HTMLButtonElement>) {\r\n        const { name, value } = event.currentTarget;\r\n        var avoidIsDirty = (event as any).avoidIsDirty;\r\n        this.setState(prev => {\r\n            const state: any = { ...prev };\r\n            state.productList = JSON.parse(JSON.stringify(state.productList));\r\n            var item: Product = state.productList.find((a: any) => a.id === +value);\r\n            var cant: number = (item.cantidad && !isNaN(+item.cantidad) && item.cantidad) || 0;\r\n            const { cantidad_desde } = item;\r\n            if (name === \"+\") {\r\n                if (cant <= 0 && cantidad_desde) {\r\n                    cant = cantidad_desde;\r\n                } else {\r\n                    cant++;\r\n                }\r\n            } else if (name === \"-\") {\r\n                if (cant <= 10 && cantidad_desde) {\r\n                    cant = 0;\r\n                } else {\r\n                    cant--;\r\n                }\r\n            }\r\n            item.cantidad = cant;\r\n            state.subtotal = Totals(state.productList.filter(x => x.cantidad)).total;\r\n            state.descuentoAplica = EstimarDescuento(state.subtotal, state.tablaDescuentos);\r\n            if (!avoidIsDirty) state.isDirty = true;\r\n            return state;\r\n        });\r\n    }\r\n    handleValueChange(name: string, value: string) {\r\n        this.setState({ [name]: value, isDirty: true } as any);\r\n    }\r\n    handleChange(event: React.ChangeEvent<HTMLInputElement>) {\r\n        const { value, name } = event.currentTarget;\r\n        this.setState({ [name]: value, isDirty: true } as any);\r\n    }\r\n    render() {\r\n        const {\r\n            currentTab, productList, numeroTransaccion, descuentoAplica, subtotal,\r\n            loading, observacion,\r\n            ...remain_state\r\n        } = this.state;\r\n        const choosenItems = productList.filter((x: any) => x.cantidad);\r\n        console.info(\"Order render\");\r\n        const total = subtotal - ((descuentoAplica && descuentoAplica.valor) || 0);\r\n        if (loading === \"articulos\") {\r\n            return (<div style={{ width: \"100%\", textAlign: \"center\", paddingTop: 100 }} >\r\n                <CircularProgress size={100} />\r\n                <Typography variant=\"h6\">CARGANDO...</Typography>\r\n            </div >);\r\n        }\r\n\r\n\r\n        return (<div style={{ width: \"100%\", height: \"calc(100% - 1px)\", display: \"flex\", flexDirection: \"column\", padding: 10, overflow: \"hidden\" }} >\r\n            <Tabs variant=\"fullWidth\" onChange={this.handleTab} value={currentTab}>\r\n                <Tab label=\"Productos\" />\r\n                <Tab label=\"Pedido\" />\r\n                <Tab label=\"Datos\" />\r\n                <Tab label=\"Pago\" />\r\n            </Tabs>\r\n            {currentTab === 0 && <ProductGrid visible={true} onActionChanged={this.handleAction} items={productList} />}\r\n            {currentTab === 1 && (<Paper style={{ display: currentTab === 1 ? \"block\" : \"none\", textAlign: \"center\", padding: 10, margin: \"auto\", marginTop: 10, width: \"100%\", maxWidth: 500, height: \"100%\" }}>\r\n                <Typography variant=\"h5\">TU PEDIDO</Typography>\r\n                <ConfirmOrder show_next_discount={true} items={choosenItems} descuento={descuentoAplica} subtotal={subtotal} total={total} />\r\n                <TextField variant=\"outlined\" value={observacion} name=\"observacion\" onChange={this.handleChange} style={{ width: \"calc(100% - 20px)\", margin: 10 }} label=\"Observacion\" multiline rows=\"2\" />\r\n            </Paper>)}\r\n            <Data visible={currentTab === 2} {...remain_state} onValueChange={this.handleValueChange} />\r\n            {currentTab === 3 && <Payment visible={true} loading={loading === \"guardar\"} total={total} onDone={this.handleDone} items={choosenItems} numeroTransaccion={numeroTransaccion} onValueChange={this.handleValueChange} />}\r\n\r\n            <Route path={this.props.match.path + \"/msg\"} component={RouteMessage} />\r\n            <Route path={this.props.match.path + \"/survey/:id\"} component={Survey} />\r\n\r\n            <Fab title=\"Guardar Borrador\" onClick={this.guardarBorrador} variant=\"extended\" style={{ position: \"fixed\", bottom: 20, right: 20 }} color=\"primary\">\r\n                <Save />\r\n            </Fab>\r\n        </div >)\r\n    }\r\n});\r\n\r\n\r\nexport class OrderState {\r\n    currentTab: number = 0;\r\n    productList: Product[] = [];\r\n    tablaDescuentos: Descuento[] = [];\r\n    descuentoAplica: DescuentoCalc = null;\r\n    subtotal: number = 0;\r\n\r\n    position: { lat: number, lng: number } = null;\r\n    direccion: string = \"\";\r\n    sector: string = \"\";\r\n    ciudad: string = \"\";\r\n    referencia: string = \"\";\r\n\r\n    documento: \"1\" | \"2\" | \"3\" = \"1\";\r\n    razonSocial: string = \"\";\r\n    identificacion: string = \"\";\r\n    telefono_factura: string = \"\";\r\n    direccion_factura: string = \"\";\r\n    email_factura: string = \"\";\r\n\r\n    observacion: string = \"\";\r\n    numeroTransaccion: string = \"\";\r\n    loading: \"articulos\" | \"guardar\" = null;\r\n    isDirty?: boolean = false;\r\n}","import React from \"react\";\r\nimport { Dialog, DialogContent, DialogTitle, Typography, TextField, Button, CircularProgress, DialogActions, Divider } from \"@material-ui/core\";\r\nimport ConfirmOrder from \"../Order/ConfirmOrder\";\r\nimport API from \"../../Services/API\";\r\nimport { DocToString } from \"../../Services/Calcs\";\r\n\r\nexport default class OrderDetails extends React.Component<{ onClose: (refresh: boolean) => void, match: any, editable: boolean }> {\r\n    state = {\r\n        loading: \"data\",\r\n        _fechaEntrega: \"\"\r\n    } as VisibleOrder\r\n    componentWillMount() {\r\n        API.GetOrder(+this.props.match.params.id)\r\n            .then(order => this.setState({ ...order, loading: null }));\r\n    }\r\n    handleClose = (event: React.MouseEvent<HTMLElement>) => {\r\n        this.props.onClose(this.state.shouldRefresh);\r\n    }\r\n    handleButton = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        const { name } = event.currentTarget;\r\n        if (name === \"APROBAR\") {\r\n            if (!this.state._fechaEntrega)\r\n                return alert(\"Agregue la fecha de Entrega\");\r\n            API.ActionOrder(this.state.id, { action: name, value: this.state._fechaEntrega })\r\n                .then(x => this.setState({\r\n                    estado: \"APROBADO\",\r\n                    fechaEntrega: this.state._fechaEntrega,\r\n                    loading: null,\r\n                    shouldRefresh: true\r\n                })).catch(ex => {\r\n                    alert(ex.message);\r\n                    this.setState({ loading: null });\r\n                });\r\n        }\r\n        if (name === \"RECHAZAR\") {\r\n            let cf = window.confirm(\"Esta seguro de rechazar este pedido?\");\r\n            if (!cf) return;\r\n            let value = window.prompt(\"Digita el Motivo de Rechazo\");\r\n            if (!value) return;\r\n            API.ActionOrder(this.state.id, { action: name, value })\r\n                .then(x => this.setState({ estado: \"RECHAZADO\", loading: null, shouldRefresh: true }))\r\n                .catch(ex => {\r\n                    alert(ex.message);\r\n                    this.setState({ loading: null });\r\n                });\r\n        }\r\n        if (name === \"ENTREGAR\") {\r\n            let cf = window.confirm(\"Esta seguro de seleccionar este pedido como ENTREGADO?\");\r\n            if (!cf) return;\r\n            API.ActionOrder(this.state.id, { action: name, value: null })\r\n                .then(x => this.setState({ estado: \"ENTREGADO\", loading: null, shouldRefresh: true }))\r\n                .catch(ex => { alert(ex.message); this.setState({ loading: null }) });\r\n        }\r\n        this.setState({ loading: name });\r\n    }\r\n    handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = event.currentTarget;\r\n        this.setState({ [name]: value })\r\n    }\r\n    render() {\r\n        const { numero,\r\n            fechaCreacion, fechaEntrega, _fechaEntrega, detalle,\r\n            descuentoPorcentaje, descuentoTotal, position, observacion,\r\n            direccion, sector, ciudad, referencia, numeroTransaccion,\r\n            estado, total, username,\r\n            survey1, survey2, loading,\r\n            documento, identificacion, razonSocial,\r\n            telefono_factura, direccion_factura, email_factura\r\n        } = this.state;\r\n        const editable = this.props.editable === true ? true : null;\r\n\r\n        if (loading === \"data\")\r\n            return (<Dialog open={true} onClose={this.handleClose} maxWidth=\"md\" >\r\n                <DialogContent style={{ textAlign: \"center\", paddingTop: 100, width: 400, height: 400 }}>\r\n                    <CircularProgress size={100} />\r\n                    <Typography variant=\"h6\">CARGANDO...</Typography>\r\n                </DialogContent>\r\n            </Dialog>);\r\n\r\n\r\n        return (<Dialog open={true} onClose={this.handleClose} maxWidth=\"md\">\r\n            <DialogTitle>PEDIDO #{numero}</DialogTitle>\r\n            <DialogContent>\r\n                <TextRow value={new Date(fechaCreacion).toLocaleString()} label=\"Fecha\" />\r\n                <TextRow value={estado} label=\"Estado\" />\r\n                <TextRow value={username} label=\"Usuario\" />\r\n\r\n                <SectionHeader>PRODUCTOS</SectionHeader>\r\n                <ConfirmOrder items={detalle} descuento={{ porcentaje: descuentoPorcentaje, valor: descuentoTotal }} total={total} subtotal={total + descuentoTotal} />\r\n                <TextRow value={observacion} label=\"Observación\" />\r\n\r\n                <SectionHeader>DATOS DE ENTREGA</SectionHeader>\r\n                <TextRow value={ciudad} label=\"Ciudad\" />\r\n                <TextRow value={sector} label=\"Sector\" />\r\n                <TextRow value={direccion} label=\"Direccion\" />\r\n                <TextRow value={referencia} label=\"Referencia\" />\r\n\r\n                <SectionHeader>DATOS DE FACTURACIÓN</SectionHeader>\r\n                <TextRow value={identificacion} label={DocToString(documento as any)} />\r\n                <TextRow value={razonSocial} label=\"Razon Social\" />\r\n                <TextRow value={direccion_factura} label=\"Dirección\" />\r\n                <TextRow value={telefono_factura} label=\"Teléfono\" />\r\n                <TextRow value={email_factura} label=\"Email\" />\r\n\r\n                <SectionHeader>PAGO</SectionHeader>\r\n                <TextRow value={numeroTransaccion} label=\"Comprobante\" />\r\n\r\n                {position && <Button\r\n                    variant=\"contained\"\r\n                    fullWidth\r\n                    style={{ marginTop: 10, marginBottom: 10 }}\r\n                    color=\"primary\"\r\n                    component=\"a\"\r\n                    href={`https://www.google.com/maps/search/?api=1&query=${position.lat},${position.lng}`}\r\n                    target=\"_blank\"\r\n                >VER UBICACION DE ENTREGA</Button>}\r\n\r\n                {editable && estado === \"PENDIENTE\"\r\n                    ? (<div style={{ display: \"flex\", flexDirection: \"row\", marginTop: 15, marginBottom: 10 }}>\r\n                        <Typography variant=\"button\" style={{ marginRight: 10, paddingTop: 5 }} >Fecha de Entrega</Typography>\r\n                        <TextField\r\n                            type=\"date\"\r\n                            fullWidth\r\n                            name=\"_fechaEntrega\"\r\n                            value={_fechaEntrega || \"\"}\r\n                            style={{ flex: 1 }}\r\n                            onChange={this.handleChange}\r\n                        /></div>)\r\n                    : null}\r\n\r\n                {(editable && estado === \"PENDIENTE\")\r\n                    ? (<div style={{ marginTop: 10, marginBottom: 10, display: \"flex\", flexDirection: \"row\" }}>\r\n                        <Button onClick={this.handleButton} name=\"RECHAZAR\"\r\n                            style={{ marginLeft: 10, marginRight: 10, flex: 1 }}\r\n                            variant=\"text\" color=\"secondary\"\r\n                            disabled={Boolean(loading)}\r\n                        >{loading === \"RECHAZAR\" ? <CircularProgress size={25} color=\"inherit\" /> : \"RECHAZAR\"}</Button>\r\n                        <Button onClick={this.handleButton} name=\"APROBAR\"\r\n                            style={{ marginLeft: 10, marginRight: 10, flex: 1 }}\r\n                            variant=\"outlined\" color=\"primary\"\r\n                            disabled={Boolean(loading)}\r\n                        >{loading === \"APROBAR\" ? <CircularProgress color=\"inherit\" size={25} /> : \"APROBAR\"}</Button>\r\n                    </div>)\r\n                    : null}\r\n\r\n                <Divider style={{ margin: 10 }} />\r\n                <Typography style={{ marginTop: 10 }} variant=\"caption\">Cómo podemos ayudarte a mejorar tus ventas?</Typography>\r\n                <Typography>{survey1 || \"\"}</Typography>\r\n                <Typography style={{ marginTop: 10 }} variant=\"caption\">\r\n                    Compártenos alguna experiencia que hayan tenido tus clientes usando nuestros productos\r\n                </Typography>\r\n                <Typography>{survey2 || \"\"}</Typography>\r\n                \r\n            </DialogContent>\r\n            <DialogActions>\r\n                {editable && estado === \"APROBADO\" ? (<Button color=\"primary\" name=\"ENTREGAR\" onClick={this.handleButton}>\r\n                    {loading === \"ENTREGAR\" ? <CircularProgress color=\"inherit\" size={25} /> : \"ENTREGAR\"}\r\n                </Button>) : null}\r\n                <Button onClick={this.handleClose}>SALIR</Button>\r\n            </DialogActions>\r\n        </Dialog>);\r\n    }\r\n}\r\n\r\ninterface VisibleOrder extends Order {\r\n    loading: string;\r\n    _fechaEntrega: string;\r\n    shouldRefresh: boolean;\r\n}\r\n\r\nfunction TextRow(props: { value: any, label: any }) {\r\n    const { value, label } = props;\r\n    return <div style={{ width: \"100%\", textAlign: \"left\" }}>\r\n        <div style={{ width: 120, display: \"inline-block\" }}>\r\n            <Typography variant=\"body1\" >{label}</Typography>\r\n        </div>\r\n        <Typography variant=\"body2\" style={{ width: \"auto\", display: \"inline\" }}>{value}</Typography>\r\n    </div>\r\n}\r\n\r\nfunction SectionHeader(props: any) {\r\n    return (\r\n        <div style={{ marginTop: 12, marginBottom: 5 }}>\r\n            <Typography variant=\"h6\">{props.children}</Typography>\r\n            <Divider />\r\n        </div>);\r\n}","import React from \"react\";\r\nimport { List, ListItem, Grid, Paper, Typography, Hidden, CircularProgress } from \"@material-ui/core\";\r\nimport API from \"../../Services/API\";\r\nimport { Route } from \"react-router-dom\";\r\nimport OrderDetails from \"./OrderDetails\";\r\nimport Message from \"../Message\";\r\nexport default class extends React.Component<any> {\r\n    state = {\r\n        data: [] as Order[],\r\n        msg: null,\r\n        loading: true\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        props.onMounted(props.match.path);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleMessage = this.handleMessage.bind(this);\r\n    }\r\n    componentWillMount() {\r\n        API.GetOrders()\r\n            .then(data => this.setState({ data, loading: null }))\r\n            .catch(err => this.setState({\r\n                loading: null,\r\n                msg: { title: \"Ocurrió un error\", message: err.message, info: err.code }\r\n            }));\r\n    }\r\n    handleMessage() {\r\n        this.setState({ msg: null });\r\n    }\r\n    handleClick(event: React.MouseEvent<HTMLElement>) {\r\n        const { id } = event.currentTarget;\r\n        this.props.history.push(this.props.match.path + \"/\" + id);\r\n    }\r\n    handleClose(refresh: boolean) {\r\n        if (refresh) {\r\n            this.setState({ loading: true });\r\n            API.GetOrders()\r\n                .then(data => this.setState({ data, loading: null }))\r\n                .catch(ex => this.setState({\r\n                    msg: { title: \"No se pudo actualizar el listado\", message: ex.message, info: ex.code },\r\n                    loading: null\r\n                }));\r\n        }\r\n        this.props.history.push(this.props.match.path);\r\n    }\r\n    render() {\r\n        const { data, msg, loading } = this.state;\r\n        const { rol } = this.props;\r\n\r\n        if (loading) return (<div style={{ width: \"100%\", textAlign: \"center\", paddingTop: 100 }}>\r\n            <CircularProgress size={100} />\r\n            <Typography variant=\"h6\">CARGANDO...</Typography>\r\n        </div>);\r\n\r\n        return (<Paper style={{ width: \"calc(100%-20px)\", height: \"calc(100% - 30px)\", display: \"flex\", flexDirection: \"column\", margin: 10, padding: 10, paddingBottom: 0, overflowX: \"hidden\" }}>\r\n            <List>\r\n                <Hidden xsDown implementation=\"css\" >\r\n                    <ListItem>\r\n                        <Grid container spacing={1} style={{ borderBottom: \"1px solid #ebebeb\" }}>\r\n                            <Grid sm={2} item><Typography variant=\"overline\">Numero</Typography></Grid>\r\n                            <Grid sm={2} item><Typography variant=\"overline\">Creado</Typography></Grid>\r\n\r\n                            {rol === 3 && <Grid sm={3} item><Typography variant=\"overline\">Usuario</Typography></Grid>}\r\n\r\n                            <Grid sm={1} item><Typography variant=\"overline\">Total</Typography></Grid>\r\n\r\n                            {rol === 1 && <Grid sm={1} item><Typography variant=\"overline\">Ganancia</Typography></Grid>}\r\n\r\n                            <Grid sm={2} item><Typography variant=\"overline\">Estado</Typography></Grid>\r\n\r\n                            <Grid sm={2} item><Typography variant=\"overline\">Fecha de Entrega</Typography></Grid>\r\n                        </Grid>\r\n                    </ListItem>\r\n                </Hidden>\r\n                {data.map(d => <ListItem key={d.id} id={\"\" + d.id} button onClick={this.handleClick}>\r\n                    <Grid container spacing={1} style={{ paddingTop: 5, paddingBottom: 5, borderBottom: \"1px solid #fafafa\" }}>\r\n\r\n                        <Grid xs={12} sm={2} item >\r\n                            <Hidden smUp >PEDIDO #</Hidden>\r\n                            {d.id}\r\n                        </Grid>\r\n                        <Grid xs={12} sm={2} item >\r\n                            {new Date(d.fechaCreacion).toLocaleDateString()}\r\n                        </Grid>\r\n\r\n                        {rol === 3 && <Grid xs={12} sm={3} item >\r\n                            {d.username}\r\n                        </Grid>}\r\n\r\n                        <Grid xs={12} sm={1} item >$ {d.total.toFixed(2)}</Grid>\r\n\r\n                        {rol === 1 && <Grid xs={12} sm={1} item >$ {(d.descuentoTotal || 0).toFixed(2)}</Grid>}\r\n\r\n                        <Grid xs={12} sm={2} item ><Typography color={EstadoToVariant(d.estado)}>{d.estado}</Typography></Grid>\r\n\r\n                        <Grid xs={12} sm={2} item >{d.fechaEntrega && new Date(d.fechaEntrega).toDateString()}</Grid>\r\n                    </Grid>\r\n                </ListItem>)}\r\n            </List>\r\n\r\n            {msg && <Message {...msg} onClose={this.handleMessage} />}\r\n\r\n            <Route\r\n                path={this.props.match.path + \"/:id\"}\r\n                render={props => <OrderDetails {...props} onClose={this.handleClose} editable={rol === 3} />}\r\n            />\r\n        </Paper>);\r\n    }\r\n}\r\n\r\nfunction EstadoToVariant(estado): any {\r\n    if (estado === \"APROBADO\") return \"primary\";\r\n    if (estado === \"RECHAZADO\") return \"secondary\";\r\n    return \"initial\";\r\n}","import React from \"react\";\r\nimport { CardContent, CardHeader, Card, List, ListItem, Typography } from \"@material-ui/core\";\r\nexport default function RankingCard(props: {\r\n    data: Rank[];\r\n    title: string;\r\n    col1: string;\r\n    col2?: string;\r\n    colType: \"MONEY\" | \"PERFOMANCE\";\r\n    secondColType?: \"MONEY\" | \"DATE\" | \"PERFOMANCE\";\r\n}) {\r\n    const { data, title, col1, col2, secondColType, colType } = props;\r\n\r\n    return (<Card className=\"dashboard-card\" style={{ display: \"flex\", flexDirection: \"column\" }} >\r\n        <CardHeader title={title} style={{ textAlign: \"center\" }} />\r\n        <CardContent style={{ flex: 1, overflow: \"auto\" }}>\r\n            <List>\r\n                {data.sort((a, b) => b[col1] - a[col1])\r\n                    .map((r, index) => {\r\n                        var value1 = r[col1];\r\n                        if (col2) {\r\n                            var value2 = r[col2];\r\n                            if (secondColType && secondColType === \"DATE\") {\r\n                                value2 = DateToString(r[col2]);\r\n                            } else {\r\n                                value2 = value2.toFixed(2);\r\n                            }\r\n                        }\r\n\r\n                        return (<ListItem key={index} id={\"ranking-listitem-\" + index} >\r\n                            <div style={{ display: \"table\", width: \"100%\" }} >\r\n\r\n                                <Typography style={{ display: \"table-cell\", width: 50 }} variant={r.me ? \"body1\" : \"caption\"}># {index + 1}</Typography>\r\n                                <Typography style={{ display: \"table-cell\" }} variant={r.me ? \"body1\" : \"caption\"} >{r.username}</Typography>\r\n\r\n                                {colType === \"PERFOMANCE\" && <PerfomanceCell value={value1} me={r.me} />}\r\n\r\n                                {colType === \"MONEY\" && <Typography style={{ display: \"table-cell\", textAlign: \"right\", width: 100 }} variant={r.me ? \"body1\" : \"caption\"}>\r\n                                    $ {value1.toFixed(2)}\r\n                                </Typography>}\r\n\r\n                                {col2\r\n                                    ? (secondColType === \"PERFOMANCE\"\r\n                                        ? <PerfomanceCell value={+value2} me={r.me} />\r\n                                        : <Typography style={{ display: \"table-cell\", textAlign: \"right\", width: 100, paddingLeft: 10 }} variant={r.me ? \"body1\" : \"caption\"}>\r\n                                            {secondColType === \"MONEY\" ? \"$\" : null} {value2}\r\n                                        </Typography>)\r\n                                    : null\r\n                                }\r\n                            </div>\r\n                        </ListItem>)\r\n                    })}\r\n            </List>\r\n        </CardContent>\r\n    </Card>)\r\n}\r\nfunction PerfomanceCell(props: { value: any, me: boolean }) {\r\n    return <Typography\r\n        color={props.value ? (props.value > 0 ? \"primary\" : \"secondary\") : \"inherit\"}\r\n        style={{ display: \"table-cell\", textAlign: \"right\", width: 100 }}\r\n        variant={props.me ? \"body1\" : \"caption\"}\r\n    >\r\n        % {props.value.toFixed(2)} {props.value ? (props.value > 0 ? \"↑\" : \"↓\") : null}\r\n    </Typography>\r\n}\r\n\r\nfunction DateToString(x) {\r\n    if (!x) return \"Nunca\";\r\n    var date = new Date(x);\r\n    if (isNaN(+date)) return x;\r\n    var ahora = new Date();\r\n    if (date.getDate() === ahora.getDate() &&\r\n        date.getMonth() === ahora.getMonth() &&\r\n        date.getFullYear() === ahora.getFullYear()) {\r\n        return date.toLocaleTimeString();\r\n    }\r\n\r\n    for (let i = 1; i < 30; i++) {\r\n        var este_dia = new Date(ahora.getFullYear(), ahora.getMonth(), ahora.getDate() - i);\r\n        if (date.getDate() === este_dia.getDate() &&\r\n            date.getMonth() === este_dia.getMonth() &&\r\n            date.getFullYear() === este_dia.getFullYear()) {\r\n            if (i === 1) return \"Ayer\";\r\n            return \"Hace \" + i + \" días\";\r\n        }\r\n    }\r\n    return date.toLocaleDateString();\r\n}\r\n","import React from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Card, CardContent, CardHeader } from \"@material-ui/core\";\r\n\r\nexport default class LineCard extends React.PureComponent<{ data: any[], title: string }> {\r\n    state = {\r\n        options: {\r\n            title: { display: false },\r\n            legend: { display: false },\r\n            maintainAspectRatio: false,\r\n            bezierCurve: false,\r\n            scales: {\r\n                yAxes: [{\r\n\r\n                    ticks: {\r\n                        maxTicksLimit: 10,\r\n                        padding: 5\r\n                    }\r\n                }],\r\n                xAxes: [{\r\n                    ticks: {\r\n                        padding: 5\r\n                    }\r\n                }]\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        var labels = [];\r\n        var values = [];\r\n        for (let i = 0; i < this.props.data.length; i++) {\r\n            const el = this.props.data[i];\r\n            if (el.we) {\r\n                var x = new Date(el.we);\r\n                labels.push(`${x.getDate()} ${months[x.getMonth()]}`);\r\n            } else {\r\n                labels.push(el.label);\r\n            }\r\n            values.push(el.value);\r\n        }\r\n        const data = {\r\n            labels,\r\n            datasets: [{\r\n                backgroundColor: \"#3f51b5\",\r\n                borderColor: \"#3f51b5\",\r\n                data: values,\r\n                lineTension: 0,\r\n                fill: false\r\n            }]\r\n        }\r\n        return (<Card className=\"dashboard-card\" style={{ display: \"flex\", flexDirection: \"column\" }} >\r\n            <CardHeader style={{ textAlign: \"center\" }} title={this.props.title} />\r\n            <CardContent style={{ width: \"100%\", flex: 1, padding: 5 }}>\r\n                <Line options={this.state.options} data={data} />\r\n            </CardContent>\r\n        </Card >);\r\n    }\r\n}\r\n\r\nvar months = [\"Ene\", \"Feb\", \"Mar\", \"Abr\", \"May\", \"Jun\", \"Jul\", \"Ago\", \"Sept\", \"Oct\", \"Nov\", \"Dic\"];","import React from \"react\";\r\nimport { Card, CardContent, Typography, CardHeader, List, ListItem, ListItemText, ListItemSecondaryAction } from \"@material-ui/core\";\r\n\r\nexport default function ProfitCard(props: { month: number, year: number }) {\r\n    const { month, year } = props;\r\n    var reservas = 0, promo = 0;\r\n    if (month) {\r\n        reservas = (month * 5) / 100;\r\n        promo = (month * 14) / 100;\r\n    }\r\n    return (<Card className=\"dashboard-card\">\r\n        <CardHeader title=\"GANANCIAS\" style={{ textAlign: \"center\" }} />\r\n        <CardContent>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                <div style={{ textAlign: \"center\", flex: 1 }}>\r\n                    <Typography color=\"primary\" variant=\"h5\" style={{ flex: 1 }}>$ {reduceMoney(month)}</Typography>\r\n                    <Typography color=\"primary\">ESTE MES</Typography>\r\n                </div>\r\n                <div style={{ borderLeft: \"1px solid black\", textAlign: \"center\", flex: 1 }}>\r\n                    <Typography variant=\"h5\" style={{ flex: 1 }} >$ {reduceMoney(year)}</Typography>\r\n                    <Typography>ESTE AÑO</Typography>\r\n                </div>\r\n            </div>\r\n            <Typography variant=\"subtitle1\" style={{ marginTop: 20, paddingLeft: 15, textAlign: \"left\" }}>Te aconsejamos apartar lo siguiente:</Typography>\r\n            <List>\r\n                <ListItem dense>\r\n                    <ListItemText primary=\"RESERVAS 5%\" />\r\n                    <ListItemSecondaryAction>$ {reservas.toFixed(2)}</ListItemSecondaryAction>\r\n                </ListItem>\r\n                <ListItem dense>\r\n                    <ListItemText primary=\"PROMOCION 14%\" />\r\n                    <ListItemSecondaryAction>$ {promo.toFixed(2)}</ListItemSecondaryAction>\r\n                </ListItem>\r\n            </List>\r\n        </CardContent >\r\n    </Card >)\r\n}\r\nfunction reduceMoney(value) {\r\n    if (!value) return 0;\r\n    if (value > 1000) return (+(value / 1000).toFixed(1)) + \" K\";\r\n    if (value > 1000000) return (+(value / 1000).toFixed(1)) + \" M\";\r\n    return +value.toFixed(2);\r\n}","import React from \"react\";\r\nimport { Pie } from \"react-chartjs-2\";\r\nimport { Card, CardContent, CardHeader } from \"@material-ui/core\";\r\n\r\nexport default class PieCard extends React.PureComponent<{ data: any[], title: string }> {\r\n    state = {\r\n        options: {\r\n            title: { display: false },\r\n            legend: { display: false },\r\n            maintainAspectRatio: false\r\n        }\r\n    }\r\n    render() {\r\n        var labels = [];\r\n        var values = [];\r\n        var backgroundColor = [];\r\n        var info = this.props.data.sort((a, b) => b.value - a.value);\r\n        for (let i = 0; i < info.length; i++) {\r\n            const el = info[i];\r\n            labels.push(el.label);\r\n            values.push(el.value);\r\n            backgroundColor.push(el.color);\r\n        }\r\n        const data = {\r\n            labels,\r\n            datasets: [{\r\n                backgroundColor,\r\n                data: values\r\n            }]\r\n        }\r\n        return (<Card className=\"dashboard-card\" style={{ display: \"flex\", flexDirection: \"column\" }} >\r\n            <CardHeader style={{ textAlign: \"center\" }} title={this.props.title} />\r\n            <CardContent style={{ width: \"100%\", flex: 1, padding: 5 }}>\r\n                <Pie options={this.state.options} data={data} />\r\n            </CardContent>\r\n        </Card >)\r\n    }\r\n}","import React from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { Card, CardContent, CardHeader } from \"@material-ui/core\";\r\n\r\nexport default class BardCard extends React.PureComponent<{ data: any[], title: string }> {\r\n    state = {\r\n        options: {\r\n            title: { display: false },\r\n            legend: { display: false },\r\n            maintainAspectRatio: false,\r\n            scaleBeginAtZero: true,\r\n            scales: {\r\n                yAxes: [{\r\n                    ticks: {\r\n                        beginAtZero: true\r\n                    }\r\n                }]\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        var labels = [];\r\n        var values = [];\r\n        for (let i = 0; i < this.props.data.length; i++) {\r\n            const el = this.props.data[i];\r\n            labels.push(el.label);\r\n            if (el.we) {\r\n                values.push(new Date(el.we).toLocaleDateString());\r\n            } else {\r\n                values.push(el.value);\r\n            }\r\n        }\r\n        const data = {\r\n            labels,\r\n            datasets: [{\r\n                backgroundColor: \"#3f51b5\",\r\n                borderColor: \"#3f51b5\",\r\n                data: values,\r\n                fill: false\r\n            }]\r\n        }\r\n        return (<Card className=\"dashboard-card\" style={{ display: \"flex\", flexDirection: \"column\" }} >\r\n            <CardHeader style={{ textAlign: \"center\" }} title={this.props.title} />\r\n            <CardContent style={{ width: \"100%\", flex: 1, padding: 5 }}>\r\n                <Bar options={this.state.options} data={data} />\r\n            </CardContent>\r\n        </Card >)\r\n    }\r\n}","import React from \"react\";\r\nimport { Grid, CircularProgress, Typography, Hidden, Divider } from \"@material-ui/core\";\r\nimport RankingCard from \"./RankingCard\";\r\nimport API from \"../../Services/API\";\r\nimport LineCard from \"./LineCard\"\r\nimport ProfitCard from \"./ProfitCard\";\r\nimport PieCard from \"./PieCard\";\r\nimport BardCard from \"./BarCard\";\r\nexport default class Feed extends React.Component<{ onMounted: Function, grupo: string, username: string, rol: number }> {\r\n    state = {\r\n        loading: true,\r\n        error: null,\r\n        week_ranking: [],\r\n        group_graph: [],\r\n        personal_graph: [],\r\n        year_sales: [],\r\n        product_resume: [],\r\n        group_ranking: []\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        props.onMounted(props.match.path);\r\n    }\r\n    componentWillMount() {\r\n        API.Stats([\"week_ranking\",\r\n            \"personal_graph\",\r\n            \"group_graph\",\r\n            \"year_sales\",\r\n            \"product_resume\",\r\n            \"group_ranking\"])\r\n            .then(x => this.setState({ ...x, loading: null }))\r\n            .catch(error => {\r\n                this.setState({ error, loading: null });\r\n            });\r\n    }\r\n    render() {\r\n        var { loading, error,\r\n            week_ranking,\r\n            personal_graph,\r\n            group_graph,\r\n            year_sales,\r\n            product_resume,\r\n            group_ranking\r\n        } = this.state;\r\n        const { rol, grupo, username } = this.props;\r\n        var resume = { month: 0, year: 0 };\r\n        var ahora = new Date();\r\n        for (let i = 0; i < year_sales.length; i++) {\r\n            const x = year_sales[i];\r\n            x.createdAt = new Date(x.createdAt);\r\n            if (x.createdAt.getMonth() === ahora.getMonth() &&\r\n                x.createdAt.getFullYear() === ahora.getFullYear()) {\r\n                resume.month += x.profit;\r\n            }\r\n            resume.year += x.profit;\r\n        }\r\n\r\n        if (loading) return (<div style={{ width: \"100%\", paddingTop: 100, textAlign: \"center\" }}>\r\n            <CircularProgress size={100} />\r\n            <Typography variant=\"h6\">CARGANDO...</Typography>\r\n        </div>);\r\n\r\n        if (error) return (<div style={{ width: \"100%\", paddingTop: 100, textAlign: \"center\" }}>\r\n            <Typography variant=\"h5\">OCURRIÓ UN PROBLEMA</Typography>\r\n            <Typography variant=\"subtitle1\">{error.message}</Typography>\r\n            <Typography variant=\"body1\">{error.status} {error.code}</Typography>\r\n        </div>);\r\n\r\n        return (<Grid container spacing={2} style={{ margin: \"auto\", width: \"calc(100% - 10px)\", textAlign: \"center\" }} >\r\n            <Grid item xs={12}>\r\n                <Typography color=\"primary\" variant=\"h6\">\r\n                    Hola {username}, Esta es tu cuenta personal de Natú.\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\">\r\n                    Estamos aquí para prosperar juntos. Estos son los indicadores de tu trabajo.\r\n                </Typography>\r\n            </Grid>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <RankingCard data={group_ranking} title=\"RANKING DE GRUPOS\"\r\n                    colType=\"PERFOMANCE\"\r\n                    secondColType=\"MONEY\"\r\n                    col1=\"perfomance\"\r\n                    col2=\"stat\"\r\n                />\r\n            </Grid>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <LineCard data={personal_graph} title={\"ESTADISTICA SEMANAL\"} />\r\n            </Grid>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <BardCard data={group_graph} title={grupo || \"ESTADISTICA MENSUAL\"} />\r\n            </Grid>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <PieCard data={product_resume} title=\"PRODUCTOS VENDIDOS\" />\r\n            </Grid>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <ProfitCard month={resume.month} year={resume.year} />\r\n            </Grid>\r\n\r\n            <Hidden smUp>\r\n                <Grid item xs={12}>\r\n                    <Divider />\r\n                </Grid>\r\n            </Hidden>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <RankingCard data={week_ranking} title=\"RANKING DE LA SEMANA\"\r\n                    colType=\"MONEY\"\r\n                    secondColType=\"DATE\"\r\n                    col1=\"stat\"\r\n                    col2=\"ultimoPedido\"\r\n                />\r\n            </Grid>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <RankingCard data={week_ranking} title=\"PROGRESO DE LA SEMANA\"\r\n                    colType=\"PERFOMANCE\"\r\n                    col1=\"perfomance\"\r\n                />\r\n            </Grid>\r\n\r\n            {rol !== 1 && <Grid item sm={6} xs={12}>\r\n                <RankingCard data={week_ranking} title=\"RANKING ACUMULATIVO\"\r\n                    colType=\"MONEY\"\r\n                    col1=\"monto_acumulativo\"\r\n                />\r\n            </Grid>}\r\n\r\n\r\n        </Grid>);\r\n    }\r\n}","import React from \"react\";\r\nimport { Table, TableHead, TextField, TableCell, TableRow, Button, CircularProgress, Typography, TableBody } from \"@material-ui/core\";\r\nimport API from \"../../Services/API\";\r\nexport default class ProductSales extends React.Component {\r\n    state = {\r\n        loading: null,\r\n        error: null,\r\n        data: []\r\n    }\r\n    handleClick = () => {\r\n        if (this.state.loading) return;\r\n        var desde = this.valueOf(\"desde\");\r\n        var hasta = this.valueOf(\"hasta\");\r\n        var estado = this.valueOf(\"estado\");\r\n        if (!(desde && !isNaN(+new Date(desde)))) return alert(\"Selecciona la fecha desde\");\r\n        if (!(hasta && !isNaN(+new Date(hasta)))) return alert(\"Selecciona la fecha hasta\");\r\n        if (!estado) return alert(\"Selecciona el estado\");\r\n\r\n        this.setState({ loading: true });\r\n\r\n        desde = new Date(desde).toJSON();\r\n        hasta = new Date(hasta).toJSON();\r\n\r\n        API.ProductSalesReport({ desde, hasta, estado })\r\n            .then(data => this.setState({ data, loading: null, error: null }))\r\n            .catch(error => this.setState({ error, loading: null }));\r\n    }\r\n    valueOf(ID: string) {\r\n        var el = document.getElementById(ID) as any;\r\n        return el && el.value;\r\n    }\r\n    render() {\r\n        const { data, error, loading } = this.state;\r\n        return (<div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n            <div>\r\n                <TextField style={{ marginLeft: 10, marginRight: 10 }} type=\"datetime-local\" inputProps={{ id: \"desde\" }} />\r\n                <TextField style={{ marginLeft: 10, marginRight: 10 }} type=\"datetime-local\" inputProps={{ id: \"hasta\" }} />\r\n                <TextField style={{ marginLeft: 10, marginRight: 10 }} select SelectProps={{ native: true }} inputProps={{ id: \"estado\" }} >\r\n                    <option value={1}>PENDIENTE</option>\r\n                    <option value={0}>APROBADO</option>\r\n                    <option value={2}>RECHAZADO</option>\r\n                    <option value={3}>ENTREGADO</option>\r\n                </TextField>\r\n                <Button disabled={loading} style={{ marginLeft: 10, marginRight: 10 }} variant=\"outlined\" onClick={this.handleClick} >GENERAR</Button>\r\n            </div>\r\n            {loading\r\n                ? (<div style={{ width: \"100%\", marginTop: 100, textAlign: \"center\" }} >\r\n                    <CircularProgress size={100} />\r\n                    <Typography variant=\"h6\">CARGANDO...</Typography>\r\n                </div>)\r\n                : (error\r\n                    ? (<div style={{ width: \"100%\", marginTop: 100, textAlign: \"center\" }} >\r\n                        <Typography variant=\"h4\">OCURRIÓ UN ERROR</Typography>\r\n                        <Typography variant=\"subtitle1\">{error.message}</Typography>\r\n                        <Typography variant=\"subtitle2\" >{error.code} {error.status}</Typography>\r\n                    </div>)\r\n                    : (<div>\r\n                        <Table>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell component=\"th\" >Fecha</TableCell>\r\n                                    <TableCell component=\"th\" >#</TableCell>\r\n                                    <TableCell component=\"th\" >Usuario</TableCell>\r\n                                    <TableCell component=\"th\" >Estado</TableCell>\r\n                                    <TableCell component=\"th\" >Observacion</TableCell>\r\n                                    <TableCell component=\"th\" >Fecha Envío</TableCell>\r\n                                    <TableCell component=\"th\" >Entregado</TableCell>\r\n                                    <TableCell component=\"th\" >Motivo Anulacion</TableCell>\r\n                                    <TableCell component=\"th\" >Producto</TableCell>\r\n                                    <TableCell component=\"th\" >Cant</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {data.map(d => (<TableRow key={d.id}>\r\n                                    <TableCell >{new Date(d.createdAt).toLocaleDateString()}</TableCell>\r\n                                    <TableCell>{d.idPedido}</TableCell>\r\n                                    <TableCell>{d.username}</TableCell>\r\n                                    <TableCell>{d.estado}</TableCell>\r\n                                    <TableCell>{d.observacion}</TableCell>\r\n                                    <TableCell>{d.fechaEntrega && new Date(d.fechaEntrega).toLocaleDateString()}</TableCell>\r\n                                    <TableCell>{d.fechaEntrega && new Date(d.fechaEntrega).toLocaleDateString()}</TableCell>\r\n                                    <TableCell>{d.motivoAnulacion}</TableCell>\r\n                                    <TableCell>{d.descripcion}</TableCell>\r\n                                    <TableCell>{d.cantidad}</TableCell>\r\n                                </TableRow>))}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </div>)\r\n                )}\r\n        </div >)\r\n    }\r\n}","import React from \"react\";\r\nimport { Tabs, Tab, Paper } from \"@material-ui/core\";\r\nimport ProductSales from \"./ProductSales\";\r\n\r\nexport default class Reports extends React.Component<any> {\r\n    state = {\r\n        currentTab: 0\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        props.onMounted(props.match.path);\r\n    }\r\n    handleChange = (x, currentTab) => {\r\n        this.setState({ currentTab });\r\n    }\r\n    render() {\r\n        const { currentTab } = this.state;\r\n        return (\r\n            <Paper style={{ margin: 10 }}>\r\n                <Tabs style={{ marginBottom: 10 }} value={currentTab} onChange={this.handleChange}>\r\n                    <Tab label=\"Detalle de Productos\" />\r\n                </Tabs>\r\n                {currentTab === 0 && <ProductSales />}\r\n            </Paper>)\r\n    }\r\n}","import React from 'react';\nimport { Drawer, List, ListItem, ListItemIcon, ListItemText, Typography, CssBaseline, withStyles, AppBar, Toolbar, IconButton, Hidden } from '@material-ui/core';\nimport { ShoppingCart, ListAlt, Menu, Close, Help, Inbox, Report } from \"@material-ui/icons\";\nimport { Link, Switch, Route, Redirect, HashRouter } from \"react-router-dom\";\nimport Order from './../Components/Order';\nimport OrderList from './../Components/OrderList';\nimport Feed from './../Components/Feed';\nimport Reports from './../Components/Reports';\n\nconst OPCIONES = [\n  { label: \"Inicio\", Icon: Inbox, path: \"/feed\" },\n  /** NINGUN PATH puede comenzar por order porque dana algunas partes de la logica */\n  { label: \"Nuevo Pedido\", Icon: ShoppingCart, path: \"/order\" },\n  { label: \"Pedidos\", Icon: ListAlt, path: \"/my-orders\" },\n  { label: \"Reportes\", Icon: Report, path: \"/reports\" }\n];\n\nconst drawerWidth = 200;\n\nexport default withStyles(theme => ({\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: drawerWidth\n    }\n  },\n  appBar: {\n    display: \"block\"\n  }\n}))(class Main extends React.Component<{ username: string, rol: number, grupo: string, token: string, window?: any, classes: any }, any> {\n\n  state = { selected: \"\", isMenuOpen: false, username: \"\", grupo: \"\", token: \"\", rol: 0, accesos: [], descuentos: [] as Descuento[] };\n\n  constructor(props: any) {\n    super(props);\n    this.onMounted = this.onMounted.bind(this);\n    this.handleMenu = this.handleMenu.bind(this);\n    this.closeMenu = this.closeMenu.bind(this);\n    this.state.username = props.username;\n    this.state.grupo = props.grupo;\n    this.state.rol = props.rol;\n    this.state.descuentos = props.descuentos || [];\n    this.state.accesos = [...OPCIONES];\n    if (this.state.rol !== 3) {\n      this.state.accesos = [...OPCIONES];\n      this.state.accesos.splice(3, 1);\n    }\n  }\n  onMounted(selected: string) {\n    this.setState({ selected });\n  }\n  handleMenu() {\n    this.setState(prev => {\n      const state = { ...prev };\n      state.isMenuOpen = !state.isMenuOpen;\n      return state;\n    });\n  }\n  closeMenu() {\n    this.setState({ isMenuOpen: false });\n  }\n  render() {\n    const { selected, isMenuOpen, username, grupo } = this.state;\n    const { window, classes } = this.props;\n    const container = window !== undefined ? () => window().document.body : undefined;\n\n    const drawerChildren = (<div style={{ display: \"flex\", flexDirection: \"column\" }}>\n      <div style={{ textAlign: \"center\", marginTop: 10, marginBottom: 10 }}>\n        <Typography style={{ display: \"block\" }} variant=\"button\">{username}</Typography>\n        <Typography style={{ display: \"block\" }} variant=\"caption\">{grupo}</Typography>\n      </div>\n      <List style={{ flex: 1 }}>\n        {this.state.accesos.map(o => (<ListItem onClick={this.closeMenu} selected={selected === o.path} component={Link} to={o.path} button key={o.label}>\n          <ListItemIcon >{<o.Icon />}</ListItemIcon>\n          <ListItemText style={{ flex: 1 }} primary={o.label} />\n        </ListItem>))}\n      </List>\n      <ListItem component=\"a\" target=\"_a\" href=\"https://wa.me/\" >\n        <ListItemIcon> <Help /> </ListItemIcon>\n        <ListItemText primary=\"AYUDA\" />\n      </ListItem>\n    </div>);\n\n    return (<HashRouter basename=\"/app\">\n      <div style={{ width: \"100%\", height: \"100%\" }}>\n        <CssBaseline />\n        <nav className={classes.drawer}>\n          <Hidden smUp implementation=\"css\" >\n            <Drawer\n              container={container}\n              variant=\"temporary\"\n              anchor={'left'}\n              open={isMenuOpen}\n              onClose={this.closeMenu}\n              classes={{ paper: classes.drawerPaper }}\n              ModalProps={{\n                keepMounted: true, // Better open performance on mobile.\n              }}\n            >\n              <div className={classes.toolbar} style={{ textAlign: \"right\" }}>\n                <IconButton onClick={this.handleMenu}>\n                  <Close />\n                </IconButton>\n              </div>\n              {drawerChildren}\n            </Drawer>\n          </Hidden>\n          <Hidden xsDown implementation=\"css\">\n            <Drawer\n              classes={{ paper: classes.drawerPaper }}\n              variant=\"permanent\"\n              open\n            >\n              {drawerChildren}\n            </Drawer>\n          </Hidden>\n        </nav>\n\n        <Hidden smUp implementation=\"css\" >\n          <AppBar position=\"fixed\" className={classes.x}>\n            <Toolbar>\n              <IconButton\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                edge=\"start\"\n                onClick={this.handleMenu}\n              >\n                <Menu />\n              </IconButton>\n              <Typography style={{ flexGrow: 1 }}>{(OPCIONES.find(x => x.path === selected) || {}).label}</Typography>\n            </Toolbar>\n          </AppBar>\n        </Hidden>\n\n        <main className={classes.content}>\n          <Hidden smUp implementation=\"css\" >\n            <div className={classes.toolbar}></div>\n          </Hidden>\n          <Switch>\n            <Route path=\"/feed\" render={props => <Feed {...props} onMounted={this.onMounted} grupo={this.state.grupo} username={this.state.username} rol={this.state.rol} />} />\n            <Route path=\"/order\" render={_ => <Order onMounted={this.onMounted} rol={this.state.rol} descuentos={this.state.descuentos} />} />\n            <Route path=\"/my-orders\" render={props => <OrderList {...props} rol={this.state.rol} onMounted={this.onMounted} />} />\n            <Route path=\"/reports\" render={props => <Reports {...props} rol={this.state.rol} onMounted={this.onMounted} />} />\n            <Route path=\"/\" exact><Redirect to=\"/feed\" /></Route>\n          </Switch>\n        </main>\n      </div>\n    </HashRouter>)\n  }\n});","import React from \"react\";\r\nimport { Paper, Typography, TextField, InputAdornment, IconButton, CircularProgress, Divider, Button, FormLabel } from \"@material-ui/core\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport API from \"../Services/API\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Preferences from \"../Services/Preferences\";\r\n\r\nexport default class SignIn extends React.Component {\r\n    state = {\r\n        nombre: \"\",\r\n        identificacion: \"\",\r\n        telefono: \"\",\r\n        email: \"\",\r\n        fechaNacimiento: \"\",\r\n        nacionalidad: \"\",\r\n        ciudad: \"\",\r\n        direccion: \"\",\r\n        username: \"\",\r\n        password: \"\",\r\n        confirm_password: \"\",\r\n        error: null,\r\n        grupo: \"\",\r\n\r\n        grupos: [\r\n            { id: 'AGUILAS - FM', nombre: 'FAUSTO MIÑO' },\r\n            { id: 'FUEGO - PN', nombre: 'PAOLA MARULANDA ARIAS' },\r\n            { id: 'ENERGIA - NA', nombre: 'NATAHLI ARACELI ALDAZ RODRÍGUEZ' },\r\n            { id: 'ESPERANZA - EV', nombre: 'EDISON MARCELO VALVERDE GUEVARA' },\r\n        ],\r\n        loading: false,\r\n        fin_registro: null\r\n    }\r\n    componentDidMount() {\r\n        API.GetGroups()\r\n            .then(grupos => this.setState({ grupos })\r\n            ).catch(ex => this.setState({\r\n                error: {\r\n                    grupo: \"No se pudieron cargar los grupos: \" + ex.message\r\n                }\r\n            }));\r\n    }\r\n    handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = event.currentTarget;\r\n        this.setState({ [name]: value });\r\n    }\r\n    handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (this.state.loading) return;\r\n        var error = Validar(this.state);\r\n        if (error) return this.setState({ error });\r\n        this.setState({ loading: true, error: null });\r\n        setTimeout(() => {\r\n            API.SignIn(this.state)\r\n                .then(x => {\r\n                    this.setState({ loading: false, fin_registro: x.email });\r\n                    Preferences.Set(\"user\", this.state.username);\r\n                }).catch(error => this.setState({ error, loading: false }));\r\n        }, 2000);\r\n    }\r\n    render() {\r\n        const { state } = this;\r\n        const { loading, error, fin_registro, grupos } = this.state;\r\n\r\n        if (fin_registro) return (<div style={{ width: \"100%\", padding: 30, textAlign: \"center\" }}>\r\n            <Typography variant=\"h4\">Registro completado!</Typography>\r\n            <Typography variant=\"subtitle1\">\r\n                Para habilitar tu cuenta entra a tu correo ({fin_registro})\r\n            y abre el enlace que te enviamos.\r\n            </Typography>\r\n            <Typography variant=\"body1\">\r\n                Si no encuentras nuestro correo en tu Bandeja de Entreda, es posible que encuentre en SPAM o NO DESEADOS.\r\n            </Typography>\r\n        </div>);\r\n\r\n        return (<main style={{ width: \"100%\", padding: 10, textAlign: \"center\", backgroundColor: \"#fafafa\" }}>\r\n            <Paper style={{ padding: 20, margin: \"auto\", maxWidth: 600 }}>\r\n                <form noValidate onSubmit={this.handleSubmit}>\r\n                    <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                        <img style={{ height: 100 }} src=\"http://natucosmetic.com/wp-content/uploads/2020/03/LOGO-NATU-PNG.png\"></img>\r\n                        <div style={{ flexGrow: 1, margin: 20, textAlign: \"left\" }}>\r\n                            <Typography variant=\"h4\">REGISTRATE</Typography>\r\n                            <Typography component={Link} to=\"/login\" >Ya tienes una cuenta? Inicia sesión aquí</Typography>\r\n                        </div>\r\n                    </div>\r\n                    <Divider />\r\n                    <Typography variant=\"h6\" style={{ marginTop: 20 }}>Información personal</Typography>\r\n                    <Input disabled={loading} error={error && error.nombre} onChange={this.handleChange} value={state.nombre} name=\"nombre\" label=\"Nombres Completos\" />\r\n                    <Input disabled={loading} error={error && error.identificacion} onChange={this.handleChange} value={state.identificacion} name=\"identificacion\" label=\"Identificacion (Cedula, pasaporte, etc.)\" type=\"phone\" />\r\n                    <Input disabled={loading} error={error && error.telefono} onChange={this.handleChange} value={state.telefono} name=\"telefono\" label=\"Telefono\" type=\"phone\" />\r\n                    <Input disabled={loading} error={error && error.email} onChange={this.handleChange} value={state.email} name=\"email\" label=\"Correo Electronico\" type=\"email\" />\r\n                    <Input disabled={loading} error={error && error.nacionalidad} onChange={this.handleChange} value={state.nacionalidad} name=\"nacionalidad\" label=\"Nacionalidad\" />\r\n                    <Input disabled={loading} error={error && error.fechaNacimiento} onChange={this.handleChange} value={state.fechaNacimiento} name=\"fechaNacimiento\" label=\"Fecha de Nacimiento\" type=\"date\" />\r\n\r\n                    <Typography variant=\"h6\" style={{ marginTop: 30 }}>Agrega tu dirección</Typography>\r\n                    <Input disabled={loading} error={error && error.ciudad} onChange={this.handleChange} value={state.ciudad} name=\"ciudad\" label=\"Ciudad\" />\r\n                    <Input disabled={loading} error={error && error.direccion} onChange={this.handleChange} value={state.direccion} name=\"direccion\" label=\"Direccion\" />\r\n\r\n                    <Typography variant=\"h6\" style={{ marginTop: 30 }}>Crea tu Usuario</Typography>\r\n\r\n                    <Input disabled={loading} error={error && error.username} onChange={this.handleChange} value={state.username} name=\"username\" label=\"Usuario\" />\r\n                    <Password disabled={loading} error={error && error.password} onChange={this.handleChange} value={state.password} name=\"password\" label=\"Contraseña\" />\r\n                    <Password disabled={loading} error={error && error.confirm_password} onChange={this.handleChange} value={state.confirm_password} name=\"confirm_password\" label=\"Confirma tu contraseña\" />\r\n\r\n                    <Typography variant=\"subtitle1\" style={{ marginTop: 10 }} >A qué grupo quieres pertenecer?</Typography>\r\n                    <Input select\r\n                        disabled={loading}\r\n                        error={error && error.grupo}\r\n                        onChange={this.handleChange}\r\n                        value={state.grupo}\r\n                        name=\"grupo\"\r\n                        label=\"Grupo\"\r\n                        SelectProps={{ native: true }}\r\n                    >\r\n                        <option value=\"\">- SELECCIONA UN GRUPO -</option>\r\n                        {grupos.map(g => <option key={g.id} value={g.id} >{g.id} - {g.nombre}</option>)}\r\n                    </Input>\r\n\r\n                    {(error && error.guardar) ? <Typography color=\"secondary\">{error.guardar}</Typography> : null}\r\n                    <Button type=\"submit\" color=\"primary\" variant=\"outlined\" fullWidth style={{ marginTop: 20 }} >\r\n                        {loading ? <CircularProgress size={20} color=\"inherit\" /> : \"ENVIAR\"}\r\n                    </Button>\r\n                </form>\r\n            </Paper>\r\n        </main>);\r\n    }\r\n}\r\nfunction Validar(state: any) {\r\n    const { nombre,\r\n        telefono,\r\n        identificacion,\r\n        email,\r\n        fechaNacimiento,\r\n        nacionalidad,\r\n        ciudad,\r\n        direccion,\r\n        username,\r\n        password,\r\n        grupo,\r\n        confirm_password\r\n    } = state;\r\n    const result: any = {};\r\n    if (isEmpty(nombre)) result.nombre = \"Digita tu nombre\";\r\n\r\n    if (isEmpty(telefono)) {\r\n        result.telefono = \"Digita tu telefono\";\r\n    } else {\r\n        if (isNaN(parseInt(telefono))) result.telefono = \"El telefono solo puede contener numeros\";\r\n        if (telefono.length <= 5) result.telefono = \"El telefono debe tener mínimo 6 digitos\";\r\n    }\r\n\r\n    if (isEmpty(identificacion)) {\r\n        result.identificacion = \"Digita tu identificacion\";\r\n    }\r\n\r\n    if (isEmpty(email)) {\r\n        result.email = \"Digita tu email\";\r\n    } else {\r\n        if (email.indexOf(\"@\") === -1) result.email = \"El correo es incorrecto\";\r\n        if (email.indexOf(\".\") === -1) result.email = \"El correo es incorrecto\";\r\n    }\r\n\r\n    if (isEmpty(fechaNacimiento)) {\r\n        result.fechaNacimiento = \"Digita tu fecha de nacimiento\";\r\n    } else {\r\n        if (isNaN(+new Date(fechaNacimiento))) result.fechaNacimiento = \"La fecha no es válida\";\r\n\r\n    }\r\n\r\n    if (isEmpty(nacionalidad)) result.nacionalidad = \"Digita tu nacionalidad\";\r\n    if (isEmpty(ciudad)) result.ciudad = \"Digita tu ciudad\";\r\n    if (isEmpty(direccion)) result.direccion = \"Digita tu direccion\";\r\n\r\n    if (isEmpty(username)) result.username = \"Digita tu Usuario\";\r\n    if (isEmpty(password)) {\r\n        result.password = \"Digita la contraseña\";\r\n    } else {\r\n        if (password.length < 5) result.password = \"La contraseña debe tener más de 6 caracteres\";\r\n        if (password.trim() !== confirm_password.trim()) result.confirm_password = \"Las contraseñas no concuerdan entre si\";\r\n    }\r\n    if (isEmpty(grupo)) result.grupo = \"Selecciona tu grupo\";\r\n    if (Object.keys(result).length) {\r\n        var key = Object.keys(result)[0];\r\n        window.requestAnimationFrame(() => document.getElementById(key).focus());\r\n        return result;\r\n    }\r\n    return null;\r\n}\r\nfunction isEmpty(value) {\r\n    return !(value && value.length);\r\n}\r\nfunction Input(props: {\r\n    name: string,\r\n    value: any,\r\n    onChange: any,\r\n    label: string,\r\n    type?: string,\r\n    disabled?: boolean,\r\n    error?: any,\r\n    [key: string]: any\r\n}) {\r\n    const { error, type, label, ...other_props } = props;\r\n    var input_props: any = { type, inputProps: { id: props.name } };\r\n    if (error) {\r\n        input_props.error = true;\r\n        input_props.helperText = error;\r\n    }\r\n    if (type === \"date\")\r\n        return (<div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\", marginBottom: 5, marginTop: 15 }}>\r\n            <FormLabel style={{ paddingTop: 8, marginRight: 5 }}>{label}</FormLabel>\r\n            <TextField\r\n                required\r\n\r\n                {...input_props}\r\n                style={{ flex: 1 }}\r\n                {...other_props}\r\n            >{props.children} </TextField>\r\n        </div>);\r\n\r\n    input_props.label = label;\r\n\r\n    return (<TextField\r\n        fullWidth\r\n        required\r\n        {...input_props}\r\n        style={{ marginTop: 5, marginBottom: 5 }}\r\n        {...other_props}\r\n    />);\r\n}\r\nfunction Password(props: any) {\r\n    const { error, ...other_props } = props;\r\n    const [show_password, setPassword] = React.useState(false);\r\n    var input_props: any = { inputProps: { id: props.name } };\r\n    if (error) {\r\n        input_props.error = true;\r\n        input_props.helperText = error;\r\n    }\r\n    return (<TextField\r\n        type={show_password ? \"text\" : \"password\"}\r\n        {...other_props}\r\n        {...input_props}\r\n        fullWidth\r\n        required\r\n        style={{ marginTop: 5, marginBottom: 5 }}\r\n        InputProps={{\r\n            endAdornment: <InputAdornment position=\"end\" >\r\n                <IconButton onClick={x => setPassword(!show_password)}>\r\n                    {show_password ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n            </InputAdornment>\r\n        }}\r\n    />);\r\n}","import React from \"react\";\r\nimport { Router, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { createHashHistory } from \"history\";\r\nimport Login from \"./Components/Login\";\r\nimport Main from \"./Layouts/Main\";\r\nimport API from \"./Services/API\";\r\nimport SignIn from \"./Layouts/SignIn\";\r\nimport Preferences from \"./Services/Preferences\";\r\n\r\nexport default class App extends React.Component {\r\n    state = { user: null as LoggedIn }\r\n    history = createHashHistory();\r\n    constructor(props: any) {\r\n        super(props);\r\n        if (props.user) {\r\n            this.state.user = props.user;\r\n            API.KEY = props.user.token;\r\n        }\r\n    }\r\n    handleLoggedIn = (user: LoggedIn) => {\r\n        this.setState({ user });\r\n        // aun esta pendiente, por lo que tiene que ir directamente al curso\r\n        if (user.estado === \"PENDIENTE\")\r\n            return this.history.push(\"/classroom\");\r\n        this.history.push(\"/app\");\r\n        API.KEY = user.token;\r\n        try {\r\n            Preferences.setPrefix(user.id && (user.id + \"_\"));\r\n        } catch (ex) {\r\n            console.info(\"Ocurrio un error en Preferences.setPrefix\", ex);\r\n        }\r\n    }\r\n    render() {\r\n        const { user } = this.state;\r\n        var user_routes;\r\n        if (user) {\r\n            switch (user.estado) {\r\n                case \"PENDIENTE\":\r\n                    user_routes = <Route>BIENVENIDO A CLASSROOM</Route>;\r\n                    break;\r\n                case \"RECHAZADO\":\r\n                    user_routes = <Route>USUARIO ESTÁ DESHABILITADO</Route>;\r\n                    break;\r\n                default:\r\n                    user_routes = (<Switch>\r\n                        <Route path=\"/classroom\">BIENVENIDO A CLASSROOM</Route>\r\n                        <Route path=\"/app\" render={() => <Main {...user} />} />\r\n                        <Route>\r\n                            <Redirect to=\"/app\" />\r\n                        </Route>\r\n                    </Switch>);\r\n                    break;\r\n            }\r\n        }\r\n        return (<Router history={this.history} >\r\n            {user\r\n                ? user_routes\r\n                : (<Switch>\r\n                    <Route path=\"/signin\" component={SignIn} />\r\n                    <Route path=\"/recover-password\">AQUI PUEDE RECUPERAR TU CONTRAEÑA</Route>\r\n                    <Route path=\"/login\" render={_ => <Login onLoggedIn={this.handleLoggedIn} />} />\r\n                    <Route>\r\n                        <Redirect to=\"/login\" />\r\n                    </Route>\r\n                </Switch>)\r\n            }\r\n        </Router>)\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport App from \"./App\";\n/**\n    <React.StrictMode>\n    </React.StrictMode> */\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}