{"version":3,"sources":["serviceWorker.ts","Services/Geo.ts","Services/API.ts","Components/Login.tsx","Components/Order/ProductGrid.tsx","Components/Order/ConfirmOrder.tsx","Components/Order/Location.tsx","Components/Order/Payment.tsx","Components/Order/Survey.tsx","Services/Preferences.ts","Components/Message.tsx","Components/RouteMessage.tsx","Components/Order/index.tsx","Services/Calcs.ts","Components/OrderList/OrderDetails.tsx","Components/OrderList/index.tsx","Components/Ranking.tsx","Components/Feed/RankingCard.tsx","Components/Feed/LineCard.tsx","Components/Feed/ProfitCard.tsx","Components/Feed/PieCard.tsx","Components/Feed/BarCard.tsx","Components/Feed/index.tsx","Components/Reports/ProductSales.tsx","Components/Reports/index.tsx","Layouts/Main.tsx","Layouts/SignIn.tsx","App.tsx","index.tsx"],"names":["Boolean","window","location","hostname","match","GeoCoder","DOMAIN","KEY","body","this","Fetch","method","id","array_items","join","params","param_str","Object","keys","length","URLSearchParams","toString","URI","options","DEFAULTS","cache","mode","ops","headers","JSON","stringify","fetch","then","response","ok","json","clone","catch","text","x","message","status","statusText","obj","ex","Login","props","state","loading","user","pwd","error","isPasswordVisible","handleChange","bind","handleSubmit","handlePassword","API","event","currentTarget","name","value","setState","setTimeout","requestAnimationFrame","document","getElementById","focus","preventDefault","trim","r","onLoggedIn","prev","style","paddingTop","Card","width","maxWidth","margin","onSubmit","CardContent","alt","src","maxHeight","TextField","inputProps","onChange","label","fullWidth","disabled","defaultStyle","type","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","VisibilityOff","Visibility","Typography","color","variant","textAlign","Button","Divider","display","component","Link","to","React","Component","marginTop","marginBottom","ProductGrid","visible_style","visible","Grid","container","alignItems","flex","overflow","spacing","items","map","item","key","sm","md","xs","CardMedia","height","objectFit","image","imgSrc","flexDirection","nombre","pvp_final","toFixed","CardActions","onActionChanged","Add","cantidad","Remove","ConfirmOrder","show_next_discount","descuento","total","subtotal","porcentaje","valor","List","Row","col1","col2","col3","sgte_descuento_porcentaje","ListItem","sgte_descuento_falta","QUITO_BOUNDS","west","north","east","south","QUITO","lat","lng","Promise","resolve","reject","console","info","navigator","geolocation","PositionByIP","getCurrentPosition","geoLocation","coords","latitude","longitude","fromGPS","bounds","google","maps","Geocoder","geocode","results","first","inputText","place","route","street_number","i","address_components","ii","types","short_name","long_name","find","formatted_address","AddressText","address","Location","defaultCenter","mapRef","virtualMarker","handleMapMounted","handleDragStart","handleDragEnd","Geo","currentPosition","onValueChange","classList","add","PlaceFromCoords","getCenter","d","warn","remove","createElement","className","getDiv","appendChild","direccion","ciudad","referencia","sector","Paper","padding","multiline","rows","PureComponent","marginLeft","marginRight","inputMode","numeroTransaccion","onDone","CircularProgress","size","withRouter","txt1","txt2","handleClose","unblock","history","block","onClose","ActionOrder","action","goBack","alert","Dialog","open","DialogContent","title","autoFocus","DialogActions","Preferences","localStorage","getItem","parse","undefined","value_txt","setItem","removeItem","Message","children","DialogTitle","search","get","guardarBorrador","isDirty","choosen","productList","filter","observacion","Set","push","path","a","b","handleTab","handleAction","handleValueChange","handleDone","onMounted","currentTab","tablaDescuentos","descuentos","descuentoAplica","onbeforeunload","_","unblockNavigation","routerWillLeave","GetProducts","stored_direccion","Get","updates","hasOwnProperty","before","times","avoidIsDirty","nextLocation","pathname","indexOf","confirm","failed_msg","SaveOrder","detalle","descuentoPorcentaje","descuentoTotal","cant","isNaN","cantidad_desde","result","Totals","sorted","sort","montoDesde","founded","desc","next","EstimarDescuento","remain_state","choosenItems","Tabs","Tab","Payment","RouteMessage","Survey","Fab","bottom","right","Save","OrderDetails","_fechaEntrega","shouldRefresh","handleButton","estado","fechaEntrega","prompt","GetOrder","order","numero","fechaCreacion","username","telefono","survey1","survey2","motivoAnulacion","editable","Date","toLocaleString","toLocaleDateString","href","target","data","msg","handleClick","handleMessage","GetOrders","err","code","refresh","rol","paddingBottom","overflowX","Hidden","xsDown","implementation","borderBottom","button","smUp","EstadoToVariant","toDateString","render","Ranking","showLastOrder","perfomanceStat","stat","index","me","paddingLeft","date","ahora","getDate","getMonth","getFullYear","toLocaleTimeString","este_dia","DateToString","ultimoPedido","RankingCard","CardHeader","LineCard","legend","maintainAspectRatio","bezierCurve","scales","yAxes","ticks","maxTicksLimit","xAxes","labels","values","el","we","months","datasets","backgroundColor","borderColor","lineTension","fill","ProfitCard","month","year","reservas","promo","reduceMoney","borderLeft","dense","ListItemText","primary","ListItemSecondaryAction","PieCard","BardCard","Feed","week_ranking","group_graph","personal_graph","year_sales","product_resume","group_ranking","Stats","grupo","week_progress","perfomance","cumulative_ranking","monto_acumulativo","fechaNacimiento","resume","createdAt","profit","ProductSales","desde","valueOf","hasta","toJSON","ProductSalesReport","ID","select","SelectProps","native","Table","TableHead","TableRow","TableCell","TableBody","idPedido","descripcion","Reports","OPCIONES","Icon","Inbox","ShoppingCart","ListAlt","Report","withStyles","theme","drawer","breakpoints","up","flexShrink","toolbar","mixins","drawerPaper","content","flexGrow","appBar","selected","isMenuOpen","token","accesos","handleMenu","closeMenu","splice","classes","drawerChildren","o","ListItemIcon","Help","basename","CssBaseline","Drawer","anchor","paper","ModalProps","keepMounted","Close","AppBar","Toolbar","aria-label","edge","Menu","exact","SignIn","identificacion","email","pais","password","confirm_password","fin_registro","stopPropagation","Validar","elevation","noValidate","Input","Password","guardar","isEmpty","parseInt","other_props","input_props","helperText","FormLabel","required","useState","show_password","setPassword","App","createHashHistory","handleLoggedIn","user_routes","ReactDOM","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.413a269a.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","var GeoCoder;\r\nclass GeoLocation {\r\n    currentPosition() {\r\n        return new Promise((resolve, reject) => {\r\n            console.info(\"obteniendo posicion actual con navigator.geolocation.getCurrentPosition\");\r\n            if (!navigator.geolocation) {\r\n                console.info(\"navigator.geolocation.getCurrentPosition no existe en este navegador, intentando con PositionByIP()\");\r\n                return PositionByIP().then(resolve).catch(reject);\r\n            }\r\n            navigator.geolocation.getCurrentPosition(geoLocation => {\r\n                console.info(\"navigator.geolocation.getCurrentPosition ha obtenido la posicion\");\r\n                resolve({\r\n                    lat: geoLocation.coords.latitude,\r\n                    lng: geoLocation.coords.longitude,\r\n                    fromGPS: true\r\n                });\r\n            }, () => {\r\n                console.info(\"navigator.geolocation.getCurrentPosition fall, intentando con PositionByIP()\");\r\n                PositionByIP().then(resolve).catch(reject);\r\n            }\r\n            );\r\n        });\r\n    }\r\n    CanUseGPS() {\r\n        return new Promise((resolve, reject) => {\r\n            if (!navigator.geolocation) return reject();\r\n            navigator.geolocation.getCurrentPosition(resolve, reject);\r\n        });\r\n    }\r\n    PlaceFromCoords(location, bounds?): Promise<{ inputText: string }> {\r\n        const { google } = window as any;\r\n        if (!GeoCoder) GeoCoder = new google.maps.Geocoder();\r\n        return new Promise((resolve, reject) => {\r\n            GeoCoder.geocode({ location, bounds: bounds || this.QUITO_BOUNDS }, (results, status) => {\r\n                if (status === \"ZERO_RESULTS\") {\r\n                    return reject({ status, message: \"No se encontraron resultados\" });\r\n                }\r\n                const first = results.length && results[0];\r\n                if (!first) return reject({ message: \"No se encontraron resultados\" });\r\n                first.inputText = AddressText(first);\r\n                resolve(first);\r\n            });\r\n        })\r\n    }\r\n    CoordsFromPlace(address, bounds?) {\r\n        const { google } = window as any;\r\n        if (!GeoCoder) GeoCoder = new google.maps.Geocoder();\r\n        return new Promise((resolve, reject) => {\r\n            GeoCoder.geocode({ address, bounds: bounds || this.QUITO_BOUNDS }, (results, status) => {\r\n                if (status === \"ZERO_RESULTS\") {\r\n                    return reject({ status, message: \"No se encontraron resultados\" });\r\n                }\r\n                const first = results.length && results[0];\r\n                if (!first) return reject({ message: \"No se encontraron resultados\" });\r\n                resolve(first);\r\n            });\r\n        })\r\n    }\r\n    QUITO_BOUNDS = {\r\n        west: -78.85300,\r\n        north: -0.04875,\r\n        east: -78.17184,\r\n        south: -0.39207\r\n    }\r\n    QUITO = {\r\n        lat: -0.189515,\r\n        lng: -78.488167\r\n    }\r\n}\r\nexport default new GeoLocation();\r\n\r\n\r\nfunction AddressText(place) {\r\n    var route;\r\n    var street_number;\r\n    for (let i = 0; i < place.address_components.length; i++) {\r\n        const component = place.address_components[i];\r\n        for (let ii = 0; ii < component.types.length; ii++) {\r\n            const type = component.types[ii];\r\n            if (type === \"street_address\") return component.short_name || component.long_name;\r\n            if (component.types.find(x => x === \"street_number\") && component.types.find(x => x === \"route\"))\r\n                return component.short_name || component.long_name;\r\n\r\n            if (type === \"route\" && !route) route = component.short_name || component.long_name;\r\n            if (type === \"street_number\" && !street_number) street_number = component.short_name || component.long_name;\r\n        }\r\n    }\r\n    if (route && street_number) return route + \" \" + street_number;\r\n    return place.formatted_address;\r\n}\r\nfunction PositionByIP() {\r\n    return fetch(\"https://ipapi.co/json/\").then(x => x.json())\r\n        .then(info => ({ lat: info.latitude, lng: info.longitude }));\r\n}","const DOMAIN = \"https://natuapp.ue.r.appspot.com\";\r\n//const DOMAIN = \"http://localhost:9000\";\r\nclass API {\r\n    KEY = \"\";\r\n    Login(body) {\r\n        return this.Fetch(\"user/login\", { body, method: \"POST\" });\r\n    }\r\n    GetProducts() {\r\n        return this.Fetch(\"product\");\r\n    }\r\n    GetOrders(): Promise<Order[]> {\r\n        return this.Fetch(\"order\");\r\n    }\r\n    GetOrder(id: number): Promise<Order> {\r\n        return this.Fetch(\"order/\" + id);\r\n    }\r\n    SaveOrder(body: Order): Promise<any> {\r\n        return this.Fetch(\"order\", {\r\n            method: \"POST\",\r\n            body\r\n        });\r\n    }\r\n    ActionOrder(id: number | string, body: { action: \"SURVEY\" | \"APROBAR\" | \"RECHAZAR\" | \"ENTREGAR\", value: any }): Promise<any> {\r\n        return this.Fetch(\"order/\" + id, {\r\n            method: \"PUT\",\r\n            body\r\n        });\r\n    }\r\n\r\n    Stats(array_items) {\r\n        return this.Fetch(\"dashboard?data=\" + array_items.join(\",\"));\r\n    }\r\n    ProductSalesReport(params: { desde: string, hasta: string, estado: any }) {\r\n        var param_str = \"\";\r\n        if (params && Object.keys(params).length)\r\n            param_str = \"?\" + new URLSearchParams(params).toString();\r\n\r\n        return this.Fetch(\"reports/product-sales\" + param_str);\r\n    }\r\n\r\n    SignIn(body: any) {\r\n        return this.Fetch(\"user\", {\r\n            method: \"POST\",\r\n            body\r\n        });\r\n    }\r\n\r\n    private Fetch(URI, options: SpecialRequest = {}) {\r\n        const DEFAULTS: any = {\r\n            method: \"GET\",\r\n            cache: \"reload\",\r\n            mode: \"cors\"\r\n        };\r\n        var ops: RequestInit = { ...DEFAULTS, ...options };\r\n        if (!ops.headers) ops.headers = {};\r\n        ops.headers['Content-Type'] = 'application/json';\r\n        ops.headers['Access-Control-Allow-Origin'] = '*';\r\n\r\n        if (this.KEY) {\r\n            if (!ops.headers) ops.headers = {};\r\n            ops.headers[\"Authorization\"] = 'Basic ' + this.KEY;\r\n        }\r\n\r\n        if (ops.body && (typeof ops.body !== typeof \"\"))\r\n            ops.body = JSON.stringify(ops.body);\r\n\r\n        return fetch(DOMAIN + \"/\" + URI, ops).then(response => {\r\n            if (response.ok) return response.json();\r\n            return response.clone().json()\r\n                .catch(() => {\r\n                    return response.text().then(x => {\r\n                        throw {\r\n                            message: x,\r\n                            status: response.status,\r\n                            statusText: response.statusText\r\n                        }\r\n                    })\r\n                }).then(obj => {\r\n                    throw {\r\n                        ...obj,\r\n                        status: response.status,\r\n                        statusText: response.statusText\r\n                    }\r\n                })\r\n        }).catch(ex => {\r\n            if (ex.message === \"Failed to fetch\") {\r\n                throw {\r\n                    message: \"Este servicio no se encuentra disponible por el momento. Intentelo ms tarde.\",\r\n                    status: 0\r\n                }\r\n            }\r\n            if (!ex.message) ex.message = ex.statusText;\r\n            throw ex;\r\n        });\r\n    }\r\n}\r\nexport default new API();\r\n\r\ninterface SpecialRequest extends RequestInit {\r\n    body?: any\r\n}","import React from \"react\";\r\nimport { Card, CardContent, TextField, Button, InputAdornment, IconButton, Typography, Divider } from \"@material-ui/core\";\r\nimport API from \"../Services/API\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class Login extends React.Component<{ onLoggedIn: (params: any) => void }, LoginState> {\r\n    state = {\r\n        loading: false,\r\n        user: \"\",\r\n        pwd: \"\",\r\n        error: null,\r\n        isPasswordVisible: false\r\n    }\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handlePassword = this.handlePassword.bind(this);\r\n        API.KEY = \"\";\r\n    }\r\n    handleChange(event: React.ChangeEvent<HTMLInputElement>) {\r\n        const { name, value } = event.currentTarget;\r\n        this.setState({\r\n            [name]: value\r\n        } as any);\r\n    }\r\n    componentDidMount() {\r\n        setTimeout(() =>\r\n            window.requestAnimationFrame(function () {\r\n                document.getElementById(\"user-textfield\").focus();\r\n            }), 100);\r\n    }\r\n    handleSubmit(event: any) {\r\n        event.preventDefault();\r\n        if (this.state.loading) return;\r\n        const user = this.state.user && this.state.user.toString().trim();\r\n        const pwd = this.state.pwd && this.state.pwd.toString().trim();\r\n        if (!user) return this.setState({ error: { message: \"Digite su usuario\" } });\r\n        if (!pwd) return this.setState({ error: { message: \"Digite su contrasea\" } });\r\n        this.setState({ loading: true, error: null });\r\n        API.Login({ user, pwd })\r\n            .then(r => {\r\n                this.setState({ loading: null });\r\n                this.props.onLoggedIn({ ...r });\r\n            })\r\n            .catch(error => this.setState({ loading: null, error }));\r\n    }\r\n    handlePassword(event) {\r\n        this.setState(prev => {\r\n            const state = { ...prev };\r\n            state.isPasswordVisible = !state.isPasswordVisible;\r\n            return state;\r\n        });\r\n    }\r\n    render() {\r\n        const { loading, error, user, pwd, isPasswordVisible } = this.state;\r\n        return (<div style={{ paddingTop: 20 }}>\r\n            <Card style={{ width: \"100%\", maxWidth: 300, margin: \"auto\" }}>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <CardContent>\r\n                        <img alt=\"Logo\" src=\"http://natucosmetic.com/wp-content/uploads/2020/03/LOGO-NATU-PNG.png\" style={{ width: \"100%\", maxHeight: \"40vh\" }} ></img>\r\n                        <TextField\r\n                            inputProps={{ id: \"user-textfield\" }}\r\n                            onChange={this.handleChange}\r\n                            value={user}\r\n                            label=\"Usuario\"\r\n                            name=\"user\"\r\n                            fullWidth\r\n                            disabled={loading}\r\n                            style={defaultStyle}\r\n                        />\r\n                        <TextField\r\n                            onChange={this.handleChange}\r\n                            value={pwd}\r\n                            name=\"pwd\"\r\n                            label=\"Contrasea\"\r\n                            type={isPasswordVisible ? \"input\" : \"password\"}\r\n                            fullWidth\r\n                            disabled={loading}\r\n                            style={defaultStyle}\r\n                            InputProps={{\r\n                                endAdornment: <InputAdornment position=\"end\">\r\n                                    <IconButton onClick={this.handlePassword}>\r\n                                        {isPasswordVisible ? <VisibilityOff /> : <Visibility />}\r\n                                    </IconButton>\r\n                                </InputAdornment>\r\n                            }}\r\n                        />\r\n                        {error && <Typography color=\"secondary\" variant=\"body1\" style={{ textAlign: \"center\" }}>{error.message}</Typography>}\r\n                        <Button type=\"submit\" variant=\"outlined\" style={defaultStyle} color=\"primary\" disabled={loading} fullWidth >\r\n                            {loading ? \"CARGANDO...\" : \"ENTRAR\"}\r\n                        </Button>\r\n\r\n                        <Divider style={{ margin: 20 }} />\r\n\r\n                        <Typography style={{ display: \"block\", textAlign: \"center\", margin: 5 }} variant=\"body2\" component={Link} to=\"/recover-password\">Olvid mi contrasea</Typography>\r\n                        <Typography style={{ display: \"block\", textAlign: \"center\", margin: 5 }} variant=\"body2\" component={Link} to=\"/signin\">No eres asesor/a nat? Registrate aqu!</Typography>\r\n                    </CardContent>\r\n                </form>\r\n            </Card>\r\n        </div>)\r\n    }\r\n}\r\nconst defaultStyle = {\r\n    marginTop: 10,\r\n    marginBottom: 10\r\n}\r\n\r\nclass LoginState {\r\n    user = \"\";\r\n    pwd = \"\";\r\n    loading = false;\r\n    isPasswordVisible = false;\r\n    error = null;\r\n}","import React from \"react\";\r\nimport { Grid, Card, CardContent, CardActions, CardMedia, Typography, IconButton } from \"@material-ui/core\";\r\nimport { Add, Remove } from \"@material-ui/icons\";\r\n\r\nexport default function\r\n    ProductGrid(props: { onActionChanged: any, items: any[], visible: boolean }) {\r\n    const visible_style: any = {}\r\n    if (!props.visible) visible_style.display = \"none\";\r\n    return (<Grid\r\n        container\r\n        alignItems=\"center\"\r\n        style={{ flex: 1, overflow: \"auto\", marginTop: 5, ...visible_style }}\r\n        spacing={3}>\r\n        {props.items.map((item: any) => (<Grid key={item.id} item sm={6} md={4} xs={12}>\r\n            <Card>\r\n                <CardMedia component=\"img\" style={{ height: 180, objectFit: \"contain\" }} image={item.imgSrc || \"https://diegopq95.github.io/take-orders/img/default.png\"} />\r\n                <CardContent style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                    <Typography style={{ flex: 1, height: 60, overflow: \"hidden\" }} variant=\"subtitle1\">{item.nombre}</Typography>\r\n                    <Typography variant=\"h6\">$ {item.pvp_final.toFixed(2)}</Typography>\r\n                </CardContent>\r\n                <CardActions>\r\n                    <IconButton onClick={props.onActionChanged} name=\"+\" value={item.id}>\r\n                        <Add />\r\n                    </IconButton>\r\n                    <Typography variant=\"body1\">{item.cantidad}</Typography>\r\n                    <IconButton disabled={!(item.cantidad > 0)} onClick={props.onActionChanged} name=\"-\" value={item.id}>\r\n                        <Remove />\r\n                    </IconButton>\r\n                </CardActions>\r\n            </Card>\r\n        </Grid>))}\r\n    </Grid>)\r\n}","import React from \"react\";\r\nimport { List, ListItem, Typography } from \"@material-ui/core\";\r\nexport default function ConfirmOrder(props: {\r\n    items: any[],\r\n    subtotal: number,\r\n    total: number,\r\n    show_next_discount?: boolean,\r\n    descuento?: DescuentoCalc\r\n}) {\r\n    var { items, show_next_discount, descuento, total, subtotal } = props;\r\n    if (!descuento) descuento = { porcentaje: 0, valor: 0 };\r\n    return (<List>\r\n        {items.map(item => <Row key={item.id} col1={item.nombre} col2={item.cantidad} col3={\"$ \" + (item.pvp_final * item.cantidad).toFixed(2)} />)}\r\n        <Row col1={\"SUBTOTAL\"} col3={`$ ${subtotal.toFixed(2)}`} />\r\n        <Row col1={`TU GANANCIA (${descuento.porcentaje}%) EN ESTE PEDIDO`} col3={`$ ${descuento.valor.toFixed(2)}`} color=\"primary\" />\r\n        <Row col1={\"TOTAL\"} variant={\"subtitle2\"} col3={`$ ${total.toFixed(2)}`} />\r\n        {(show_next_discount && descuento.sgte_descuento_porcentaje)\r\n            ? <ListItem>\r\n                <Typography variant=\"subtitle1\" color=\"secondary\">{`Obtn el ${descuento.sgte_descuento_porcentaje}% de descuento agregando ${descuento.sgte_descuento_falta.toFixed(2)} USD ms a tu pedido`}</Typography>\r\n            </ListItem>\r\n            : null}\r\n    </List>);\r\n}\r\n\r\n\r\nfunction Row(props: { col1: string, col2?: string | number, col3: string, color?: any, variant?: any }) {\r\n    const { col1, col2, col3, color, variant } = props;\r\n    return (<ListItem>\r\n        <div style={{ width: \"100%\", display: \"table\" }}>\r\n            <Typography color={color || \"initial\"} style={{ display: \"table-cell\" }} variant={variant || \"body1\"}>{col1}</Typography>\r\n            {col2 && <Typography color={color || \"initial\"} style={{ display: \"table-cell\", width: \"15%\", maxWidth: 100, textAlign: \"right\" }} variant={variant || \"body1\"}>{col2}</Typography>}\r\n            <Typography color={color || \"initial\"} style={{ display: \"table-cell\", width: \"25%\", maxWidth: 100, textAlign: \"right\" }} variant={variant || \"body1\"}>{col3}</Typography>\r\n        </div>\r\n    </ListItem>)\r\n}","import React from \"react\";\r\nimport { TextField, Paper } from \"@material-ui/core\";\r\nimport Geo from \"../../Services/Geo\";\r\nexport default class Location extends React.PureComponent<{\r\n    direccion: string,\r\n    ciudad: string,\r\n    sector: string,\r\n    referencia: string,\r\n    position: { lat: number, lng: number },\r\n    visible: boolean,\r\n    onValueChange: (prop: string, value: string) => void\r\n}, {}> {\r\n    state = {\r\n        defaultCenter: null\r\n    }\r\n    mapRef;\r\n    virtualMarker;\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleMapMounted = this.handleMapMounted.bind(this);\r\n        this.handleDragStart = this.handleDragStart.bind(this);\r\n        this.handleDragEnd = this.handleDragEnd.bind(this);\r\n    }\r\n    componentWillMount() {\r\n        Geo.currentPosition()\r\n            .then(x => this.setState({ defaultCenter: x }))\r\n    }\r\n    handleChange(event: React.ChangeEvent<HTMLInputElement>) {\r\n        const { name, value } = event.currentTarget;\r\n        this.props.onValueChange(name, value);\r\n    }\r\n    handleDragStart() {\r\n        this.virtualMarker.classList.add(\"on-move\");\r\n    }\r\n    handleDragEnd() {\r\n        Geo.PlaceFromCoords(this.mapRef.getCenter())\r\n            .then(d => this.props.onValueChange(\"direccion\", d.inputText))\r\n            .catch(ex => console.warn(\"PlaceFromCoords ERROR\", ex));\r\n        this.virtualMarker.classList.remove(\"on-move\");\r\n    }\r\n    handleMapMounted(map) {\r\n        this.mapRef = map;\r\n        if (!this.mapRef) return;\r\n        this.virtualMarker = document.createElement(\"div\");\r\n        this.virtualMarker.className = \"centerMarker\";\r\n        map.getDiv().appendChild(this.virtualMarker);\r\n    }\r\n    render() {\r\n        const { direccion, ciudad, referencia, sector, visible } = this.props;\r\n        return (<Paper style={{ margin: \"auto\", height: \"100%\", width: \"100%\", maxWidth: 500, padding: 10, marginTop: 10, display: visible ? \"block\" : \"none\" }}>\r\n\r\n            <TextField\r\n                variant=\"outlined\"\r\n                name=\"ciudad\"\r\n                value={ciudad}\r\n                onChange={this.handleChange}\r\n                label=\"Ciudad*\"\r\n                style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n            />\r\n\r\n            <TextField\r\n                variant=\"outlined\"\r\n                name=\"sector\"\r\n                value={sector}\r\n                onChange={this.handleChange}\r\n                label=\"Sector*\"\r\n                style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n            />\r\n\r\n            <TextField\r\n                variant=\"outlined\"\r\n                name=\"direccion\"\r\n                value={direccion}\r\n                onChange={this.handleChange}\r\n                label=\"Direccion Exacta*\"\r\n                multiline\r\n                rows={3}\r\n                style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n            />\r\n\r\n            <TextField\r\n                variant=\"outlined\"\r\n                name=\"referencia\"\r\n                value={referencia}\r\n                onChange={this.handleChange}\r\n                label=\"Referencia\"\r\n                multiline\r\n                rows={2}\r\n                style={{ margin: 10, width: \"calc(100% - 20px)\" }}\r\n            />\r\n\r\n        </Paper>)\r\n    }\r\n}\r\n/*\r\nconst Map = withScriptjs(withGoogleMap(function (props: any) {\r\n    const { onMounted, ...google_maps_props } = props;\r\n    return (<GoogleMap\r\n        ref={onMounted}\r\n        {...google_maps_props}\r\n        options={{\r\n            disableDefaultUI: true,\r\n            zoomControl: true,\r\n            clickableIcons: false\r\n        }}\r\n    >\r\n\r\n    </GoogleMap>)\r\n}));\r\n\r\n            {defaultCenter && <Map\r\n                googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDxc5H1-I6rNF0PZH4Kiw2YsW0kMCWC9_Q&v=3.exp&libraries=geometry,drawing,places\"\r\n                loadingElement={<div style={{ height: `100%` }} />}\r\n                containerElement={<div id=\"location-map-container\" />}\r\n                mapElement={<div style={{ height: `100%` }} />}\r\n                defaultCenter={defaultCenter}\r\n                defaultZoom={15}\r\n                onMounted={this.handleMapMounted}\r\n                onDragStart={this.handleDragStart}\r\n                onDragEnd={this.handleDragEnd}\r\n            />}\r\n */","import React from \"react\";\r\nimport { Paper, Typography, TextField, Button, Divider, CircularProgress } from \"@material-ui/core\";\r\nexport default function (props: {\r\n    onValueChange: Function,\r\n    numeroTransaccion: string,\r\n    items: any[],\r\n    onDone: any,\r\n    total: number,\r\n    loading: boolean,\r\n    visible: boolean\r\n}) {\r\n\r\n    return (<Paper style={{ maxWidth: 400, padding: 10, height: \"100%\", marginLeft: \"auto\", marginRight: \"auto\", display: props.visible ? \"block\" : \"none\" }}>\r\n        <Typography style={{ marginTop: 10, marginBottom: 10, textAlign: \"center\" }} variant=\"h6\">Total a Pagar: ${props.total.toFixed(2)}</Typography>\r\n        <Divider />\r\n        <div style={{ padding: 20 }}>\r\n            <Typography>Realiza tu pago mediante Transferencia o Deposito Bancario a la cuenta:</Typography>\r\n            <Typography>BANCO DE PICHINCHA. Cta. Cte. #123123123 </Typography>\r\n            <Typography>C.I. 0932050222</Typography>\r\n            <Typography>Natu Cosmetics S.A</Typography>\r\n        </div>\r\n\r\n        <TextField\r\n            style={{ width: \"calc(100% - 20px)\", margin: 10 }}\r\n            variant=\"outlined\"\r\n            inputMode=\"numeric\"\r\n            onChange={event => props.onValueChange(\"numeroTransaccion\", event.currentTarget.value)}\r\n            value={props.numeroTransaccion}\r\n            label=\"Numero de Comprobante\"\r\n        />\r\n        <Button disabled={props.loading} onClick={props.onDone} variant=\"outlined\" color=\"primary\" style={{ margin: 10, width: \"calc(100% - 20px)\" }}>\r\n            {props.loading ? <CircularProgress size={25} /> : \"ENVIAR\"}\r\n        </Button>\r\n    </Paper>)\r\n}","import React from \"react\";\r\nimport { Dialog, DialogContent, Typography, TextField, DialogActions, Button, CircularProgress } from \"@material-ui/core\";\r\nimport API from \"../../Services/API\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nexport default withRouter(class Survey extends React.Component<any, any> {\r\n    state = { txt1: \"\", txt2: \"\", loading: false, id: \"\" };\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.state.id = props.id;\r\n    }\r\n    handleChange(event) {\r\n        const { name, value } = event.currentTarget;\r\n        this.setState({ [name]: value });\r\n    }\r\n    unblock() { }\r\n    componentDidMount() {\r\n        this.unblock = this.props.history.block = () =>\r\n            this.state.loading ? \"Espera un momento, tu informacin se est guardando\" : null\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        const { txt1, txt2, loading, id } = this.state;\r\n        if (loading) return;\r\n        if (!txt1 && !txt2) {\r\n            return this.props.onClose();\r\n        }\r\n        this.setState({ loading: true });\r\n        API.ActionOrder(id, {\r\n            action: \"SURVEY\",\r\n            value: [txt1, txt2]\r\n        }).then(x => {\r\n            this.setState({ loading: false });\r\n            this.props.history.goBack();\r\n        }).catch(ex => {\r\n            this.setState({ loading: false });\r\n            alert(ex.message);\r\n        });\r\n    }\r\n    handleClose() {\r\n        if (this.state.loading) return;\r\n        this.props.history.goBack();\r\n    }\r\n    render() {\r\n        const { props } = this;\r\n        const { txt1, txt2, loading } = this.state;\r\n        return (<Dialog open={true} onClose={this.handleClose}>\r\n            <form onSubmit={this.handleSubmit}>\r\n                <DialogContent>\r\n                    <Typography style={{ textAlign: \"center\" }} variant=\"h6\" >{props.title}</Typography>\r\n                    <Typography style={{ marginTop: 10 }} variant=\"subtitle1\">Cmo podemos ayudarte a mejorar tus ventas?</Typography>\r\n                    <TextField autoFocus={true} name=\"txt1\" multiline rows={2} label=\"Escribe tu respuesta\" value={txt1} onChange={this.handleChange} fullWidth />\r\n\r\n                    <Typography style={{ marginTop: 10 }} variant=\"subtitle1\">Compartenos alguna expendiencia que hayan tenido tus clientes usando nuestros productos</Typography>\r\n                    <TextField name=\"txt2\" multiline rows={3} label=\"Escribe tu respuesta\" value={txt2} onChange={this.handleChange} fullWidth />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button type=\"submit\" variant=\"outlined\" >{loading ? <CircularProgress size={25} /> : \"GUARDAR\"}</Button>\r\n                </DialogActions>\r\n            </form>\r\n        </Dialog>)\r\n    }\r\n});","export default class Preferences {\r\n    static Get(key: \"current_order\" | \"direccion\") {\r\n        console.info(\"Getting Preference\");\r\n        var x = window.localStorage.getItem(key);\r\n        try {\r\n            return JSON.parse(x);\r\n        } catch (ex) { }\r\n        return x;\r\n    }\r\n    static Set(key: \"current_order\" | \"direccion\", value: any = undefined) {\r\n        console.info(\"Setting Preference\");\r\n        if (value === undefined) {\r\n            window.localStorage.removeItem(key);\r\n            return;\r\n        } else if (value === null) {\r\n            window.localStorage.removeItem(key);\r\n            return;\r\n        }\r\n        var value_txt = value;\r\n        if (typeof value === typeof {})\r\n            value_txt = JSON.stringify(value);\r\n\r\n        window.localStorage.setItem(key, value_txt);\r\n    }\r\n}","import React from \"react\";\r\nimport { Dialog, DialogContent, Typography, DialogTitle, DialogActions, Button } from \"@material-ui/core\";\r\n\r\nexport default function Message(props: {\r\n    title?: string,\r\n    message?: string,\r\n    info?: string,\r\n    onClose: (ev) => void,\r\n    children?: any\r\n}) {\r\n    const { title, message, info, onClose } = props;\r\n    return (<Dialog open={Boolean(message) || Boolean(props.children)} onClose={onClose}>\r\n        <DialogTitle>{title}</DialogTitle>\r\n        <DialogContent style={{ textAlign: \"center\" }}>\r\n            {props.children || (<div>\r\n                <Typography variant=\"subtitle1\">{message}</Typography>\r\n                <Typography variant=\"body1\">{info}</Typography>\r\n            </div>)}\r\n        </DialogContent>\r\n        <DialogActions>\r\n            <Button type=\"button\" onClick={props.onClose} >SALIR</Button>\r\n        </DialogActions>\r\n    </Dialog>);\r\n}","import React from \"react\";\r\nimport Message from \"./Message\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nexport default withRouter(function RouteMessage(props: any) {\r\n    var params: any = new URLSearchParams(props.location.search);\r\n    return (<Message title={params.get(\"a\")} message={params.get(\"b\")} onClose={x => props.history.goBack()} />)\r\n});","import React from \"react\";\r\nimport { Tabs, Tab, Paper, Typography, CircularProgress, TextField, Fab } from \"@material-ui/core\";\r\nimport API from \"../../Services/API\";\r\nimport ProductGrid from \"./ProductGrid\";\r\nimport ConfirmOrder from \"./ConfirmOrder\";\r\nimport Location from \"./Location\";\r\nimport Payment from \"./Payment\";\r\nimport { Totals, EstimarDescuento } from \"../../Services/Calcs\";\r\nimport Survey from \"./Survey\";\r\nimport Preferences from \"../../Services/Preferences\";\r\nimport { withRouter, Route } from \"react-router-dom\";\r\nimport RouteMessage from \"../RouteMessage\";\r\nimport { Save } from \"@material-ui/icons\";\r\n\r\nexport default withRouter(class Order extends React.PureComponent<{\r\n    onMounted: (path: string) => void,\r\n    history: any, match: any,\r\n    rol: number, descuentos: Descuento[]\r\n}, OrderState> {\r\n    unblockNavigation() { }\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.handleTab = this.handleTab.bind(this);\r\n        this.handleAction = this.handleAction.bind(this);\r\n        this.handleValueChange = this.handleValueChange.bind(this);\r\n        this.handleDone = this.handleDone.bind(this);\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n\r\n        if (props.onMounted) props.onMounted(props.match.path);\r\n        this.state = {\r\n            currentTab: 0,\r\n            productList: [],\r\n            tablaDescuentos: props.descuentos || [],\r\n            descuentoAplica: null,\r\n            subtotal: 0,\r\n            numeroTransaccion: \"\",\r\n            direccion: \"\",\r\n            ciudad: \"\",\r\n            sector: \"\",\r\n            observacion: \"\",\r\n            referencia: \"\",\r\n            position: null,\r\n            loading: \"articulos\",\r\n            isDirty: false\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        window.onbeforeunload = _ =>\r\n            this.state.isDirty\r\n                ? \"Tu pedido an est incompleto, deseas salir sin guardarlo?\"\r\n                : null;\r\n\r\n        this.unblockNavigation = this.props.history.block(this.routerWillLeave.bind(this));\r\n\r\n        API.GetProducts()\r\n            .then(productList => {\r\n                this.setState({ productList: productList.map(x => (x.cantidad = 0) === 0 && x), loading: null });\r\n                try {\r\n                    const stored_direccion = Preferences.Get(\"direccion\") || {};\r\n                    var updates: any = {};\r\n                    for (const key in stored_direccion) {\r\n                        if (this.state.hasOwnProperty(key)) {\r\n                            updates[key] = stored_direccion[key];\r\n                        }\r\n                    }\r\n                    const before = Preferences.Get(\"current_order\") || {};\r\n                    for (const key in before) {\r\n                        if (this.state.hasOwnProperty(key)) {\r\n                            updates[key] = before[key];\r\n                        }\r\n                    }\r\n                    if (!(Object.keys(updates).length || (before.choosen && before.choosen.length))) return;\r\n                    //updates.isDirty = Boolean(Object.keys(before).length) || Boolean(before.chooen && before.choosen.lengh);\r\n                    this.setState(updates);\r\n                    if (!before.choosen) return;\r\n                    for (let i = 0; i < before.choosen.length; i++) {\r\n                        const x = before.choosen[i];\r\n                        for (let times = 0; times < x.cantidad; times++) {\r\n                            this.handleAction({\r\n                                currentTarget: { name: \"+\", value: x.id }, avoidIsDirty: true\r\n                            } as any)\r\n                        }\r\n                    }\r\n                } catch (ex) { }\r\n            }).catch(ex => alert(ex.message));\r\n    }\r\n    componentWillUnmount() {\r\n        this.unblockNavigation();\r\n        window.onbeforeunload = undefined;\r\n    }\r\n    handleTab(event: any, currentTab: number) {\r\n        this.setState({ currentTab });\r\n    }\r\n    routerWillLeave(nextLocation?) {\r\n        if (nextLocation && nextLocation.pathname.indexOf(this.props.match.path) === 0) return;\r\n        if (!this.state.isDirty) return;\r\n\r\n        var confirm = window.confirm(\"Tu pedido est incompleto, quieres guardarlo para completarlo despus?\");\r\n        if (confirm) {\r\n            this.guardarBorrador();\r\n        } else {\r\n            // actualizar todo!\r\n            Preferences.Set(\"current_order\");\r\n        }\r\n    }\r\n    guardarBorrador = (event?) => {\r\n        if (event && !this.state.isDirty) return;\r\n        try {\r\n            // actualizar todo!\r\n            var choosen = this.state.productList.filter(x => x.cantidad).map(x => ({ id: x.id, cantidad: x.cantidad }));\r\n            const { numeroTransaccion, direccion, ciudad, sector, observacion, referencia, position } = this.state;\r\n            Preferences.Set(\"current_order\", {\r\n                numeroTransaccion, direccion, ciudad, choosen,\r\n                sector, observacion, referencia, position\r\n            });\r\n            if (event) {\r\n                this.props.history.push(this.props.match.path + \"/msg?\" + new URLSearchParams({\r\n                    a: \"Listo\",\r\n                    b: \"Tu pedido fue guardado como borrador.\"\r\n                }).toString());\r\n                this.setState({ isDirty: false });\r\n            }\r\n        } catch (ex) { }\r\n    }\r\n\r\n    handleDone() {\r\n        var { subtotal, numeroTransaccion, ciudad, sector, observacion, referencia, direccion, position, descuentoAplica, loading } = this.state\r\n        if (loading) return;\r\n        var choosen = this.state.productList.filter(x => x.cantidad);\r\n        if (!choosen.length) return this.failed_msg(\"Debes elegir por lo menos un producto\");\r\n        if (!(ciudad && ciudad.trim().length)) return this.failed_msg(\"Digita la ciudad\");\r\n        if (!(sector && sector.trim().length)) return this.failed_msg(\"Digita el sector\");\r\n        if (!(direccion && direccion.trim().length)) return this.failed_msg(\"Digita la direccion\");\r\n        if (!(numeroTransaccion && numeroTransaccion.trim().length)) return this.failed_msg(\"Digita el numero de comprobante de pago\");\r\n        this.setState({ loading: \"guardar\" });\r\n        API.SaveOrder({\r\n            ciudad, sector, direccion, observacion, referencia,\r\n            detalle: choosen,\r\n            descuentoPorcentaje: descuentoAplica && descuentoAplica.porcentaje,\r\n            descuentoTotal: descuentoAplica && descuentoAplica.valor,\r\n            total: subtotal - ((descuentoAplica && descuentoAplica.valor) || 0),\r\n            position, numeroTransaccion\r\n        }).then(x => {\r\n            this.setState({\r\n                currentTab: 0,\r\n                descuentoAplica: null,\r\n                subtotal: 0,\r\n                numeroTransaccion: \"\",\r\n                observacion: \"\",\r\n                position: null,\r\n                loading: null,\r\n                productList: this.state.productList.map(x => {\r\n                    x.cantidad = 0;\r\n                    return x;\r\n                }),\r\n                isDirty: false\r\n            });\r\n            this.props.history.push(this.props.match.path + \"/survey/\" + x.id);\r\n            Preferences.Set(\"direccion\", {\r\n                direccion: this.state.direccion || \"\",\r\n                ciudad: this.state.ciudad || \"\",\r\n                sector: this.state.sector || \"\",\r\n                referencia: this.state.referencia || \"\"\r\n            });\r\n        }).catch(ex => {\r\n            this.failed_msg(ex.message + \" \" + (ex.status || \"\"), \"Ocurri un error\")\r\n            this.setState({\r\n                loading: null\r\n            });\r\n        });\r\n    }\r\n    failed_msg(message, title?) {\r\n        var params = new URLSearchParams({\r\n            a: title || \"No se puede guardar\",\r\n            b: message\r\n        });\r\n        this.props.history.push(this.props.match.path + \"/msg?\" + params.toString());\r\n    }\r\n    handleAction(event: React.MouseEvent<HTMLButtonElement>) {\r\n        const { name, value } = event.currentTarget;\r\n        var avoidIsDirty = (event as any).avoidIsDirty;\r\n        this.setState(prev => {\r\n            const state: any = { ...prev };\r\n            state.productList = JSON.parse(JSON.stringify(state.productList));\r\n            var item: Product = state.productList.find((a: any) => a.id === +value);\r\n            var cant: number = (item.cantidad && !isNaN(+item.cantidad) && item.cantidad) || 0;\r\n            const { cantidad_desde } = item;\r\n            if (name === \"+\") {\r\n                if (cant <= 0 && cantidad_desde) {\r\n                    cant = cantidad_desde;\r\n                } else {\r\n                    cant++;\r\n                }\r\n            } else if (name === \"-\") {\r\n                if (cant <= 10 && cantidad_desde) {\r\n                    cant = 0;\r\n                } else {\r\n                    cant--;\r\n                }\r\n            }\r\n            item.cantidad = cant;\r\n            state.subtotal = Totals(state.productList.filter(x => x.cantidad)).total;\r\n            state.descuentoAplica = EstimarDescuento(state.subtotal, state.tablaDescuentos);\r\n            if (!avoidIsDirty) {\r\n                state.isDirty = true;\r\n            }\r\n            return state;\r\n        });\r\n    }\r\n    handleValueChange(name: string, value: string) {\r\n        this.setState({ [name]: value, isDirty: true } as any);\r\n    }\r\n    handleChange(event: React.ChangeEvent<HTMLInputElement>) {\r\n        const { value, name } = event.currentTarget;\r\n        this.setState({ [name]: value, isDirty: true } as any);\r\n    }\r\n    render() {\r\n        const {\r\n            currentTab, productList, numeroTransaccion, descuentoAplica, subtotal,\r\n            loading, observacion,\r\n            ...remain_state\r\n        } = this.state;\r\n        const choosenItems = productList.filter((x: any) => x.cantidad);\r\n        console.info(\"Order render\");\r\n        const total = subtotal - ((descuentoAplica && descuentoAplica.valor) || 0);\r\n        if (loading === \"articulos\") {\r\n            return (<div style={{ width: \"100%\", textAlign: \"center\", paddingTop: 100 }} >\r\n                <CircularProgress size={100} />\r\n                <Typography variant=\"h6\">CARGANDO...</Typography>\r\n            </div >);\r\n        }\r\n\r\n\r\n        return (<div style={{ width: \"100%\", height: \"calc(100% - 1px)\", display: \"flex\", flexDirection: \"column\", padding: 10, overflow: \"hidden\" }} >\r\n            <Tabs variant=\"fullWidth\" onChange={this.handleTab} value={currentTab}>\r\n                <Tab label=\"Productos\" />\r\n                <Tab label=\"Pedido\" />\r\n                <Tab label=\"Direccin\" />\r\n                <Tab label=\"Pago\" />\r\n            </Tabs>\r\n            {currentTab === 0 && <ProductGrid visible={true} onActionChanged={this.handleAction} items={productList} />}\r\n            {currentTab === 1 && (<Paper style={{ display: currentTab === 1 ? \"block\" : \"none\", textAlign: \"center\", padding: 10, margin: \"auto\", marginTop: 10, width: \"100%\", maxWidth: 500, height: \"100%\" }}>\r\n                <Typography variant=\"h5\">TU PEDIDO</Typography>\r\n                <ConfirmOrder show_next_discount={true} items={choosenItems} descuento={descuentoAplica} subtotal={subtotal} total={total} />\r\n                <TextField variant=\"outlined\" value={observacion} name=\"observacion\" onChange={this.handleChange} style={{ width: \"calc(100% - 20px)\", margin: 10 }} label=\"Observacion\" multiline rows=\"2\" />\r\n            </Paper>)}\r\n            <Location visible={currentTab === 2} {...remain_state} onValueChange={this.handleValueChange} />\r\n            {currentTab === 3 && <Payment visible={true} loading={loading === \"guardar\"} total={total} onDone={this.handleDone} items={choosenItems} numeroTransaccion={numeroTransaccion} onValueChange={this.handleValueChange} />}\r\n\r\n            <Route path={this.props.match.path + \"/msg\"} component={RouteMessage} />\r\n            <Route path={this.props.match.path + \"/survey/:id\"} component={Survey} />\r\n\r\n            <Fab title=\"Guardar Borrador\" onClick={this.guardarBorrador} variant=\"extended\" style={{ position: \"fixed\", bottom: 20, right: 20 }} color=\"primary\">\r\n                <Save />\r\n            </Fab>\r\n        </div >)\r\n    }\r\n});\r\n\r\n\r\ninterface OrderState {\r\n    currentTab: number,\r\n    productList: Product[],\r\n    tablaDescuentos: Descuento[],\r\n    descuentoAplica: DescuentoCalc;\r\n    subtotal: number;\r\n    position: { lat: number, lng: number };\r\n    direccion: string;\r\n    sector: string;\r\n    ciudad: string;\r\n    referencia: string;\r\n    observacion: string;\r\n    numeroTransaccion: string;\r\n    loading: \"articulos\" | \"guardar\";\r\n    isDirty?: boolean;\r\n}","export function Totals(items: any[]) {\r\n    const result = {\r\n        total: 0,\r\n        cantidad: 0\r\n    }\r\n    for (let i = 0; i < items.length; i++) {\r\n        const item = items[i];\r\n        result.cantidad += item.cantidad;\r\n        result.total += (item.pvp_final * item.cantidad);\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function EstimarDescuento(total: number, tablaDescuentos: Descuento[]) {\r\n    // de MAYOR a MENOR\r\n    var sorted = tablaDescuentos.sort((a, b) => b.montoDesde - a.montoDesde);\r\n    var founded = -1;\r\n    var results: DescuentoCalc = {\r\n        porcentaje: 0,\r\n        valor: 0, \r\n        sgte_descuento_porcentaje: 0,\r\n        sgte_descuento_falta: 0\r\n    }\r\n    for (let i = 0; i < sorted.length; i++) {\r\n        const d = sorted[i];\r\n        if (total >= d.montoDesde) {\r\n            founded = i;\r\n            break;\r\n        }\r\n    }\r\n    if (founded >= 0) {\r\n        var desc = sorted[founded];\r\n        results.porcentaje = desc.porcentaje;\r\n        results.valor = (total * desc.porcentaje / 100);\r\n        // si no es el ultimo, busco al siguiente en la tabla\r\n    }\r\n    // si no existe, simulo que es el (MAXIMO+1), es decir esta fuera del rango\r\n    if (founded === -1) founded = sorted.length;\r\n    if ((founded - 1) >= 0) {\r\n        var next = sorted[founded - 1];\r\n        if (next) {\r\n            results.sgte_descuento_falta = next.montoDesde - total;\r\n            results.sgte_descuento_porcentaje = next.porcentaje;\r\n        }\r\n    }\r\n    return results;\r\n}","import React from \"react\";\r\nimport { Dialog, DialogContent, DialogTitle, Typography, TextField, Button, CircularProgress, DialogActions, Divider } from \"@material-ui/core\";\r\nimport ConfirmOrder from \"../Order/ConfirmOrder\";\r\nimport API from \"../../Services/API\";\r\n\r\nexport default class OrderDetails extends React.Component<{ onClose: (refresh: boolean) => void, match: any, editable: boolean }> {\r\n    state = {\r\n        loading: \"data\",\r\n        _fechaEntrega: \"\"\r\n    } as VisibleOrder\r\n    componentWillMount() {\r\n        API.GetOrder(+this.props.match.params.id)\r\n            .then(order => this.setState({ ...order, loading: null }));\r\n    }\r\n    handleClose = (event: React.MouseEvent<HTMLElement>) => {\r\n        this.props.onClose(this.state.shouldRefresh);\r\n    }\r\n    handleButton = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        const { name } = event.currentTarget;\r\n        if (name === \"APROBAR\") {\r\n            if (!this.state._fechaEntrega)\r\n                return alert(\"Agregue la fecha de Entrega\");\r\n            API.ActionOrder(this.state.id, { action: name, value: this.state._fechaEntrega })\r\n                .then(x => this.setState({\r\n                    estado: \"APROBADO\",\r\n                    fechaEntrega: this.state._fechaEntrega,\r\n                    loading: null,\r\n                    shouldRefresh: true\r\n                })).catch(ex => {\r\n                    alert(ex.message);\r\n                    this.setState({ loading: null });\r\n                });\r\n        }\r\n        if (name === \"RECHAZAR\") {\r\n            var cf = window.confirm(\"Esta seguro de rechazar este pedido?\");\r\n            if (!cf) return;\r\n            var value = window.prompt(\"Digita el Motivo de Rechazo\");\r\n            if (!value) return;\r\n            API.ActionOrder(this.state.id, { action: name, value })\r\n                .then(x => this.setState({ estado: \"RECHAZADO\", loading: null, shouldRefresh: true }))\r\n                .catch(ex => {\r\n                    alert(ex.message);\r\n                    this.setState({ loading: null });\r\n                });\r\n        }\r\n        if (name === \"ENTREGAR\") {\r\n            var cf = window.confirm(\"Esta seguro de seleccionar este pedido como ENTREGADO?\");\r\n            if (!cf) return;\r\n            API.ActionOrder(this.state.id, { action: name, value: null })\r\n                .then(x => this.setState({ estado: \"ENTREGADO\", loading: null, shouldRefresh: true }))\r\n                .catch(ex => { alert(ex.message); this.setState({ loading: null }) });\r\n        }\r\n        this.setState({ loading: name });\r\n    }\r\n    handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = event.currentTarget;\r\n        this.setState({ [name]: value })\r\n    }\r\n    render() {\r\n        const { numero,\r\n            fechaCreacion, fechaEntrega, _fechaEntrega, detalle,\r\n            descuentoPorcentaje, descuentoTotal, position, observacion,\r\n            direccion, sector, ciudad, referencia, numeroTransaccion,\r\n            estado, total, username, telefono,\r\n            survey1, survey2, loading, motivoAnulacion\r\n        } = this.state;\r\n        const editable = this.props.editable === true ? true : null;\r\n\r\n        if (loading === \"data\")\r\n            return (<Dialog open={true} onClose={this.handleClose} maxWidth=\"md\" >\r\n                <DialogContent style={{ textAlign: \"center\", paddingTop: 100, width: 400, height: 400 }}>\r\n                    <CircularProgress size={100} />\r\n                    <Typography variant=\"h6\">CARGANDO...</Typography>\r\n                </DialogContent>\r\n            </Dialog>);\r\n\r\n\r\n        return (<Dialog open={true} onClose={this.handleClose} maxWidth=\"md\">\r\n            <DialogTitle style={{ textAlign: \"center\" }}>ORDEN #{numero}</DialogTitle>\r\n            <DialogContent>\r\n                <Typography>FECHA: {new Date(fechaCreacion).toLocaleString()}</Typography>\r\n                {(!editable || estado !== \"PENDIENTE\") && <Typography> FECHA DE ENTREGA: {fechaEntrega && new Date(fechaEntrega).toLocaleDateString()}</Typography>}\r\n                <Typography> ESTADO: {estado} {motivoAnulacion && `| motivo: ${motivoAnulacion}`}</Typography>\r\n                {editable && <Typography> USUARIO: {username} | tel: {telefono}</Typography>}\r\n                <Typography variant=\"h6\" style={{ textAlign: \"center\", marginTop: 10 }}>PRODUCTOS:</Typography>\r\n                <ConfirmOrder items={detalle} descuento={{ porcentaje: descuentoPorcentaje, valor: descuentoTotal }} total={total} subtotal={total + descuentoTotal} />\r\n\r\n                <Typography style={{ marginTop: 10, marginBottom: 10 }}>COMPROBANTE DE PAGO: {numeroTransaccion}</Typography>\r\n\r\n                <Typography>DIRECCION: {direccion}, {referencia} ,{sector}, {ciudad}</Typography>\r\n\r\n                <Typography style={{ marginTop: 10 }}>OBSERVACIONES: {observacion}</Typography>\r\n                {position && <Button\r\n                    variant=\"contained\"\r\n                    fullWidth\r\n                    style={{ marginTop: 10, marginBottom: 10 }}\r\n                    color=\"primary\"\r\n                    component=\"a\"\r\n                    href={`https://www.google.com/maps/search/?api=1&query=${position.lat},${position.lng}`}\r\n                    target=\"_blank\"\r\n                >VER UBICACION DE ENTREGA</Button>}\r\n\r\n                {editable && estado === \"PENDIENTE\"\r\n                    ? (<div style={{ display: \"flex\", flexDirection: \"row\", marginTop: 10, marginBottom: 10 }}>\r\n                        <Typography variant=\"button\" style={{ marginRight: 10, paddingTop: 5 }} >Fecha de Entrega</Typography>\r\n                        <TextField\r\n                            type=\"date\"\r\n                            fullWidth\r\n                            name=\"_fechaEntrega\"\r\n                            value={_fechaEntrega || \"\"}\r\n                            style={{ flex: 1 }}\r\n                            onChange={this.handleChange}\r\n                        /></div>)\r\n                    : null}\r\n\r\n                {(editable && estado === \"PENDIENTE\")\r\n                    ? (<div style={{ marginTop: 10, marginBottom: 10, display: \"flex\", flexDirection: \"row\" }}>\r\n                        <Button onClick={this.handleButton} name=\"RECHAZAR\"\r\n                            style={{ marginLeft: 10, marginRight: 10, flex: 1 }}\r\n                            variant=\"text\" color=\"secondary\"\r\n                            disabled={Boolean(loading)}\r\n                        >{loading === \"RECHAZAR\" ? <CircularProgress size={25} color=\"inherit\" /> : \"RECHAZAR\"}</Button>\r\n                        <Button onClick={this.handleButton} name=\"APROBAR\"\r\n                            style={{ marginLeft: 10, marginRight: 10, flex: 1 }}\r\n                            variant=\"outlined\" color=\"primary\"\r\n                            disabled={Boolean(loading)}\r\n                        >{loading === \"APROBAR\" ? <CircularProgress color=\"inherit\" size={25} /> : \"APROBAR\"}</Button>\r\n                    </div>)\r\n                    : null}\r\n\r\n                <Divider style={{ margin: 10 }} />\r\n                <Typography style={{ marginTop: 10 }} variant=\"caption\">Cmo podemos ayudarte a mejorar tus ventas?</Typography>\r\n                <Typography>{survey1 || \"\"}</Typography>\r\n                <Typography style={{ marginTop: 10 }} variant=\"caption\">Compartenos alguna expendiencia que hayan tenido tus clientes usando nuestros productos</Typography>\r\n                <Typography>{survey2 || \"\"}</Typography>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                {editable && estado === \"APROBADO\" ? (<Button color=\"primary\" name=\"ENTREGAR\" onClick={this.handleButton}>\r\n                    {loading === \"ENTREGAR\" ? <CircularProgress color=\"inherit\" size={25} /> : \"ENTREGAR\"}\r\n                </Button>) : null}\r\n                <Button onClick={this.handleClose}>SALIR</Button>\r\n            </DialogActions>\r\n        </Dialog>);\r\n    }\r\n}\r\n\r\ninterface VisibleOrder extends Order {\r\n    loading: string;\r\n    _fechaEntrega: string;\r\n    shouldRefresh: boolean;\r\n}\r\n\r\n\r\nfunction TwoPlaces(number: number) {\r\n    return number.toString().length === 1 ? (\"0\" + number) : number;\r\n}","import React from \"react\";\r\nimport { List, ListItem, Grid, Paper, Typography, Hidden, CircularProgress } from \"@material-ui/core\";\r\nimport API from \"../../Services/API\";\r\nimport { Route } from \"react-router-dom\";\r\nimport OrderDetails from \"./OrderDetails\";\r\nimport Message from \"../Message\";\r\nexport default class extends React.Component<any> {\r\n    state = {\r\n        data: [] as Order[],\r\n        msg: null,\r\n        loading: true\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        props.onMounted(props.match.path);\r\n        this.handleClick = this.handleClick.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleMessage = this.handleMessage.bind(this);\r\n    }\r\n    componentWillMount() {\r\n        API.GetOrders()\r\n            .then(data => this.setState({ data, loading: null }))\r\n            .catch(err => this.setState({\r\n                loading: null,\r\n                msg: { title: \"Ocurri un error\", message: err.message, info: err.code }\r\n            }));\r\n    }\r\n    handleMessage() {\r\n        this.setState({ msg: null });\r\n    }\r\n    handleClick(event: React.MouseEvent<HTMLElement>) {\r\n        const { id } = event.currentTarget;\r\n        this.props.history.push(this.props.match.path + \"/\" + id);\r\n    }\r\n    handleClose(refresh: boolean) {\r\n        if (refresh) {\r\n            this.setState({ loading: true });\r\n            API.GetOrders()\r\n                .then(data => this.setState({ data, loading: null }))\r\n                .catch(ex => this.setState({\r\n                    msg: { title: \"No se pudo actualizar el listado\", message: ex.message, info: ex.code },\r\n                    loading: null\r\n                }));\r\n        }\r\n        this.props.history.push(this.props.match.path);\r\n    }\r\n    render() {\r\n        const { data, msg, loading } = this.state;\r\n        const { rol } = this.props;\r\n\r\n        if (loading) return (<div style={{ width: \"100%\", textAlign: \"center\", paddingTop: 100 }}>\r\n            <CircularProgress size={100} />\r\n            <Typography variant=\"h6\">CARGANDO...</Typography>\r\n        </div>);\r\n\r\n        return (<Paper style={{ width: \"calc(100%-20px)\", height: \"calc(100% - 30px)\", display: \"flex\", flexDirection: \"column\", margin: 10, padding: 10, paddingBottom: 0, overflowX: \"hidden\" }}>\r\n            <List>\r\n                <Hidden xsDown implementation=\"css\" >\r\n                    <ListItem>\r\n                        <Grid container spacing={1} style={{ borderBottom: \"1px solid #ebebeb\" }}>\r\n                            <Grid sm={2} item><Typography variant=\"overline\">Numero</Typography></Grid>\r\n                            <Grid sm={2} item><Typography variant=\"overline\">Creado</Typography></Grid>\r\n\r\n                            {rol === 3 && <Grid sm={3} item><Typography variant=\"overline\">Usuario</Typography></Grid>}\r\n\r\n                            <Grid sm={1} item><Typography variant=\"overline\">Total</Typography></Grid>\r\n\r\n                            {rol === 1 && <Grid sm={1} item><Typography variant=\"overline\">Ganancia</Typography></Grid>}\r\n\r\n                            <Grid sm={2} item><Typography variant=\"overline\">Estado</Typography></Grid>\r\n\r\n                            <Grid sm={2} item><Typography variant=\"overline\">Fecha de Entrega</Typography></Grid>\r\n                        </Grid>\r\n                    </ListItem>\r\n                </Hidden>\r\n                {data.map(d => <ListItem key={d.id} id={\"\" + d.id} button onClick={this.handleClick}>\r\n                    <Grid container spacing={1} style={{ paddingTop: 5, paddingBottom: 5, borderBottom: \"1px solid #fafafa\" }}>\r\n\r\n                        <Grid xs={12} sm={2} item >\r\n                            <Hidden smUp >PEDIDO #</Hidden>\r\n                            {d.id}\r\n                        </Grid>\r\n                        <Grid xs={12} sm={2} item >\r\n                            {new Date(d.fechaCreacion).toLocaleDateString()}\r\n                        </Grid>\r\n\r\n                        {rol === 3 && <Grid xs={12} sm={3} item >\r\n                            {d.username}\r\n                        </Grid>}\r\n\r\n                        <Grid xs={12} sm={1} item >$ {d.total.toFixed(2)}</Grid>\r\n\r\n                        {rol === 1 && <Grid xs={12} sm={1} item >$ {(d.descuentoTotal || 0).toFixed(2)}</Grid>}\r\n\r\n                        <Grid xs={12} sm={2} item ><Typography color={EstadoToVariant(d.estado)}>{d.estado}</Typography></Grid>\r\n\r\n                        <Grid xs={12} sm={2} item >{d.fechaEntrega && new Date(d.fechaEntrega).toDateString()}</Grid>\r\n                    </Grid>\r\n                </ListItem>)}\r\n            </List>\r\n\r\n            {msg && <Message {...msg} onClose={this.handleMessage} />}\r\n\r\n            <Route\r\n                path={this.props.match.path + \"/:id\"}\r\n                render={props => <OrderDetails {...props} onClose={this.handleClose} editable={rol === 3} />}\r\n            />\r\n        </Paper>);\r\n    }\r\n}\r\n\r\nfunction EstadoToVariant(estado): any {\r\n    if (estado === \"APROBADO\") return \"primary\";\r\n    if (estado === \"RECHAZADO\") return \"secondary\";\r\n    return \"initial\";\r\n}","import React from \"react\";\r\nimport { List, ListItem, Typography } from \"@material-ui/core\";\r\nexport default class Ranking extends React.PureComponent<{ data: Rank[], showLastOrder?: boolean, perfomanceStat?: boolean }> {\r\n    render() {\r\n        const { data, showLastOrder, perfomanceStat } = this.props;\r\n        return (<List>\r\n            {data.sort((a, b) => b.stat - a.stat)\r\n                .map((r, index) => (<ListItem key={index} id={\"ranking-listitem-\" + index} >\r\n                    <div style={{ display: \"table\", width: \"100%\" }} >\r\n                        <Typography style={{ display: \"table-cell\", width: 50 }} variant={r.me ? \"body1\" : \"caption\"}># {index + 1}</Typography>\r\n                        <Typography style={{ display: \"table-cell\" }} variant={r.me ? \"body1\" : \"caption\"} >{r.username}</Typography>\r\n                        <Typography color={perfomanceStat && r.stat ? (r.stat > 0 ? \"primary\" : \"secondary\") : \"inherit\"} style={{ display: \"table-cell\", textAlign: \"right\", width: 100 }} variant={r.me ? \"body1\" : \"caption\"}>\r\n                            {perfomanceStat ? \"%\" : \"$\"} {r.stat.toFixed(2)} {perfomanceStat && r.stat ? (r.stat > 0 ? \"\" : \"\") : null}\r\n                        </Typography>\r\n                        {showLastOrder &&\r\n                            <Typography style={{ display: \"table-cell\", textAlign: \"right\", width: 100, paddingLeft: 10 }} variant={r.me ? \"body1\" : \"caption\"}>{DateToString(r.ultimoPedido)}</Typography>}\r\n                    </div>\r\n                </ListItem>))}\r\n        </List>)\r\n    }\r\n}\r\nfunction DateToString(x) {\r\n    if (!x) return \"Nunca\";\r\n    var date = new Date(x);\r\n    if (isNaN(+date)) return x;\r\n    var ahora = new Date();\r\n    if (date.getDate() === ahora.getDate() &&\r\n        date.getMonth() === ahora.getMonth() &&\r\n        date.getFullYear() === ahora.getFullYear()) {\r\n        return date.toLocaleTimeString();\r\n    }\r\n\r\n    for (let i = 1; i < 30; i++) {\r\n        var este_dia = new Date(ahora.getFullYear(), ahora.getMonth(), ahora.getDate() - i);\r\n        if (date.getDate() === este_dia.getDate() &&\r\n            date.getMonth() === este_dia.getMonth() &&\r\n            date.getFullYear() === este_dia.getFullYear()) {\r\n            if (i === 1) return \"Ayer\";\r\n            return \"Hace \" + i + \" das\";\r\n        }\r\n    }\r\n    return date.toLocaleDateString();\r\n}","import React from \"react\";\r\nimport { CardContent, CardHeader, Card } from \"@material-ui/core\";\r\nimport Ranking from \"../Ranking\";\r\nexport default function RankingCard(props: {\r\n    data: Rank[],\r\n    title?: string,\r\n    showLastOrder?: boolean,\r\n    perfomanceStat?: boolean\r\n}) {\r\n    return (<Card className=\"dashboard-card\" style={{ display: \"flex\", flexDirection: \"column\" }} >\r\n        <CardHeader title={props.title} style={{ textAlign: \"center\" }} />\r\n        <CardContent style={{ flex: 1, overflow: \"auto\" }}>\r\n            <Ranking data={props.data} showLastOrder={props.showLastOrder} perfomanceStat={props.perfomanceStat} />\r\n        </CardContent>\r\n    </Card>)\r\n}","import React from \"react\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Card, CardContent, CardHeader } from \"@material-ui/core\";\r\n\r\nexport default class LineCard extends React.PureComponent<{ data: any[], title: string }> {\r\n    state = {\r\n        options: {\r\n            title: { display: false },\r\n            legend: { display: false },\r\n            maintainAspectRatio: false,\r\n            bezierCurve: false,\r\n            scales: {\r\n                yAxes: [{\r\n\r\n                    ticks: {\r\n                        maxTicksLimit: 10,\r\n                        padding: 5\r\n                    }\r\n                }],\r\n                xAxes: [{\r\n                    ticks: {\r\n                        padding: 5\r\n                    }\r\n                }]\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        var labels = [];\r\n        var values = [];\r\n        for (let i = 0; i < this.props.data.length; i++) {\r\n            const el = this.props.data[i];\r\n            if (el.we) {\r\n                var x = new Date(el.we);\r\n                labels.push(`${x.getDate()} ${months[x.getMonth()]}`);\r\n            } else {\r\n                labels.push(el.label);\r\n            }\r\n            values.push(el.value);\r\n        }\r\n        const data = {\r\n            labels,\r\n            datasets: [{\r\n                backgroundColor: \"#3f51b5\",\r\n                borderColor: \"#3f51b5\",\r\n                data: values,\r\n                lineTension: 0,\r\n                fill: false\r\n            }]\r\n        }\r\n        return (<Card className=\"dashboard-card\" style={{ display: \"flex\", flexDirection: \"column\" }} >\r\n            <CardHeader style={{ textAlign: \"center\" }} title={this.props.title} />\r\n            <CardContent style={{ width: \"100%\", flex: 1, padding: 5 }}>\r\n                <Line options={this.state.options} data={data} />\r\n            </CardContent>\r\n        </Card >);\r\n    }\r\n}\r\n\r\nvar months = [\"Ene\", \"Feb\", \"Mar\", \"Abr\", \"May\", \"Jun\", \"Jul\", \"Ago\", \"Sept\", \"Oct\", \"Nov\", \"Dic\"];","import React from \"react\";\r\nimport { Card, CardContent, Typography, CardHeader, List, ListItem, ListItemText, ListItemSecondaryAction, Divider } from \"@material-ui/core\";\r\n\r\nexport default function ProfitCard(props: { month: number, year: number }) {\r\n    const { month, year } = props;\r\n    var reservas = 0, promo = 0;\r\n    if (month) {\r\n        reservas = (month * 5) / 100;\r\n        promo = (month * 14) / 100;\r\n    }\r\n    return (<Card className=\"dashboard-card\">\r\n        <CardHeader title=\"GANANCIAS\" style={{ textAlign: \"center\" }} />\r\n        <CardContent>\r\n            <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                <div style={{ textAlign: \"center\", flex: 1 }}>\r\n                    <Typography color=\"primary\" variant=\"h5\" style={{ flex: 1 }}>$ {reduceMoney(month)}</Typography>\r\n                    <Typography color=\"primary\">ESTE MES</Typography>\r\n                </div>\r\n                <div style={{ borderLeft: \"1px solid black\", textAlign: \"center\", flex: 1 }}>\r\n                    <Typography variant=\"h5\" style={{ flex: 1 }} >$ {reduceMoney(year)}</Typography>\r\n                    <Typography>ESTE AO</Typography>\r\n                </div>\r\n            </div>\r\n            <Typography variant=\"subtitle1\" style={{ marginTop: 20, paddingLeft: 15, textAlign: \"left\" }}>Te aconsejamos apartar lo siguiente:</Typography>\r\n            <List>\r\n                <ListItem dense>\r\n                    <ListItemText primary=\"RESERVAS 5%\" />\r\n                    <ListItemSecondaryAction>$ {reservas.toFixed(2)}</ListItemSecondaryAction>\r\n                </ListItem>\r\n                <ListItem dense>\r\n                    <ListItemText primary=\"PROMOCION 14%\" />\r\n                    <ListItemSecondaryAction>$ {promo.toFixed(2)}</ListItemSecondaryAction>\r\n                </ListItem>\r\n            </List>\r\n        </CardContent >\r\n    </Card >)\r\n}\r\nfunction reduceMoney(value) {\r\n    if (!value) return 0;\r\n    if (value > 1000) return (+(value / 1000).toFixed(1)) + \" K\";\r\n    if (value > 1000000) return (+(value / 1000).toFixed(1)) + \" M\";\r\n    return +value.toFixed(2);\r\n}","import React from \"react\";\r\nimport { Pie } from \"react-chartjs-2\";\r\nimport { Card, CardContent, CardHeader } from \"@material-ui/core\";\r\n\r\nexport default class PieCard extends React.PureComponent<{ data: any[], title: string }> {\r\n    state = {\r\n        options: {\r\n            title: { display: false },\r\n            legend: { display: false },\r\n            maintainAspectRatio: false\r\n        }\r\n    }\r\n    render() {\r\n        var labels = [];\r\n        var values = [];\r\n        var backgroundColor = [];\r\n        var info = this.props.data.sort((a, b) => b.value - a.value);\r\n        for (let i = 0; i < info.length; i++) {\r\n            const el = info[i];\r\n            labels.push(el.label);\r\n            values.push(el.value);\r\n            backgroundColor.push(el.color);\r\n        }\r\n        const data = {\r\n            labels,\r\n            datasets: [{\r\n                backgroundColor,\r\n                data: values\r\n            }]\r\n        }\r\n        return (<Card className=\"dashboard-card\" style={{ display: \"flex\", flexDirection: \"column\" }} >\r\n            <CardHeader style={{ textAlign: \"center\" }} title={this.props.title} />\r\n            <CardContent style={{ width: \"100%\", flex: 1, padding: 5 }}>\r\n                <Pie options={this.state.options} data={data} />\r\n            </CardContent>\r\n        </Card >)\r\n    }\r\n}","import React from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { Card, CardContent, CardHeader } from \"@material-ui/core\";\r\n\r\nexport default class BardCard extends React.PureComponent<{ data: any[], title: string }> {\r\n    state = {\r\n        options: {\r\n            title: { display: false },\r\n            legend: { display: false },\r\n            maintainAspectRatio: false\r\n        }\r\n    }\r\n    render() {\r\n        var labels = [];\r\n        var values = [];\r\n        for (let i = 0; i < this.props.data.length; i++) {\r\n            const el = this.props.data[i];\r\n            labels.push(el.label);\r\n            if (el.we) {\r\n                values.push(new Date(el.we).toLocaleDateString());\r\n            } else {\r\n                values.push(el.value);\r\n            }\r\n        }\r\n        const data = {\r\n            labels,\r\n            datasets: [{\r\n                backgroundColor: \"#3f51b5\",\r\n                borderColor: \"#3f51b5\",\r\n                data: values,\r\n                fill: false\r\n            }]\r\n        }\r\n        return (<Card className=\"dashboard-card\" style={{ display: \"flex\", flexDirection: \"column\" }} >\r\n            <CardHeader style={{ textAlign: \"center\" }} title={this.props.title} />\r\n            <CardContent style={{ width: \"100%\", flex: 1, padding: 5 }}>\r\n                <Bar options={this.state.options} data={data} />\r\n            </CardContent>\r\n        </Card >)\r\n    }\r\n}","import React from \"react\";\r\nimport { Grid, CircularProgress, Typography, Hidden, Divider } from \"@material-ui/core\";\r\nimport RankingCard from \"./RankingCard\";\r\nimport API from \"../../Services/API\";\r\nimport LineCard from \"./LineCard\"\r\nimport ProfitCard from \"./ProfitCard\";\r\nimport PieCard from \"./PieCard\";\r\nimport BardCard from \"./BarCard\";\r\nexport default class Feed extends React.Component<{ onMounted: Function, grupo: string, username: string, rol: number }> {\r\n    state = {\r\n        loading: true,\r\n        error: null,\r\n        week_ranking: [],\r\n        group_graph: [],\r\n        personal_graph: [],\r\n        year_sales: [],\r\n        product_resume: [],\r\n        group_ranking: []\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        props.onMounted(props.match.path);\r\n    }\r\n    componentWillMount() {\r\n        API.Stats([\"week_ranking\",\r\n            \"personal_graph\",\r\n            \"group_graph\",\r\n            \"year_sales\",\r\n            \"product_resume\",\r\n            \"group_ranking\"])\r\n            .then(x => this.setState({ ...x, loading: null }))\r\n            .catch(error => {\r\n                this.setState({ error, loading: null });\r\n            });\r\n    }\r\n    render() {\r\n        var { loading, error,\r\n            week_ranking,\r\n            personal_graph,\r\n            group_graph,\r\n            year_sales,\r\n            product_resume,\r\n            group_ranking\r\n        } = this.state;\r\n        const { rol, grupo, username } = this.props;\r\n        const week_progress = week_ranking.map((x, index) => ({ ...x, stat: x.perfomance, position: index + 1 }));\r\n        const cumulative_ranking = week_ranking.map((x, index) =>\r\n            ({ ...x, stat: x.monto_acumulativo, position: index + 1, ultimoPedido: x.fechaNacimiento })\r\n        );\r\n\r\n        var resume = { month: 0, year: 0 };\r\n        var ahora = new Date();\r\n        for (let i = 0; i < year_sales.length; i++) {\r\n            const x = year_sales[i];\r\n            x.createdAt = new Date(x.createdAt);\r\n            if (x.createdAt.getMonth() === ahora.getMonth() &&\r\n                x.createdAt.getFullYear() === ahora.getFullYear()) {\r\n                resume.month += x.profit;\r\n            }\r\n            resume.year += x.profit;\r\n        }\r\n\r\n        if (loading) return (<div style={{ width: \"100%\", paddingTop: 100, textAlign: \"center\" }}>\r\n            <CircularProgress size={100} />\r\n            <Typography variant=\"h6\">CARGANDO...</Typography>\r\n        </div>);\r\n\r\n        if (error) return (<div style={{ width: \"100%\", paddingTop: 100, textAlign: \"center\" }}>\r\n            <Typography variant=\"h5\">OCURRI UN PROBLEMA</Typography>\r\n            <Typography variant=\"subtitle1\">{error.message}</Typography>\r\n            <Typography variant=\"body1\">{error.status} {error.code}</Typography>\r\n        </div>);\r\n\r\n        return (<Grid container spacing={2} style={{ margin: \"auto\", width: \"calc(100% - 10px)\", textAlign: \"center\" }} >\r\n            <Grid item xs={12}>\r\n                <Typography color=\"primary\" variant=\"h6\">\r\n                    Hola {username}, Esta es tu cuenta personal de Nat.\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\">\r\n                    Estamos aqu para prosperar juntos. Estos son los indicadores de tu trabajo.\r\n                </Typography>\r\n            </Grid>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <RankingCard data={group_ranking} title=\"RANKING DE GRUPOS\" />\r\n            </Grid>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <LineCard data={personal_graph} title={\"ESTADISTICA SEMANAL\"} />\r\n            </Grid>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <BardCard data={group_graph} title={grupo || \"ESTADISTICA MENSUAL\"} />\r\n            </Grid>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <PieCard data={product_resume} title=\"PRODUCTOS VENDIDOS\" />\r\n            </Grid>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <ProfitCard month={resume.month} year={resume.year} />\r\n            </Grid>\r\n\r\n            <Hidden smUp>\r\n                <Grid item xs={12}>\r\n                    <Divider />\r\n                </Grid>\r\n            </Hidden>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <RankingCard data={week_ranking} title=\"RANKING DE LA SEMANA\" showLastOrder={rol !== 1} />\r\n            </Grid>\r\n\r\n            <Grid item sm={6} xs={12}>\r\n                <RankingCard data={week_progress} title=\"PROGRESO DE LA SEMANA\" perfomanceStat={true} />\r\n            </Grid>\r\n\r\n            {rol !== 1 && <Grid item sm={6} xs={12}>\r\n                <RankingCard data={cumulative_ranking} title=\"RANKING ACUMULATIVO\" showLastOrder={true} />\r\n            </Grid>}\r\n\r\n\r\n        </Grid>);\r\n    }\r\n}","import React from \"react\";\r\nimport { Table, TableHead, TextField, TableCell, TableRow, Button, CircularProgress, Typography, TableBody, Paper } from \"@material-ui/core\";\r\nimport API from \"../../Services/API\";\r\nexport default class ProductSales extends React.Component {\r\n    state = {\r\n        loading: null,\r\n        error: null,\r\n        data: []\r\n    }\r\n    handleClick = () => {\r\n        if (this.state.loading) return;\r\n        var desde = this.valueOf(\"desde\");\r\n        var hasta = this.valueOf(\"hasta\");\r\n        var estado = this.valueOf(\"estado\");\r\n        if (!(desde && !isNaN(+new Date(desde)))) return alert(\"Selecciona la fecha desde\");\r\n        if (!(hasta && !isNaN(+new Date(hasta)))) return alert(\"Selecciona la fecha hasta\");\r\n        if (!estado) return alert(\"Selecciona el estado\");\r\n\r\n        this.setState({ loading: true });\r\n\r\n        desde = new Date(desde).toJSON();\r\n        hasta = new Date(hasta).toJSON();\r\n\r\n        API.ProductSalesReport({ desde, hasta, estado })\r\n            .then(data => this.setState({ data, loading: null, error: null }))\r\n            .catch(error => this.setState({ error, loading: null }));\r\n    }\r\n    valueOf(ID: string) {\r\n        var el = document.getElementById(ID) as any;\r\n        return el && el.value;\r\n    }\r\n    render() {\r\n        const { data, error, loading } = this.state;\r\n        return (<div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n            <div>\r\n                <TextField style={{ marginLeft: 10, marginRight: 10 }} type=\"datetime-local\" inputProps={{ id: \"desde\" }} />\r\n                <TextField style={{ marginLeft: 10, marginRight: 10 }} type=\"datetime-local\" inputProps={{ id: \"hasta\" }} />\r\n                <TextField style={{ marginLeft: 10, marginRight: 10 }} select SelectProps={{ native: true }} inputProps={{ id: \"estado\" }} >\r\n                    <option value={1}>PENDIENTE</option>\r\n                    <option value={0}>APROBADO</option>\r\n                    <option value={2}>RECHAZADO</option>\r\n                    <option value={3}>ENTREGADO</option>\r\n                </TextField>\r\n                <Button disabled={loading} style={{ marginLeft: 10, marginRight: 10 }} variant=\"outlined\" onClick={this.handleClick} >GENERAR</Button>\r\n            </div>\r\n            {loading\r\n                ? (<div style={{ width: \"100%\", marginTop: 100, textAlign: \"center\" }} >\r\n                    <CircularProgress size={100} />\r\n                    <Typography variant=\"h6\">CARGANDO...</Typography>\r\n                </div>)\r\n                : (error\r\n                    ? (<div style={{ width: \"100%\", marginTop: 100, textAlign: \"center\" }} >\r\n                        <Typography variant=\"h4\">OCURRI UN ERROR</Typography>\r\n                        <Typography variant=\"subtitle1\">{error.message}</Typography>\r\n                        <Typography variant=\"subtitle2\" >{error.code} {error.status}</Typography>\r\n                    </div>)\r\n                    : (<div>\r\n                        <Table>\r\n                            <TableHead>\r\n                                <TableRow>\r\n                                    <TableCell component=\"th\" >Fecha</TableCell>\r\n                                    <TableCell component=\"th\" >#</TableCell>\r\n                                    <TableCell component=\"th\" >Usuario</TableCell>\r\n                                    <TableCell component=\"th\" >Estado</TableCell>\r\n                                    <TableCell component=\"th\" >Observacion</TableCell>\r\n                                    <TableCell component=\"th\" >Fecha Envo</TableCell>\r\n                                    <TableCell component=\"th\" >Entregado</TableCell>\r\n                                    <TableCell component=\"th\" >Motivo Anulacion</TableCell>\r\n                                    <TableCell component=\"th\" >Producto</TableCell>\r\n                                    <TableCell component=\"th\" >Cant</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {data.map(d => (<TableRow key={d.id}>\r\n                                    <TableCell >{new Date(d.createdAt).toLocaleDateString()}</TableCell>\r\n                                    <TableCell>{d.idPedido}</TableCell>\r\n                                    <TableCell>{d.username}</TableCell>\r\n                                    <TableCell>{d.estado}</TableCell>\r\n                                    <TableCell>{d.observacion}</TableCell>\r\n                                    <TableCell>{d.fechaEntrega && new Date(d.fechaEntrega).toLocaleDateString()}</TableCell>\r\n                                    <TableCell>{d.fechaEntrega && new Date(d.fechaEntrega).toLocaleDateString()}</TableCell>\r\n                                    <TableCell>{d.motivoAnulacion}</TableCell>\r\n                                    <TableCell>{d.descripcion}</TableCell>\r\n                                    <TableCell>{d.cantidad}</TableCell>\r\n                                </TableRow>))}\r\n                            </TableBody>\r\n                        </Table>\r\n                    </div>)\r\n                )}\r\n        </div >)\r\n    }\r\n}","import React from \"react\";\r\nimport { Tabs, Tab, Paper } from \"@material-ui/core\";\r\nimport ProductSales from \"./ProductSales\";\r\n\r\nexport default class Reports extends React.Component<any> {\r\n    state = {\r\n        currentTab: 0\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        props.onMounted(props.match.path);\r\n    }\r\n    handleChange = (x, currentTab) => {\r\n        this.setState({ currentTab });\r\n    }\r\n    render() {\r\n        const { currentTab } = this.state;\r\n        return (\r\n            <Paper style={{ margin: 10 }}>\r\n                <Tabs style={{ marginBottom: 10 }} value={currentTab} onChange={this.handleChange}>\r\n                    <Tab label=\"Detalle de Productos\" />\r\n                </Tabs>\r\n                {currentTab === 0 && <ProductSales />}\r\n            </Paper>)\r\n    }\r\n}","import React from 'react';\nimport { Drawer, List, ListItem, ListItemIcon, ListItemText, Typography, CssBaseline, withStyles, AppBar, Toolbar, IconButton, Hidden } from '@material-ui/core';\nimport { ShoppingCart, ListAlt, Menu, Close, Help, Inbox, Report } from \"@material-ui/icons\";\nimport { Link, Switch, Route, Redirect, HashRouter } from \"react-router-dom\";\nimport Order from './../Components/Order';\nimport OrderList from './../Components/OrderList';\nimport Feed from './../Components/Feed';\nimport Reports from './../Components/Reports';\n\nconst OPCIONES = [\n  { label: \"Inicio\", Icon: Inbox, path: \"/feed\" },\n  /** NINGUN PATH puede comenzar por order porque dana algunas partes de la logica */\n  { label: \"Nuevo Pedido\", Icon: ShoppingCart, path: \"/order\" },\n  { label: \"Pedidos\", Icon: ListAlt, path: \"/my-orders\" },\n  { label: \"Reportes\", Icon: Report, path: \"/reports\" }\n];\n\nconst drawerWidth = 200;\n\nexport default withStyles(theme => ({\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: drawerWidth\n    }\n  },\n  appBar: {\n    display: \"block\"\n  }\n}))(class Main extends React.Component<{ username: string, rol: string, grupo: string, token: string, window: any, classes: any }, any> {\n\n  state = { selected: \"\", isMenuOpen: false, username: \"\", grupo: \"\", token: \"\", rol: 0, accesos: [], descuentos: [] as Descuento[] };\n\n  constructor(props: any) {\n    super(props);\n    this.onMounted = this.onMounted.bind(this);\n    this.handleMenu = this.handleMenu.bind(this);\n    this.closeMenu = this.closeMenu.bind(this);\n    this.state.username = props.username;\n    this.state.grupo = props.grupo;\n    this.state.rol = props.rol;\n    this.state.descuentos = props.descuentos || [];\n    this.state.accesos = [...OPCIONES];\n    if (this.state.rol !== 3) {\n      this.state.accesos = [...OPCIONES];\n      this.state.accesos.splice(3, 1);\n    }\n  }\n  onMounted(selected: string) {\n    this.setState({ selected });\n  }\n  handleMenu() {\n    this.setState(prev => {\n      const state = { ...prev };\n      state.isMenuOpen = !state.isMenuOpen;\n      return state;\n    });\n  }\n  closeMenu() {\n    this.setState({ isMenuOpen: false });\n  }\n  render() {\n    const { selected, isMenuOpen, username, grupo } = this.state;\n    const { window, classes } = this.props;\n    const container = window !== undefined ? () => window().document.body : undefined;\n\n    const drawerChildren = (<div style={{ display: \"flex\", flexDirection: \"column\" }}>\n      <div style={{ textAlign: \"center\", marginTop: 10, marginBottom: 10 }}>\n        <Typography style={{ display: \"block\" }} variant=\"button\">{username}</Typography>\n        <Typography style={{ display: \"block\" }} variant=\"caption\">{grupo}</Typography>\n      </div>\n      <List style={{ flex: 1 }}>\n        {this.state.accesos.map(o => (<ListItem onClick={this.closeMenu} selected={selected === o.path} component={Link} to={o.path} button key={o.label}>\n          <ListItemIcon >{<o.Icon />}</ListItemIcon>\n          <ListItemText style={{ flex: 1 }} primary={o.label} />\n        </ListItem>))}\n      </List>\n      <ListItem component=\"a\" target=\"_a\" href=\"https://wa.me/\" >\n        <ListItemIcon> <Help /> </ListItemIcon>\n        <ListItemText primary=\"AYUDA\" />\n      </ListItem>\n    </div>);\n\n    return (<HashRouter basename=\"/app\">\n      <div style={{ width: \"100%\", height: \"100%\" }}>\n        <CssBaseline />\n        <nav className={classes.drawer}>\n          <Hidden smUp implementation=\"css\" >\n            <Drawer\n              container={container}\n              variant=\"temporary\"\n              anchor={'left'}\n              open={isMenuOpen}\n              onClose={this.closeMenu}\n              classes={{ paper: classes.drawerPaper }}\n              ModalProps={{\n                keepMounted: true, // Better open performance on mobile.\n              }}\n            >\n              <div className={classes.toolbar} style={{ textAlign: \"right\" }}>\n                <IconButton onClick={this.handleMenu}>\n                  <Close />\n                </IconButton>\n              </div>\n              {drawerChildren}\n            </Drawer>\n          </Hidden>\n          <Hidden xsDown implementation=\"css\">\n            <Drawer\n              classes={{ paper: classes.drawerPaper }}\n              variant=\"permanent\"\n              open\n            >\n              {drawerChildren}\n            </Drawer>\n          </Hidden>\n        </nav>\n\n        <Hidden smUp implementation=\"css\" >\n          <AppBar position=\"fixed\" className={classes.x}>\n            <Toolbar>\n              <IconButton\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                edge=\"start\"\n                onClick={this.handleMenu}\n              >\n                <Menu />\n              </IconButton>\n              <Typography style={{ flexGrow: 1 }}>{(OPCIONES.find(x => x.path === selected) || {}).label}</Typography>\n            </Toolbar>\n          </AppBar>\n        </Hidden>\n\n        <main className={classes.content}>\n          <Hidden smUp implementation=\"css\" >\n            <div className={classes.toolbar}></div>\n          </Hidden>\n          <Switch>\n            <Route path=\"/feed\" render={props => <Feed {...props} onMounted={this.onMounted} grupo={this.state.grupo} username={this.state.username} rol={this.state.rol} />} />\n            <Route path=\"/order\" render={_ => <Order onMounted={this.onMounted} rol={this.state.rol} descuentos={this.state.descuentos} />} />\n            <Route path=\"/my-orders\" render={props => <OrderList {...props} rol={this.state.rol} onMounted={this.onMounted} />} />\n            <Route path=\"/reports\" render={props => <Reports {...props} rol={this.state.rol} onMounted={this.onMounted} />} />\n            <Route path=\"/\" exact><Redirect to=\"/feed\" /></Route>\n          </Switch>\n        </main>\n      </div>\n    </HashRouter>)\n  }\n});","import React from \"react\";\r\nimport { Paper, Typography, TextField, InputAdornment, IconButton, CircularProgress, Divider, Button, FormLabel } from \"@material-ui/core\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport API from \"../Services/API\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default class SignIn extends React.Component {\r\n    state = {\r\n        nombre: \"\",\r\n        identificacion: \"\",\r\n        telefono: \"\",\r\n        email: \"\",\r\n        fechaNacimiento: \"\",\r\n        pais: \"\",\r\n        ciudad: \"\",\r\n        direccion: \"\",\r\n        username: \"\",\r\n        password: \"\",\r\n        confirm_password: \"\",\r\n        error: null,\r\n        loading: false,\r\n        fin_registro: null\r\n    }\r\n    handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = event.currentTarget;\r\n        this.setState({ [name]: value });\r\n    }\r\n    handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        if (this.state.loading) return;\r\n        var error = Validar(this.state);\r\n        if (error) return this.setState({ error });\r\n        this.setState({ loading: true, error: null });\r\n        setTimeout(() => {\r\n            API.SignIn(this.state)\r\n                .then(x => this.setState({ loading: false, fin_registro: x.email })\r\n                ).catch(error => this.setState({ error, loading: false }));\r\n        }, 2000);\r\n    }\r\n    render() {\r\n        const { state } = this;\r\n        const { loading, error, fin_registro } = this.state;\r\n\r\n        if (fin_registro) return (<div style={{ width: \"100%\", padding: 30, textAlign: \"center\" }}>\r\n            <Typography variant=\"h4\">Registro completado!</Typography>\r\n            <Typography variant=\"subtitle1\">\r\n                Para habilitar tu cuenta entra a tu correo ({fin_registro})\r\n            y abre el enlace que te enviamos.\r\n            </Typography>\r\n        </div>);\r\n\r\n        return (<main style={{ width: \"100%\", paddingTop: 10, textAlign: \"center\", backgroundColor: \"#fafafa\" }}>\r\n            <Paper style={{ padding: 20, margin: \"auto\", maxWidth: 600 }} elevation={10}>\r\n                <form noValidate onSubmit={this.handleSubmit}>\r\n                    <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                        <img style={{ height: 100 }} src=\"http://natucosmetic.com/wp-content/uploads/2020/03/LOGO-NATU-PNG.png\"></img>\r\n                        <div style={{ flexGrow: 1, margin: 20, textAlign: \"left\" }}>\r\n                            <Typography variant=\"h4\">REGISTRATE</Typography>\r\n                            <Typography component={Link} to=\"/login\" >Ya tienes una cuenta? Inicia sesin aqu</Typography>\r\n                        </div>\r\n                    </div>\r\n                    <Divider />\r\n                    <Typography variant=\"h6\" style={{ marginTop: 20 }}>Informacin personal</Typography>\r\n                    <Input disabled={loading} error={error && error.nombre} onChange={this.handleChange} value={state.nombre} name=\"nombre\" label=\"Nombres Completos\" />\r\n                    <Input disabled={loading} error={error && error.identificacion} onChange={this.handleChange} value={state.identificacion} name=\"identificacion\" label=\"Identificacion (Cedula, pasaporte, etc.)\" type=\"phone\" />\r\n                    <Input disabled={loading} error={error && error.telefono} onChange={this.handleChange} value={state.telefono} name=\"telefono\" label=\"Telefono\" type=\"phone\" />\r\n                    <Input disabled={loading} error={error && error.email} onChange={this.handleChange} value={state.email} name=\"email\" label=\"Correo Electronico\" type=\"email\" />\r\n                    <Input disabled={loading} error={error && error.fechaNacimiento} onChange={this.handleChange} value={state.fechaNacimiento} name=\"fechaNacimiento\" label=\"Fecha de Nacimiento\" type=\"date\" />\r\n\r\n                    <Typography variant=\"h6\" style={{ marginTop: 30 }}>Agrega tu direccin</Typography>\r\n                    <Input disabled={loading} error={error && error.pais} onChange={this.handleChange} value={state.pais} name=\"pais\" label=\"Pais\" />\r\n                    <Input disabled={loading} error={error && error.ciudad} onChange={this.handleChange} value={state.ciudad} name=\"ciudad\" label=\"Ciudad\" />\r\n                    <Input disabled={loading} error={error && error.direccion} onChange={this.handleChange} value={state.direccion} name=\"direccion\" label=\"Direccion\" />\r\n\r\n                    <Typography variant=\"h6\" style={{ marginTop: 30 }}>Crea tu Usuario</Typography>\r\n\r\n                    <Input disabled={loading} error={error && error.username} onChange={this.handleChange} value={state.username} name=\"username\" label=\"Usuario\" />\r\n                    <Password disabled={loading} error={error && error.password} onChange={this.handleChange} value={state.password} name=\"password\" label=\"Contrasea\" />\r\n                    <Password disabled={loading} error={error && error.confirm_password} onChange={this.handleChange} value={state.confirm_password} name=\"confirm_password\" label=\"Confirma tu contrasea\" />\r\n\r\n                    {(error && error.guardar) ? <Typography color=\"secondary\">{error.guardar}</Typography> : null}\r\n                    <Button type=\"submit\" color=\"primary\" variant=\"outlined\" fullWidth style={{ marginTop: 20 }} >\r\n                        {loading ? <CircularProgress size={20} color=\"inherit\" /> : \"ENVIAR\"}\r\n                    </Button>\r\n                </form>\r\n            </Paper>\r\n        </main>);\r\n    }\r\n}\r\nfunction Validar(state: any) {\r\n    const { nombre,\r\n        telefono,\r\n        identificacion,\r\n        email,\r\n        fechaNacimiento,\r\n        pais,\r\n        ciudad,\r\n        direccion,\r\n        username,\r\n        password,\r\n        confirm_password\r\n    } = state;\r\n    const result: any = {};\r\n    if (isEmpty(nombre)) result.nombre = \"Digita tu nombre\";\r\n\r\n    if (isEmpty(telefono)) {\r\n        result.telefono = \"Digita tu telefono\";\r\n    } else {\r\n        if (isNaN(parseInt(telefono))) result.telefono = \"El telefono solo puede contener numeros\";\r\n        if (telefono.length <= 5) result.telefono = \"El telefono debe tener mnimo 6 digitos\";\r\n    }\r\n\r\n    if (isEmpty(identificacion)) {\r\n        result.identificacion = \"Digita tu identificacion\";\r\n    }\r\n\r\n    if (isEmpty(email)) {\r\n        result.email = \"Digita tu email\";\r\n    } else {\r\n        if (email.indexOf(\"@\") === -1) result.email = \"El correo es incorrecto\";\r\n        if (email.indexOf(\".\") === -1) result.email = \"El correo es incorrecto\";\r\n    }\r\n\r\n    if (isEmpty(fechaNacimiento)) {\r\n        result.fechaNacimiento = \"Digita tu fecha de nacimiento\";\r\n    } else {\r\n        if (isNaN(+new Date(fechaNacimiento))) result.fechaNacimiento = \"La fecha no es vlida\";\r\n\r\n    }\r\n\r\n    if (isEmpty(pais)) result.pais = \"Digita tu pais\";\r\n    if (isEmpty(ciudad)) result.ciudad = \"Digita tu ciudad\";\r\n    if (isEmpty(direccion)) result.direccion = \"Digita tu direccion\";\r\n\r\n    if (isEmpty(username)) result.username = \"Digita tu Usuario\";\r\n    if (isEmpty(password)) {\r\n        result.password = \"Digita la contrasea\";\r\n    } else {\r\n        if (password.length < 5) result.password = \"La contrasea debe tener ms de 6 caracteres\";\r\n        if (password.trim() !== confirm_password.trim()) result.confirm_password = \"Las contraseas no concuerdan entre si\";\r\n    }\r\n    if (Object.keys(result).length) {\r\n        var key = Object.keys(result)[0];\r\n        window.requestAnimationFrame(() => document.getElementById(key).focus());\r\n        return result;\r\n    }\r\n    return null;\r\n}\r\nfunction isEmpty(value) {\r\n    return !(value && value.length);\r\n}\r\nfunction Input(props: { name: string, value: any, onChange: any, label: string, type?: string, disabled?: boolean, error?: any }) {\r\n    const { error, type, label, ...other_props } = props;\r\n    var input_props: any = { type, inputProps: { id: props.name } };\r\n    if (error) {\r\n        input_props.error = true;\r\n        input_props.helperText = error;\r\n    }\r\n    if (type === \"date\")\r\n        return (<div style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\", marginBottom: 5, marginTop: 15 }}>\r\n            <FormLabel style={{ paddingTop: 8, marginRight: 5 }}>{label}</FormLabel>\r\n            <TextField\r\n                required\r\n\r\n                {...input_props}\r\n                style={{ flex: 1 }}\r\n                {...other_props}\r\n            />\r\n        </div>);\r\n\r\n    input_props.label = label;\r\n\r\n    return (<TextField\r\n        fullWidth\r\n        required\r\n        {...input_props}\r\n        style={{ marginTop: 5, marginBottom: 5 }}\r\n        {...other_props}\r\n    />);\r\n}\r\nfunction Password(props: any) {\r\n    const { error, ...other_props } = props;\r\n    const [show_password, setPassword] = React.useState(false);\r\n    var input_props: any = { inputProps: { id: props.name } };\r\n    if (error) {\r\n        input_props.error = true;\r\n        input_props.helperText = error;\r\n    }\r\n    return (<TextField\r\n        type={show_password ? \"text\" : \"password\"}\r\n        {...other_props}\r\n        {...input_props}\r\n        fullWidth\r\n        required\r\n        style={{ marginTop: 5, marginBottom: 5 }}\r\n        InputProps={{\r\n            endAdornment: <InputAdornment position=\"end\" >\r\n                <IconButton onClick={x => setPassword(!show_password)}>\r\n                    {show_password ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n            </InputAdornment>\r\n        }}\r\n    />);\r\n}","import React from \"react\";\r\nimport { Router, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { createHashHistory } from \"history\";\r\nimport Login from \"./Components/Login\";\r\nimport Main from \"./Layouts/Main\";\r\nimport API from \"./Services/API\";\r\nimport SignIn from \"./Layouts/SignIn\";\r\n\r\nexport default class App extends React.Component {\r\n    state = { user: null }\r\n    history = createHashHistory();\r\n    constructor(props: any) {\r\n        super(props);\r\n        if (props.user) {\r\n            this.state.user = props.user;\r\n            API.KEY = props.user.token;\r\n        }\r\n    }\r\n    handleLoggedIn = (user) => {\r\n        this.setState({ user });\r\n        // aun esta pendiente, por lo que tiene que ir directamente al curso\r\n        if (user.estado === \"PENDIENTE\")\r\n            return this.history.push(\"/classroom\");\r\n        this.history.push(\"/app\");\r\n        API.KEY = user.token;\r\n    }\r\n    render() {\r\n        const { user } = this.state;\r\n        var user_routes;\r\n        if (user) {\r\n            switch (user.estado) {\r\n                case \"PENDIENTE\":\r\n                    user_routes = <Route>BIENVENIDO A CLASSROOM</Route>;\r\n                    break;\r\n                case \"DESHABILITADO\":\r\n                    user_routes = <Route>USUARIO EST DESHABILITADO</Route>;\r\n                    break;\r\n                default:\r\n                    user_routes = (<Switch>\r\n                        <Route path=\"/classroom\">BIENVENIDO A CLASSROOM</Route>\r\n                        <Route path=\"/app\" render={() => <Main {...user} />} />\r\n                        <Route>\r\n                            <Redirect to=\"/app\" />\r\n                        </Route>\r\n                    </Switch>);\r\n                    break;\r\n            }\r\n        }\r\n        return (<Router history={this.history} >\r\n            {user\r\n                ? user_routes\r\n                : (<Switch>\r\n                    <Route path=\"/signin\" component={SignIn} />\r\n                    <Route path=\"/recover-password\">AQUI PUEDE RECUPERAR TU CONTRAEA</Route>\r\n                    <Route path=\"/login\" render={_ => <Login onLoggedIn={this.handleLoggedIn} />} />\r\n                    <Route>\r\n                        <Redirect to=\"/login\" />\r\n                    </Route>\r\n                </Switch>)\r\n            }\r\n        </Router>)\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport App from \"./App\";\n/**\n    <React.StrictMode>\n    </React.StrictMode> */\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}